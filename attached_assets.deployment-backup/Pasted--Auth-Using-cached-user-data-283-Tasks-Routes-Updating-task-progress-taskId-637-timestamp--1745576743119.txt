[Auth] Using cached user data: 283
[Tasks Routes] Updating task progress: { taskId: 637, timestamp: '2025-04-25T10:25:01.819Z' }
===============================================
[SERVER DEBUG] PREPARING RESPONSE at 2025-04-25T10:25:01.842Z
[SERVER DEBUG] Found 30 fields in database after update
===============================================
[SERVER DEBUG] Checking field corporateRegistration in updated data: ""
[SERVER DEBUG] Checking field goodStanding in updated data: ""
[SERVER DEBUG] Checking field regulatoryActions in updated data: ""
[SERVER DEBUG] Checking field investigationsIncidents in updated data: ""
[SERVER DEBUG] No fields with value "asdf" found in response data
[SERVER DEBUG] Sending response with 30 fields, status: not_started, progress: 0%
[SERVER DEBUG] Updating task.savedFormData to ensure persistence across navigation
[SERVER DEBUG] ✅ Successfully updated task.savedFormData with latest form data
===============================================
[Task Reconciliation] Found 30 responses for task 637 (type: company_kyb)
[STATUS DETERMINATION] Calculating status for task with: {
  progress: 0,
  currentStatus: 'not_started',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  hasResponses: true,
  timestamp: '2025-04-25T10:25:01.886Z'
}
[STATUS DETERMINATION] Task has incomplete required fields, setting to IN_PROGRESS
[Task Reconciliation] Progress calculation: {
  taskId: 637,
  currentProgress: 0,
  calculatedProgress: 0,
  currentStatus: 'not_started',
  calculatedStatus: 'in_progress',
  responseCount: 30,
  completeCount: 0
}
[Task Reconciliation] Correcting task 637: {
  progressFrom: 0,
  progressTo: 0,
  statusFrom: 'not_started',
  statusTo: 'in_progress',
  forceUpdate: true
}
10:25:01 AM [info] POST /api/kyb/progress 200 in 2904ms :: {"success":true,"savedData":{"progress":0,"status":"not_started","formData":{...
[Progress Utils] Broadcasting task progress update: {
  taskId: 637,
  progress: 0,
  requestedStatus: 'in_progress',
  finalStatus: 'in_progress',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  timestamp: '2025-04-25T10:25:01.919Z'
}
[WebSocket] Broadcast "task_updated" sent to 3 clients {
  type: 'task_updated',
  dataKeys: [ 'id', 'status', 'progress', 'metadata', 'timestamp' ],
  timestamp: '2025-04-25T10:25:01.919Z',
  clientCount: 3
}
[Tasks Routes] Task progress reconciled: {
  taskId: 637,
  progress: 0,
  status: 'in_progress',
  timestamp: '2025-04-25T10:25:01.950Z'
}
[Tasks Routes] Fetching task by ID (special .json endpoint): {
  taskId: 637,
  userCompanyId: 241,
  timestamp: '2025-04-25T10:25:01.961Z'
}
10:25:01 AM [info] POST /api/tasks/637/update-progress 200 in 164ms :: {"success":true,"progress":0,"status":"in_progress","taskId":637}
[Tasks Routes] Fetching latest KYB form data for task (special .json endpoint): 637
[Tasks Routes] Found 30 KYB responses for task 637 (special .json endpoint)
[Tasks Routes] Constructed form data with 30 fields (special .json endpoint)
[Tasks Routes] Task found by ID (special .json endpoint): {
  taskId: 637,
  title: '1. KYB Form: DevTest32',
  type: 'company_kyb',
  formDataFields: 30,
  timestamp: '2025-04-25T10:25:02.049Z'
}
10:25:02 AM [info] GET /api/tasks.json/637 200 in 118ms :: {"id":637,"title":"1. KYB Form: DevTest32","description":"Complete KYB verifi...
[Tasks Routes] Fetching task by ID (special .json endpoint): {
  taskId: 637,
  userCompanyId: 241,
  timestamp: '2025-04-25T10:25:02.227Z'
}
[Tasks Routes] Fetching latest KYB form data for task (special .json endpoint): 637
[Tasks Routes] Found 30 KYB responses for task 637 (special .json endpoint)
[Tasks Routes] Constructed form data with 30 fields (special .json endpoint)
[Tasks Routes] Task found by ID (special .json endpoint): {
  taskId: 637,
  title: '1. KYB Form: DevTest32',
  type: 'company_kyb',
  formDataFields: 30,
  timestamp: '2025-04-25T10:25:02.321Z'
}
10:25:02 AM [info] GET /api/tasks.json/637 304 in 126ms :: {"id":637,"title":"1. KYB Form: DevTest32","description":"Complete KYB verifi...
[TimestampHandler] Saving 30 timestamps for task 637
[TimestampHandler] Successfully saved timestamps for task 637
[TimestampAPI] Saved 30 timestamps for task 637
10:25:02 AM [info] POST /api/kyb/timestamps/637 200 in 63ms :: {"message":"Timestamps saved successfully","count":30}
===============================================
[SERVER DEBUG] KYB PROGRESS SAVE REQUEST RECEIVED at 2025-04-25T10:25:02.768Z
===============================================
Task ID: 637
Progress: 0
Status: not_started
Field count: 30
Sample form data values:
- goodStanding: "" (string)
- corporateRegistration: "" (string)
- externalAudit: "" (string)
- controlEnvironment: "" (string)
- authorizedSigners: "" (string)
Request details:
- Method: POST
- Content-Type: application/json
- Content-Length: 1740
===============================================
===============================================
[SERVER DEBUG] PROCESSING FORM DATA FIELDS AT 2025-04-25T10:25:02.828Z
[SERVER DEBUG] Task ID: 637, Field count: 30
===============================================
[SERVER DEBUG] COMPLETE FORM DATA DUMP:
[SERVER DEBUG] goodStanding: "" (string)
[SERVER DEBUG] corporateRegistration: "" (string)
[SERVER DEBUG] externalAudit: "" (string)
[SERVER DEBUG] controlEnvironment: "" (string)
[SERVER DEBUG] authorizedSigners: "" (string)
[SERVER DEBUG] governmentOwnership: "" (string)
[SERVER DEBUG] ultimateBeneficialOwners: "" (string)
[SERVER DEBUG] directorsAndOfficers: "" (string)
[SERVER DEBUG] contactEmail: "" (string)
[SERVER DEBUG] marketCapitalization: "" (string)
[SERVER DEBUG] lifetimeCustomerValue: "" (string)
[SERVER DEBUG] annualRecurringRevenue: "" (string)
[SERVER DEBUG] monthlyRecurringRevenue: "" (string)
[SERVER DEBUG] investigationsIncidents: "" (string)
[SERVER DEBUG] financialStatements: "" (string)
[SERVER DEBUG] operationalPolicies: "" (string)
[SERVER DEBUG] dataVolume: "" (string)
[SERVER DEBUG] dataTypes: "" (string)
[SERVER DEBUG] sanctionsCheck: "" (string)
[SERVER DEBUG] dueDiligence: "" (string)
[SERVER DEBUG] regulatoryActions: "" (string)
[SERVER DEBUG] legalEntityName: "" (string)
[SERVER DEBUG] registrationNumber: "" (string)
[SERVER DEBUG] incorporationDate: "" (string)
[SERVER DEBUG] businessType: "" (string)
[SERVER DEBUG] jurisdiction: "" (string)
[SERVER DEBUG] registeredAddress: "" (string)
[SERVER DEBUG] companyPhone: "" (string)
[SERVER DEBUG] priorNames: "" (string)
[SERVER DEBUG] licenses: "" (string)
[SERVER DEBUG] END OF FORM DATA DUMP
[SERVER DEBUG] No fields with value "asdf" found in incoming data
[SERVER DEBUG] Processing field: "goodStanding" (ID: 10)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "goodStanding" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: goodStanding
[SERVER DEBUG] - field_id: 10
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "goodStanding":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "goodStanding" (ID: 3894)
[SERVER DEBUG] --- Finished processing field "goodStanding" ---

[SERVER DEBUG] Processing field: "corporateRegistration" (ID: 11)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "corporateRegistration" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: corporateRegistration
[SERVER DEBUG] - field_id: 11
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "corporateRegistration":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "corporateRegistration" (ID: 3895)
[SERVER DEBUG] --- Finished processing field "corporateRegistration" ---

[SERVER DEBUG] Processing field: "externalAudit" (ID: 12)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "externalAudit" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: externalAudit
[SERVER DEBUG] - field_id: 12
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "externalAudit":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "externalAudit" (ID: 3896)
[SERVER DEBUG] --- Finished processing field "externalAudit" ---

[SERVER DEBUG] Processing field: "controlEnvironment" (ID: 13)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "controlEnvironment" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: controlEnvironment
[SERVER DEBUG] - field_id: 13
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "controlEnvironment":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "controlEnvironment" (ID: 3897)
[SERVER DEBUG] --- Finished processing field "controlEnvironment" ---

[SERVER DEBUG] Processing field: "authorizedSigners" (ID: 14)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "authorizedSigners" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: authorizedSigners
[SERVER DEBUG] - field_id: 14
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "authorizedSigners":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "authorizedSigners" (ID: 3898)
[SERVER DEBUG] --- Finished processing field "authorizedSigners" ---

[SERVER DEBUG] Processing field: "governmentOwnership" (ID: 15)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "governmentOwnership" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: governmentOwnership
[SERVER DEBUG] - field_id: 15
[SERVER DEBUG] - response_value: ""
[Tasks Routes] Updating task progress: { taskId: 637, timestamp: '2025-04-25T10:25:03.319Z' }
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "governmentOwnership":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "governmentOwnership" (ID: 3899)
[SERVER DEBUG] --- Finished processing field "governmentOwnership" ---

[SERVER DEBUG] Processing field: "ultimateBeneficialOwners" (ID: 16)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[Task Reconciliation] Found 30 responses for task 637 (type: company_kyb)
[STATUS DETERMINATION] Calculating status for task with: {
  progress: 0,
  currentStatus: 'in_progress',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  hasResponses: true,
  timestamp: '2025-04-25T10:25:03.380Z'
}
[STATUS DETERMINATION] Task has incomplete required fields, setting to IN_PROGRESS
[Task Reconciliation] Progress calculation: {
  taskId: 637,
  currentProgress: 0,
  calculatedProgress: 0,
  currentStatus: 'in_progress',
  calculatedStatus: 'in_progress',
  responseCount: 30,
  completeCount: 0
}
[Task Reconciliation] Correcting task 637: {
  progressFrom: 0,
  progressTo: 0,
  statusFrom: 'in_progress',
  statusTo: 'in_progress',
  forceUpdate: true
}
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "ultimateBeneficialOwners" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: ultimateBeneficialOwners
[SERVER DEBUG] - field_id: 16
[SERVER DEBUG] - response_value: ""
[Progress Utils] Broadcasting task progress update: {
  taskId: 637,
  progress: 0,
  requestedStatus: 'in_progress',
  finalStatus: 'in_progress',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  timestamp: '2025-04-25T10:25:03.413Z'
}
[WebSocket] Broadcast "task_updated" sent to 3 clients {
  type: 'task_updated',
  dataKeys: [ 'id', 'status', 'progress', 'metadata', 'timestamp' ],
  timestamp: '2025-04-25T10:25:03.413Z',
  clientCount: 3
}
[Tasks Routes] Task progress reconciled: {
  taskId: 637,
  progress: 0,
  status: 'in_progress',
  timestamp: '2025-04-25T10:25:03.444Z'
}
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "ultimateBeneficialOwners":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "ultimateBeneficialOwners" (ID: 3900)
[SERVER DEBUG] --- Finished processing field "ultimateBeneficialOwners" ---

[SERVER DEBUG] Processing field: "directorsAndOfficers" (ID: 17)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
10:25:03 AM [info] POST /api/tasks/637/update-progress 200 in 157ms :: {"success":true,"progress":0,"status":"in_progress","taskId":637}
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "directorsAndOfficers" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: directorsAndOfficers
[SERVER DEBUG] - field_id: 17
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "directorsAndOfficers":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "directorsAndOfficers" (ID: 3901)
[SERVER DEBUG] --- Finished processing field "directorsAndOfficers" ---

[SERVER DEBUG] Processing field: "contactEmail" (ID: 18)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[Tasks Routes] Fetching task by ID (special .json endpoint): {
  taskId: 637,
  userCompanyId: 241,
  timestamp: '2025-04-25T10:25:03.569Z'
}
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "contactEmail" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: contactEmail
[SERVER DEBUG] - field_id: 18
[SERVER DEBUG] - response_value: ""
[Tasks Routes] Fetching latest KYB form data for task (special .json endpoint): 637
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "contactEmail":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "contactEmail" (ID: 3902)
[SERVER DEBUG] --- Finished processing field "contactEmail" ---

[SERVER DEBUG] Processing field: "marketCapitalization" (ID: 19)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "marketCapitalization" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: marketCapitalization
[SERVER DEBUG] - field_id: 19
[SERVER DEBUG] - response_value: ""
[Tasks Routes] Found 30 KYB responses for task 637 (special .json endpoint)
[Tasks Routes] Constructed form data with 30 fields (special .json endpoint)
[Tasks Routes] Task found by ID (special .json endpoint): {
  taskId: 637,
  title: '1. KYB Form: DevTest32',
  type: 'company_kyb',
  formDataFields: 30,
  timestamp: '2025-04-25T10:25:03.665Z'
}
10:25:03 AM [info] GET /api/tasks.json/637 200 in 128ms :: {"id":637,"title":"1. KYB Form: DevTest32","description":"Complete KYB verifi...
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "marketCapitalization":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "marketCapitalization" (ID: 3903)
[SERVER DEBUG] --- Finished processing field "marketCapitalization" ---

[SERVER DEBUG] Processing field: "lifetimeCustomerValue" (ID: 20)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "lifetimeCustomerValue" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: lifetimeCustomerValue
[SERVER DEBUG] - field_id: 20
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "lifetimeCustomerValue":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "lifetimeCustomerValue" (ID: 3904)
[SERVER DEBUG] --- Finished processing field "lifetimeCustomerValue" ---

[SERVER DEBUG] Processing field: "annualRecurringRevenue" (ID: 21)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "annualRecurringRevenue" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: annualRecurringRevenue
[SERVER DEBUG] - field_id: 21
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "annualRecurringRevenue":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "annualRecurringRevenue" (ID: 3905)
[SERVER DEBUG] --- Finished processing field "annualRecurringRevenue" ---

[SERVER DEBUG] Processing field: "monthlyRecurringRevenue" (ID: 22)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "monthlyRecurringRevenue" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: monthlyRecurringRevenue
[SERVER DEBUG] - field_id: 22
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "monthlyRecurringRevenue":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "monthlyRecurringRevenue" (ID: 3906)
[SERVER DEBUG] --- Finished processing field "monthlyRecurringRevenue" ---

[SERVER DEBUG] Processing field: "investigationsIncidents" (ID: 23)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "investigationsIncidents" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: investigationsIncidents
[SERVER DEBUG] - field_id: 23
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "investigationsIncidents":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "investigationsIncidents" (ID: 3907)
[SERVER DEBUG] --- Finished processing field "investigationsIncidents" ---

[SERVER DEBUG] Processing field: "financialStatements" (ID: 24)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "financialStatements" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: financialStatements
[SERVER DEBUG] - field_id: 24
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "financialStatements":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "financialStatements" (ID: 3908)
[SERVER DEBUG] --- Finished processing field "financialStatements" ---

[SERVER DEBUG] Processing field: "operationalPolicies" (ID: 25)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "operationalPolicies" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: operationalPolicies
[SERVER DEBUG] - field_id: 25
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "operationalPolicies":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "operationalPolicies" (ID: 3879)
[SERVER DEBUG] --- Finished processing field "operationalPolicies" ---

[SERVER DEBUG] Processing field: "dataVolume" (ID: 26)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "dataVolume" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: dataVolume
[SERVER DEBUG] - field_id: 26
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "dataVolume":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "dataVolume" (ID: 3880)
[SERVER DEBUG] --- Finished processing field "dataVolume" ---

[SERVER DEBUG] Processing field: "dataTypes" (ID: 27)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "dataTypes" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: dataTypes
[SERVER DEBUG] - field_id: 27
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "dataTypes":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "dataTypes" (ID: 3881)
[SERVER DEBUG] --- Finished processing field "dataTypes" ---

[SERVER DEBUG] Processing field: "sanctionsCheck" (ID: 28)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "sanctionsCheck" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: sanctionsCheck
[SERVER DEBUG] - field_id: 28
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "sanctionsCheck":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "sanctionsCheck" (ID: 3882)
[SERVER DEBUG] --- Finished processing field "sanctionsCheck" ---

[SERVER DEBUG] Processing field: "dueDiligence" (ID: 29)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "dueDiligence" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: dueDiligence
[SERVER DEBUG] - field_id: 29
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "dueDiligence":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "dueDiligence" (ID: 3883)
[SERVER DEBUG] --- Finished processing field "dueDiligence" ---

[SERVER DEBUG] Processing field: "regulatoryActions" (ID: 30)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "regulatoryActions" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: regulatoryActions
[SERVER DEBUG] - field_id: 30
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "regulatoryActions":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "regulatoryActions" (ID: 3884)
[SERVER DEBUG] --- Finished processing field "regulatoryActions" ---

[SERVER DEBUG] Processing field: "legalEntityName" (ID: 1)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[Tasks Routes] Updating task progress: { taskId: 637, timestamp: '2025-04-25T10:25:04.810Z' }
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "legalEntityName" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: legalEntityName
[SERVER DEBUG] - field_id: 1
[SERVER DEBUG] - response_value: ""
[Task Reconciliation] Found 30 responses for task 637 (type: company_kyb)
[STATUS DETERMINATION] Calculating status for task with: {
  progress: 0,
  currentStatus: 'in_progress',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  hasResponses: true,
  timestamp: '2025-04-25T10:25:04.874Z'
}
[STATUS DETERMINATION] Task has incomplete required fields, setting to IN_PROGRESS
[Task Reconciliation] Progress calculation: {
  taskId: 637,
  currentProgress: 0,
  calculatedProgress: 0,
  currentStatus: 'in_progress',
  calculatedStatus: 'in_progress',
  responseCount: 30,
  completeCount: 0
}
[Task Reconciliation] Correcting task 637: {
  progressFrom: 0,
  progressTo: 0,
  statusFrom: 'in_progress',
  statusTo: 'in_progress',
  forceUpdate: true
}
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "legalEntityName":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "legalEntityName" (ID: 3885)
[SERVER DEBUG] Broadcasting legalEntityName update via WebSocket: ""
[WebSocket] Broadcast "field_update" sent to 3 clients {
  type: 'field_update',
  dataKeys: [ 'taskId', 'fieldId', 'timestamp' ],
  timestamp: '2025-04-25T10:25:04.889Z',
  clientCount: 3
}
[SERVER DEBUG] --- Finished processing field "legalEntityName" ---

[SERVER DEBUG] Processing field: "registrationNumber" (ID: 2)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[Progress Utils] Broadcasting task progress update: {
  taskId: 637,
  progress: 0,
  requestedStatus: 'in_progress',
  finalStatus: 'in_progress',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  timestamp: '2025-04-25T10:25:04.906Z'
}
[WebSocket] Broadcast "task_updated" sent to 3 clients {
  type: 'task_updated',
  dataKeys: [ 'id', 'status', 'progress', 'metadata', 'timestamp' ],
  timestamp: '2025-04-25T10:25:04.906Z',
  clientCount: 3
}
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "registrationNumber" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: registrationNumber
[SERVER DEBUG] - field_id: 2
[SERVER DEBUG] - response_value: ""
[Tasks Routes] Task progress reconciled: {
  taskId: 637,
  progress: 0,
  status: 'in_progress',
  timestamp: '2025-04-25T10:25:04.937Z'
}
10:25:04 AM [info] POST /api/tasks/637/update-progress 200 in 163ms :: {"success":true,"progress":0,"status":"in_progress","taskId":637}
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "registrationNumber":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "registrationNumber" (ID: 3886)
[SERVER DEBUG] --- Finished processing field "registrationNumber" ---

[SERVER DEBUG] Processing field: "incorporationDate" (ID: 3)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "incorporationDate" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: incorporationDate
[SERVER DEBUG] - field_id: 3
[SERVER DEBUG] - response_value: ""
[Auth] Using cached user data: 283
[Tasks Routes] Fetching task by ID (special .json endpoint): {
  taskId: 637,
  userCompanyId: 241,
  timestamp: '2025-04-25T10:25:05.059Z'
}
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "incorporationDate":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "incorporationDate" (ID: 3887)
[SERVER DEBUG] --- Finished processing field "incorporationDate" ---

[SERVER DEBUG] Processing field: "businessType" (ID: 4)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[Tasks Routes] Fetching latest KYB form data for task (special .json endpoint): 637
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "businessType" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: businessType
[SERVER DEBUG] - field_id: 4
[SERVER DEBUG] - response_value: ""
[Tasks Routes] Found 30 KYB responses for task 637 (special .json endpoint)
[Tasks Routes] Constructed form data with 30 fields (special .json endpoint)
[Tasks Routes] Task found by ID (special .json endpoint): {
  taskId: 637,
  title: '1. KYB Form: DevTest32',
  type: 'company_kyb',
  formDataFields: 30,
  timestamp: '2025-04-25T10:25:05.152Z'
}
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "businessType":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "businessType" (ID: 3888)
[SERVER DEBUG] --- Finished processing field "businessType" ---

[SERVER DEBUG] Processing field: "jurisdiction" (ID: 5)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
10:25:05 AM [info] GET /api/tasks.json/637 200 in 127ms :: {"id":637,"title":"1. KYB Form: DevTest32","description":"Complete KYB verifi...
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "jurisdiction" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: jurisdiction
[SERVER DEBUG] - field_id: 5
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "jurisdiction":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "jurisdiction" (ID: 3889)
[SERVER DEBUG] --- Finished processing field "jurisdiction" ---

[SERVER DEBUG] Processing field: "registeredAddress" (ID: 6)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "registeredAddress" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: registeredAddress
[SERVER DEBUG] - field_id: 6
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "registeredAddress":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "registeredAddress" (ID: 3890)
[SERVER DEBUG] --- Finished processing field "registeredAddress" ---

[SERVER DEBUG] Processing field: "companyPhone" (ID: 7)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "companyPhone" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: companyPhone
[SERVER DEBUG] - field_id: 7
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "companyPhone":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "companyPhone" (ID: 3891)
[SERVER DEBUG] --- Finished processing field "companyPhone" ---

[SERVER DEBUG] Processing field: "priorNames" (ID: 8)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "priorNames" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: priorNames
[SERVER DEBUG] - field_id: 8
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "priorNames":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "priorNames" (ID: 3892)
[SERVER DEBUG] --- Finished processing field "priorNames" ---

[SERVER DEBUG] Processing field: "licenses" (ID: 9)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "licenses" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: licenses
[SERVER DEBUG] - field_id: 9
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "licenses":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "licenses" (ID: 3893)
[SERVER DEBUG] --- Finished processing field "licenses" ---

[KYB API Debug] Using client-provided status: not_started
[WebSocket] Broadcasting task update for task 637: progress=0, status=not_started
[WebSocket] Broadcast "task_updated" sent to 3 clients {
  type: 'task_updated',
  dataKeys: [ 'id', 'status', 'progress', 'metadata', 'timestamp' ],
  timestamp: '2025-04-25T10:25:05.685Z',
  clientCount: 3
}
===============================================
[SERVER DEBUG] PREPARING RESPONSE at 2025-04-25T10:25:05.716Z
[SERVER DEBUG] Found 30 fields in database after update
===============================================
[SERVER DEBUG] Checking field corporateRegistration in updated data: ""
[SERVER DEBUG] Checking field goodStanding in updated data: ""
[SERVER DEBUG] Checking field regulatoryActions in updated data: ""
[SERVER DEBUG] Checking field investigationsIncidents in updated data: ""
[SERVER DEBUG] No fields with value "asdf" found in response data
[SERVER DEBUG] Sending response with 30 fields, status: not_started, progress: 0%
[SERVER DEBUG] Updating task.savedFormData to ensure persistence across navigation
[SERVER DEBUG] ✅ Successfully updated task.savedFormData with latest form data
===============================================
10:25:05 AM [info] POST /api/kyb/progress 200 in 3009ms :: {"success":true,"savedData":{"progress":0,"status":"not_started","formData":{...
[Tasks Routes] Fetching task by ID (special .json endpoint): {
  taskId: 637,
  userCompanyId: 241,
  timestamp: '2025-04-25T10:25:05.834Z'
}
[Tasks Routes] Fetching latest KYB form data for task (special .json endpoint): 637
[Tasks Routes] Found 30 KYB responses for task 637 (special .json endpoint)
[Tasks Routes] Constructed form data with 30 fields (special .json endpoint)
[Tasks Routes] Task found by ID (special .json endpoint): {
  taskId: 637,
  title: '1. KYB Form: DevTest32',
  type: 'company_kyb',
  formDataFields: 30,
  timestamp: '2025-04-25T10:25:05.942Z'
}
10:25:05 AM [info] GET /api/tasks.json/637 200 in 139ms :: {"id":637,"title":"1. KYB Form: DevTest32","description":"Complete KYB verifi...
[Tasks Routes] Updating task progress: { taskId: 637, timestamp: '2025-04-25T10:25:06.309Z' }
[Task Reconciliation] Found 30 responses for task 637 (type: company_kyb)
[STATUS DETERMINATION] Calculating status for task with: {
  progress: 0,
  currentStatus: 'not_started',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  hasResponses: true,
  timestamp: '2025-04-25T10:25:06.368Z'
}
[STATUS DETERMINATION] Task has incomplete required fields, setting to IN_PROGRESS
[Task Reconciliation] Progress calculation: {
  taskId: 637,
  currentProgress: 0,
  calculatedProgress: 0,
  currentStatus: 'not_started',
  calculatedStatus: 'in_progress',
  responseCount: 30,
  completeCount: 0
}
[Task Reconciliation] Correcting task 637: {
  progressFrom: 0,
  progressTo: 0,
  statusFrom: 'not_started',
  statusTo: 'in_progress',
  forceUpdate: true
}
[Progress Utils] Broadcasting task progress update: {
  taskId: 637,
  progress: 0,
  requestedStatus: 'in_progress',
  finalStatus: 'in_progress',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  timestamp: '2025-04-25T10:25:06.399Z'
}
[WebSocket] Broadcast "task_updated" sent to 3 clients {
  type: 'task_updated',
  dataKeys: [ 'id', 'status', 'progress', 'metadata', 'timestamp' ],
  timestamp: '2025-04-25T10:25:06.399Z',
  clientCount: 3
}
[Tasks Routes] Task progress reconciled: {
  taskId: 637,
  progress: 0,
  status: 'in_progress',
  timestamp: '2025-04-25T10:25:06.429Z'
}
10:25:06 AM [info] POST /api/tasks/637/update-progress 200 in 151ms :: {"success":true,"progress":0,"status":"in_progress","taskId":637}
[Tasks Routes] Fetching task by ID (special .json endpoint): {
  taskId: 637,
  userCompanyId: 241,
  timestamp: '2025-04-25T10:25:06.605Z'
}
[Tasks Routes] Fetching latest KYB form data for task (special .json endpoint): 637
[Tasks Routes] Found 30 KYB responses for task 637 (special .json endpoint)
[Tasks Routes] Constructed form data with 30 fields (special .json endpoint)
[Tasks Routes] Task found by ID (special .json endpoint): {
  taskId: 637,
  title: '1. KYB Form: DevTest32',
  type: 'company_kyb',
  formDataFields: 30,
  timestamp: '2025-04-25T10:25:06.694Z'
}
10:25:06 AM [info] GET /api/tasks.json/637 200 in 120ms :: {"id":637,"title":"1. KYB Form: DevTest32","description":"Complete KYB verifi...
[TimestampHandler] Saving 30 timestamps for task 637
[TimestampHandler] Successfully saved timestamps for task 637
[TimestampAPI] Saved 30 timestamps for task 637
10:25:06 AM [info] POST /api/kyb/timestamps/637 200 in 64ms :: {"message":"Timestamps saved successfully","count":30}
===============================================
[SERVER DEBUG] KYB PROGRESS SAVE REQUEST RECEIVED at 2025-04-25T10:25:07.021Z
===============================================
Task ID: 637
Progress: 0
Status: not_started
Field count: 30
Sample form data values:
- goodStanding: "" (string)
- corporateRegistration: "" (string)
- externalAudit: "" (string)
- controlEnvironment: "" (string)
- authorizedSigners: "" (string)
Request details:
- Method: POST
- Content-Type: application/json
- Content-Length: 1740
===============================================
===============================================
[SERVER DEBUG] PROCESSING FORM DATA FIELDS AT 2025-04-25T10:25:07.080Z
[SERVER DEBUG] Task ID: 637, Field count: 30
===============================================
[SERVER DEBUG] COMPLETE FORM DATA DUMP:
[SERVER DEBUG] goodStanding: "" (string)
[SERVER DEBUG] corporateRegistration: "" (string)
[SERVER DEBUG] externalAudit: "" (string)
[SERVER DEBUG] controlEnvironment: "" (string)
[SERVER DEBUG] authorizedSigners: "" (string)
[SERVER DEBUG] governmentOwnership: "" (string)
[SERVER DEBUG] ultimateBeneficialOwners: "" (string)
[SERVER DEBUG] directorsAndOfficers: "" (string)
[SERVER DEBUG] contactEmail: "" (string)
[SERVER DEBUG] marketCapitalization: "" (string)
[SERVER DEBUG] lifetimeCustomerValue: "" (string)
[SERVER DEBUG] annualRecurringRevenue: "" (string)
[SERVER DEBUG] monthlyRecurringRevenue: "" (string)
[SERVER DEBUG] investigationsIncidents: "" (string)
[SERVER DEBUG] financialStatements: "" (string)
[SERVER DEBUG] operationalPolicies: "" (string)
[SERVER DEBUG] dataVolume: "" (string)
[SERVER DEBUG] dataTypes: "" (string)
[SERVER DEBUG] sanctionsCheck: "" (string)
[SERVER DEBUG] dueDiligence: "" (string)
[SERVER DEBUG] regulatoryActions: "" (string)
[SERVER DEBUG] legalEntityName: "" (string)
[SERVER DEBUG] registrationNumber: "" (string)
[SERVER DEBUG] incorporationDate: "" (string)
[SERVER DEBUG] businessType: "" (string)
[SERVER DEBUG] jurisdiction: "" (string)
[SERVER DEBUG] registeredAddress: "" (string)
[SERVER DEBUG] companyPhone: "" (string)
[SERVER DEBUG] priorNames: "" (string)
[SERVER DEBUG] licenses: "" (string)
[SERVER DEBUG] END OF FORM DATA DUMP
[SERVER DEBUG] No fields with value "asdf" found in incoming data
[SERVER DEBUG] Processing field: "goodStanding" (ID: 10)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "goodStanding" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: goodStanding
[SERVER DEBUG] - field_id: 10
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "goodStanding":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "goodStanding" (ID: 3894)
[SERVER DEBUG] --- Finished processing field "goodStanding" ---

[SERVER DEBUG] Processing field: "corporateRegistration" (ID: 11)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "corporateRegistration" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: corporateRegistration
[SERVER DEBUG] - field_id: 11
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "corporateRegistration":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "corporateRegistration" (ID: 3895)
[SERVER DEBUG] --- Finished processing field "corporateRegistration" ---

[SERVER DEBUG] Processing field: "externalAudit" (ID: 12)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
10:25:07 AM [info] GET /api/companies/current 304 in 32ms :: {"id":241,"name":"DevTest32","category":"FinTech","is_demo":true,"revenue_tie...
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "externalAudit" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: externalAudit
[SERVER DEBUG] - field_id: 12
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "externalAudit":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "externalAudit" (ID: 3896)
[SERVER DEBUG] --- Finished processing field "externalAudit" ---

[SERVER DEBUG] Processing field: "controlEnvironment" (ID: 13)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "controlEnvironment" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: controlEnvironment
[SERVER DEBUG] - field_id: 13
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "controlEnvironment":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "controlEnvironment" (ID: 3897)
[SERVER DEBUG] --- Finished processing field "controlEnvironment" ---

[SERVER DEBUG] Processing field: "authorizedSigners" (ID: 14)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "authorizedSigners" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: authorizedSigners
[SERVER DEBUG] - field_id: 14
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "authorizedSigners":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "authorizedSigners" (ID: 3898)
[SERVER DEBUG] --- Finished processing field "authorizedSigners" ---

[SERVER DEBUG] Processing field: "governmentOwnership" (ID: 15)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "governmentOwnership" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: governmentOwnership
[SERVER DEBUG] - field_id: 15
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "governmentOwnership":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "governmentOwnership" (ID: 3899)
[SERVER DEBUG] --- Finished processing field "governmentOwnership" ---

[SERVER DEBUG] Processing field: "ultimateBeneficialOwners" (ID: 16)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "ultimateBeneficialOwners" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: ultimateBeneficialOwners
[SERVER DEBUG] - field_id: 16
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "ultimateBeneficialOwners":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "ultimateBeneficialOwners" (ID: 3900)
[SERVER DEBUG] --- Finished processing field "ultimateBeneficialOwners" ---

[SERVER DEBUG] Processing field: "directorsAndOfficers" (ID: 17)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "directorsAndOfficers" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: directorsAndOfficers
[SERVER DEBUG] - field_id: 17
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "directorsAndOfficers":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "directorsAndOfficers" (ID: 3901)
[SERVER DEBUG] --- Finished processing field "directorsAndOfficers" ---

[SERVER DEBUG] Processing field: "contactEmail" (ID: 18)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[Tasks Routes] Updating task progress: { taskId: 637, timestamp: '2025-04-25T10:25:07.812Z' }
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "contactEmail" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: contactEmail
[SERVER DEBUG] - field_id: 18
[SERVER DEBUG] - response_value: ""
[Task Reconciliation] Found 30 responses for task 637 (type: company_kyb)
[STATUS DETERMINATION] Calculating status for task with: {
  progress: 0,
  currentStatus: 'in_progress',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  hasResponses: true,
  timestamp: '2025-04-25T10:25:07.873Z'
}
[STATUS DETERMINATION] Task has incomplete required fields, setting to IN_PROGRESS
[Task Reconciliation] Progress calculation: {
  taskId: 637,
  currentProgress: 0,
  calculatedProgress: 0,
  currentStatus: 'in_progress',
  calculatedStatus: 'in_progress',
  responseCount: 30,
  completeCount: 0
}
[Task Reconciliation] Correcting task 637: {
  progressFrom: 0,
  progressTo: 0,
  statusFrom: 'in_progress',
  statusTo: 'in_progress',
  forceUpdate: true
}
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "contactEmail":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "contactEmail" (ID: 3902)
[SERVER DEBUG] --- Finished processing field "contactEmail" ---

[SERVER DEBUG] Processing field: "marketCapitalization" (ID: 19)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[Progress Utils] Broadcasting task progress update: {
  taskId: 637,
  progress: 0,
  requestedStatus: 'in_progress',
  finalStatus: 'in_progress',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  timestamp: '2025-04-25T10:25:07.905Z'
}
[WebSocket] Broadcast "task_updated" sent to 3 clients {
  type: 'task_updated',
  dataKeys: [ 'id', 'status', 'progress', 'metadata', 'timestamp' ],
  timestamp: '2025-04-25T10:25:07.905Z',
  clientCount: 3
}
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "marketCapitalization" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: marketCapitalization
[SERVER DEBUG] - field_id: 19
[SERVER DEBUG] - response_value: ""
[Tasks Routes] Task progress reconciled: {
  taskId: 637,
  progress: 0,
  status: 'in_progress',
  timestamp: '2025-04-25T10:25:07.936Z'
}
10:25:07 AM [info] POST /api/tasks/637/update-progress 200 in 156ms :: {"success":true,"progress":0,"status":"in_progress","taskId":637}
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "marketCapitalization":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "marketCapitalization" (ID: 3903)
[SERVER DEBUG] --- Finished processing field "marketCapitalization" ---

[SERVER DEBUG] Processing field: "lifetimeCustomerValue" (ID: 20)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "lifetimeCustomerValue" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: lifetimeCustomerValue
[SERVER DEBUG] - field_id: 20
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "lifetimeCustomerValue":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "lifetimeCustomerValue" (ID: 3904)
[SERVER DEBUG] --- Finished processing field "lifetimeCustomerValue" ---

[SERVER DEBUG] Processing field: "annualRecurringRevenue" (ID: 21)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "annualRecurringRevenue" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: annualRecurringRevenue
[SERVER DEBUG] - field_id: 21
[SERVER DEBUG] - response_value: ""
[Tasks Routes] Fetching task by ID (special .json endpoint): {
  taskId: 637,
  userCompanyId: 241,
  timestamp: '2025-04-25T10:25:08.122Z'
}
[Tasks Routes] Fetching latest KYB form data for task (special .json endpoint): 637
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "annualRecurringRevenue":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "annualRecurringRevenue" (ID: 3905)
[SERVER DEBUG] --- Finished processing field "annualRecurringRevenue" ---

[SERVER DEBUG] Processing field: "monthlyRecurringRevenue" (ID: 22)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "monthlyRecurringRevenue" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: monthlyRecurringRevenue
[SERVER DEBUG] - field_id: 22
[SERVER DEBUG] - response_value: ""
[Tasks Routes] Found 30 KYB responses for task 637 (special .json endpoint)
[Tasks Routes] Constructed form data with 30 fields (special .json endpoint)
[Tasks Routes] Task found by ID (special .json endpoint): {
  taskId: 637,
  title: '1. KYB Form: DevTest32',
  type: 'company_kyb',
  formDataFields: 30,
  timestamp: '2025-04-25T10:25:08.215Z'
}
10:25:08 AM [info] GET /api/tasks.json/637 200 in 125ms :: {"id":637,"title":"1. KYB Form: DevTest32","description":"Complete KYB verifi...
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "monthlyRecurringRevenue":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "monthlyRecurringRevenue" (ID: 3906)
[SERVER DEBUG] --- Finished processing field "monthlyRecurringRevenue" ---

[SERVER DEBUG] Processing field: "investigationsIncidents" (ID: 23)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "investigationsIncidents" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: investigationsIncidents
[SERVER DEBUG] - field_id: 23
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "investigationsIncidents":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "investigationsIncidents" (ID: 3907)
[SERVER DEBUG] --- Finished processing field "investigationsIncidents" ---

[SERVER DEBUG] Processing field: "financialStatements" (ID: 24)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "financialStatements" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: financialStatements
[SERVER DEBUG] - field_id: 24
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "financialStatements":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "financialStatements" (ID: 3908)
[SERVER DEBUG] --- Finished processing field "financialStatements" ---

[SERVER DEBUG] Processing field: "operationalPolicies" (ID: 25)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "operationalPolicies" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: operationalPolicies
[SERVER DEBUG] - field_id: 25
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "operationalPolicies":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "operationalPolicies" (ID: 3879)
[SERVER DEBUG] --- Finished processing field "operationalPolicies" ---

[SERVER DEBUG] Processing field: "dataVolume" (ID: 26)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "dataVolume" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: dataVolume
[SERVER DEBUG] - field_id: 26
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "dataVolume":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "dataVolume" (ID: 3880)
[SERVER DEBUG] --- Finished processing field "dataVolume" ---

[SERVER DEBUG] Processing field: "dataTypes" (ID: 27)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "dataTypes" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: dataTypes
[SERVER DEBUG] - field_id: 27
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "dataTypes":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "dataTypes" (ID: 3881)
[SERVER DEBUG] --- Finished processing field "dataTypes" ---

[SERVER DEBUG] Processing field: "sanctionsCheck" (ID: 28)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "sanctionsCheck" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: sanctionsCheck
[SERVER DEBUG] - field_id: 28
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "sanctionsCheck":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "sanctionsCheck" (ID: 3882)
[SERVER DEBUG] --- Finished processing field "sanctionsCheck" ---

[SERVER DEBUG] Processing field: "dueDiligence" (ID: 29)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "dueDiligence" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: dueDiligence
[SERVER DEBUG] - field_id: 29
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "dueDiligence":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "dueDiligence" (ID: 3883)
[SERVER DEBUG] --- Finished processing field "dueDiligence" ---

[SERVER DEBUG] Processing field: "regulatoryActions" (ID: 30)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "regulatoryActions" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: regulatoryActions
[SERVER DEBUG] - field_id: 30
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "regulatoryActions":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "regulatoryActions" (ID: 3884)
[SERVER DEBUG] --- Finished processing field "regulatoryActions" ---

[SERVER DEBUG] Processing field: "legalEntityName" (ID: 1)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "legalEntityName" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: legalEntityName
[SERVER DEBUG] - field_id: 1
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "legalEntityName":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "legalEntityName" (ID: 3885)
[SERVER DEBUG] Broadcasting legalEntityName update via WebSocket: ""
[WebSocket] Broadcast "field_update" sent to 3 clients {
  type: 'field_update',
  dataKeys: [ 'taskId', 'fieldId', 'timestamp' ],
  timestamp: '2025-04-25T10:25:09.083Z',
  clientCount: 3
}
[SERVER DEBUG] --- Finished processing field "legalEntityName" ---

[SERVER DEBUG] Processing field: "registrationNumber" (ID: 2)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "registrationNumber" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: registrationNumber
[SERVER DEBUG] - field_id: 2
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "registrationNumber":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "registrationNumber" (ID: 3886)
[SERVER DEBUG] --- Finished processing field "registrationNumber" ---

[SERVER DEBUG] Processing field: "incorporationDate" (ID: 3)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "incorporationDate" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: incorporationDate
[SERVER DEBUG] - field_id: 3
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "incorporationDate":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "incorporationDate" (ID: 3887)
[SERVER DEBUG] --- Finished processing field "incorporationDate" ---

[SERVER DEBUG] Processing field: "businessType" (ID: 4)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "businessType" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: businessType
[SERVER DEBUG] - field_id: 4
[SERVER DEBUG] - response_value: ""
[Tasks Routes] Updating task progress: { taskId: 637, timestamp: '2025-04-25T10:25:09.317Z' }
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "businessType":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "businessType" (ID: 3888)
[SERVER DEBUG] --- Finished processing field "businessType" ---

[SERVER DEBUG] Processing field: "jurisdiction" (ID: 5)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[Task Reconciliation] Found 30 responses for task 637 (type: company_kyb)
[STATUS DETERMINATION] Calculating status for task with: {
  progress: 0,
  currentStatus: 'in_progress',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  hasResponses: true,
  timestamp: '2025-04-25T10:25:09.379Z'
}
[STATUS DETERMINATION] Task has incomplete required fields, setting to IN_PROGRESS
[Task Reconciliation] Progress calculation: {
  taskId: 637,
  currentProgress: 0,
  calculatedProgress: 0,
  currentStatus: 'in_progress',
  calculatedStatus: 'in_progress',
  responseCount: 30,
  completeCount: 0
}
[Task Reconciliation] Correcting task 637: {
  progressFrom: 0,
  progressTo: 0,
  statusFrom: 'in_progress',
  statusTo: 'in_progress',
  forceUpdate: true
}
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "jurisdiction" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: jurisdiction
[SERVER DEBUG] - field_id: 5
[SERVER DEBUG] - response_value: ""
[Progress Utils] Broadcasting task progress update: {
  taskId: 637,
  progress: 0,
  requestedStatus: 'in_progress',
  finalStatus: 'in_progress',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  timestamp: '2025-04-25T10:25:09.412Z'
}
[WebSocket] Broadcast "task_updated" sent to 3 clients {
  type: 'task_updated',
  dataKeys: [ 'id', 'status', 'progress', 'metadata', 'timestamp' ],
  timestamp: '2025-04-25T10:25:09.412Z',
  clientCount: 3
}
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "jurisdiction":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "jurisdiction" (ID: 3889)
[SERVER DEBUG] --- Finished processing field "jurisdiction" ---

[SERVER DEBUG] Processing field: "registeredAddress" (ID: 6)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[Tasks Routes] Task progress reconciled: {
  taskId: 637,
  progress: 0,
  status: 'in_progress',
  timestamp: '2025-04-25T10:25:09.443Z'
}
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "registeredAddress" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: registeredAddress
[SERVER DEBUG] - field_id: 6
[SERVER DEBUG] - response_value: ""
10:25:09 AM [info] POST /api/tasks/637/update-progress 200 in 159ms :: {"success":true,"progress":0,"status":"in_progress","taskId":637}
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "registeredAddress":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "registeredAddress" (ID: 3890)
[SERVER DEBUG] --- Finished processing field "registeredAddress" ---

[SERVER DEBUG] Processing field: "companyPhone" (ID: 7)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "companyPhone" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: companyPhone
[SERVER DEBUG] - field_id: 7
[SERVER DEBUG] - response_value: ""
[Tasks Routes] Fetching task by ID (special .json endpoint): {
  taskId: 637,
  userCompanyId: 241,
  timestamp: '2025-04-25T10:25:09.567Z'
}
[Tasks Routes] Fetching latest KYB form data for task (special .json endpoint): 637
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "companyPhone":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "companyPhone" (ID: 3891)
[SERVER DEBUG] --- Finished processing field "companyPhone" ---

[SERVER DEBUG] Processing field: "priorNames" (ID: 8)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "priorNames" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: priorNames
[SERVER DEBUG] - field_id: 8
[SERVER DEBUG] - response_value: ""
[Tasks Routes] Found 30 KYB responses for task 637 (special .json endpoint)
[Tasks Routes] Constructed form data with 30 fields (special .json endpoint)
[Tasks Routes] Task found by ID (special .json endpoint): {
  taskId: 637,
  title: '1. KYB Form: DevTest32',
  type: 'company_kyb',
  formDataFields: 30,
  timestamp: '2025-04-25T10:25:09.659Z'
}
10:25:09 AM [info] GET /api/tasks.json/637 200 in 125ms :: {"id":637,"title":"1. KYB Form: DevTest32","description":"Complete KYB verifi...
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "priorNames":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "priorNames" (ID: 3892)
[SERVER DEBUG] --- Finished processing field "priorNames" ---

[SERVER DEBUG] Processing field: "licenses" (ID: 9)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "licenses" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: licenses
[SERVER DEBUG] - field_id: 9
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "licenses":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "licenses" (ID: 3893)
[SERVER DEBUG] --- Finished processing field "licenses" ---

[KYB API Debug] Using client-provided status: not_started
[WebSocket] Broadcasting task update for task 637: progress=0, status=not_started
[WebSocket] Broadcast "task_updated" sent to 3 clients {
  type: 'task_updated',
  dataKeys: [ 'id', 'status', 'progress', 'metadata', 'timestamp' ],
  timestamp: '2025-04-25T10:25:09.865Z',
  clientCount: 3
}
===============================================
[SERVER DEBUG] PREPARING RESPONSE at 2025-04-25T10:25:09.900Z
[SERVER DEBUG] Found 30 fields in database after update
===============================================
[SERVER DEBUG] Checking field corporateRegistration in updated data: ""
[SERVER DEBUG] Checking field goodStanding in updated data: ""
[SERVER DEBUG] Checking field regulatoryActions in updated data: ""
[SERVER DEBUG] Checking field investigationsIncidents in updated data: ""
[SERVER DEBUG] No fields with value "asdf" found in response data
[SERVER DEBUG] Sending response with 30 fields, status: not_started, progress: 0%
[SERVER DEBUG] Updating task.savedFormData to ensure persistence across navigation
[SERVER DEBUG] ✅ Successfully updated task.savedFormData with latest form data
===============================================
10:25:10 AM [info] POST /api/kyb/progress 200 in 2997ms :: {"success":true,"savedData":{"progress":0,"status":"not_started","formData":{...
[Tasks Routes] Fetching task by ID (special .json endpoint): {
  taskId: 637,
  userCompanyId: 241,
  timestamp: '2025-04-25T10:25:10.019Z'
}
[Tasks Routes] Fetching latest KYB form data for task (special .json endpoint): 637
[Tasks Routes] Found 30 KYB responses for task 637 (special .json endpoint)
[Tasks Routes] Constructed form data with 30 fields (special .json endpoint)
[Tasks Routes] Task found by ID (special .json endpoint): {
  taskId: 637,
  title: '1. KYB Form: DevTest32',
  type: 'company_kyb',
  formDataFields: 30,
  timestamp: '2025-04-25T10:25:10.112Z'
}
10:25:10 AM [info] GET /api/tasks.json/637 200 in 126ms :: {"id":637,"title":"1. KYB Form: DevTest32","description":"Complete KYB verifi...
[TimestampHandler] Saving 30 timestamps for task 637
[TimestampHandler] Successfully saved timestamps for task 637
[TimestampAPI] Saved 30 timestamps for task 637
10:25:10 AM [info] POST /api/kyb/timestamps/637 200 in 65ms :: {"message":"Timestamps saved successfully","count":30}
[Tasks Routes] Updating task progress: { taskId: 637, timestamp: '2025-04-25T10:25:10.814Z' }
[Task Reconciliation] Found 30 responses for task 637 (type: company_kyb)
[STATUS DETERMINATION] Calculating status for task with: {
  progress: 0,
  currentStatus: 'not_started',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  hasResponses: true,
  timestamp: '2025-04-25T10:25:10.878Z'
}
[STATUS DETERMINATION] Task has incomplete required fields, setting to IN_PROGRESS
[Task Reconciliation] Progress calculation: {
  taskId: 637,
  currentProgress: 0,
  calculatedProgress: 0,
  currentStatus: 'not_started',
  calculatedStatus: 'in_progress',
  responseCount: 30,
  completeCount: 0
}
[Task Reconciliation] Correcting task 637: {
  progressFrom: 0,
  progressTo: 0,
  statusFrom: 'not_started',
  statusTo: 'in_progress',
  forceUpdate: true
}
===============================================
[SERVER DEBUG] KYB PROGRESS SAVE REQUEST RECEIVED at 2025-04-25T10:25:10.895Z
===============================================
Task ID: 637
Progress: 0
Status: not_started
Field count: 30
Sample form data values:
- goodStanding: "" (string)
- corporateRegistration: "" (string)
- externalAudit: "" (string)
- controlEnvironment: "" (string)
- authorizedSigners: "" (string)
Request details:
- Method: POST
- Content-Type: application/json
- Content-Length: 1740
===============================================
[Progress Utils] Broadcasting task progress update: {
  taskId: 637,
  progress: 0,
  requestedStatus: 'in_progress',
  finalStatus: 'in_progress',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  timestamp: '2025-04-25T10:25:10.910Z'
}
[WebSocket] Broadcast "task_updated" sent to 3 clients {
  type: 'task_updated',
  dataKeys: [ 'id', 'status', 'progress', 'metadata', 'timestamp' ],
  timestamp: '2025-04-25T10:25:10.911Z',
  clientCount: 3
}
[Tasks Routes] Task progress reconciled: {
  taskId: 637,
  progress: 0,
  status: 'in_progress',
  timestamp: '2025-04-25T10:25:10.944Z'
}
===============================================
[SERVER DEBUG] PROCESSING FORM DATA FIELDS AT 2025-04-25T10:25:10.954Z
[SERVER DEBUG] Task ID: 637, Field count: 30
===============================================
[SERVER DEBUG] COMPLETE FORM DATA DUMP:
[SERVER DEBUG] goodStanding: "" (string)
[SERVER DEBUG] corporateRegistration: "" (string)
[SERVER DEBUG] externalAudit: "" (string)
[SERVER DEBUG] controlEnvironment: "" (string)
[SERVER DEBUG] authorizedSigners: "" (string)
[SERVER DEBUG] governmentOwnership: "" (string)
[SERVER DEBUG] ultimateBeneficialOwners: "" (string)
[SERVER DEBUG] directorsAndOfficers: "" (string)
[SERVER DEBUG] contactEmail: "" (string)
[SERVER DEBUG] marketCapitalization: "" (string)
[SERVER DEBUG] lifetimeCustomerValue: "" (string)
[SERVER DEBUG] annualRecurringRevenue: "" (string)
[SERVER DEBUG] monthlyRecurringRevenue: "" (string)
[SERVER DEBUG] investigationsIncidents: "" (string)
[SERVER DEBUG] financialStatements: "" (string)
[SERVER DEBUG] operationalPolicies: "" (string)
[SERVER DEBUG] dataVolume: "" (string)
[SERVER DEBUG] dataTypes: "" (string)
[SERVER DEBUG] sanctionsCheck: "" (string)
[SERVER DEBUG] dueDiligence: "" (string)
[SERVER DEBUG] regulatoryActions: "" (string)
[SERVER DEBUG] legalEntityName: "" (string)
[SERVER DEBUG] registrationNumber: "" (string)
[SERVER DEBUG] incorporationDate: "" (string)
[SERVER DEBUG] businessType: "" (string)
[SERVER DEBUG] jurisdiction: "" (string)
[SERVER DEBUG] registeredAddress: "" (string)
[SERVER DEBUG] companyPhone: "" (string)
[SERVER DEBUG] priorNames: "" (string)
[SERVER DEBUG] licenses: "" (string)
[SERVER DEBUG] END OF FORM DATA DUMP
[SERVER DEBUG] No fields with value "asdf" found in incoming data
[SERVER DEBUG] Processing field: "goodStanding" (ID: 10)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
10:25:10 AM [info] POST /api/tasks/637/update-progress 200 in 165ms :: {"success":true,"progress":0,"status":"in_progress","taskId":637}
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "goodStanding" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: goodStanding
[SERVER DEBUG] - field_id: 10
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "goodStanding":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "goodStanding" (ID: 3894)
[SERVER DEBUG] --- Finished processing field "goodStanding" ---

[SERVER DEBUG] Processing field: "corporateRegistration" (ID: 11)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[Tasks Routes] Fetching task by ID (special .json endpoint): {
  taskId: 637,
  userCompanyId: 241,
  timestamp: '2025-04-25T10:25:11.062Z'
}
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "corporateRegistration" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: corporateRegistration
[SERVER DEBUG] - field_id: 11
[SERVER DEBUG] - response_value: ""
[Tasks Routes] Fetching latest KYB form data for task (special .json endpoint): 637
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "corporateRegistration":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "corporateRegistration" (ID: 3895)
[SERVER DEBUG] --- Finished processing field "corporateRegistration" ---

[SERVER DEBUG] Processing field: "externalAudit" (ID: 12)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[Tasks Routes] Found 30 KYB responses for task 637 (special .json endpoint)
[Tasks Routes] Constructed form data with 30 fields (special .json endpoint)
[Tasks Routes] Task found by ID (special .json endpoint): {
  taskId: 637,
  title: '1. KYB Form: DevTest32',
  type: 'company_kyb',
  formDataFields: 30,
  timestamp: '2025-04-25T10:25:11.156Z'
}
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "externalAudit" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: externalAudit
[SERVER DEBUG] - field_id: 12
[SERVER DEBUG] - response_value: ""
10:25:11 AM [info] GET /api/tasks.json/637 200 in 126ms :: {"id":637,"title":"1. KYB Form: DevTest32","description":"Complete KYB verifi...
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "externalAudit":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "externalAudit" (ID: 3896)
[SERVER DEBUG] --- Finished processing field "externalAudit" ---

[SERVER DEBUG] Processing field: "controlEnvironment" (ID: 13)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "controlEnvironment" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: controlEnvironment
[SERVER DEBUG] - field_id: 13
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "controlEnvironment":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "controlEnvironment" (ID: 3897)
[SERVER DEBUG] --- Finished processing field "controlEnvironment" ---

[SERVER DEBUG] Processing field: "authorizedSigners" (ID: 14)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "authorizedSigners" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: authorizedSigners
[SERVER DEBUG] - field_id: 14
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "authorizedSigners":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "authorizedSigners" (ID: 3898)
[SERVER DEBUG] --- Finished processing field "authorizedSigners" ---

[SERVER DEBUG] Processing field: "governmentOwnership" (ID: 15)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "governmentOwnership" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: governmentOwnership
[SERVER DEBUG] - field_id: 15
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "governmentOwnership":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "governmentOwnership" (ID: 3899)
[SERVER DEBUG] --- Finished processing field "governmentOwnership" ---

[SERVER DEBUG] Processing field: "ultimateBeneficialOwners" (ID: 16)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "ultimateBeneficialOwners" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: ultimateBeneficialOwners
[SERVER DEBUG] - field_id: 16
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "ultimateBeneficialOwners":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "ultimateBeneficialOwners" (ID: 3900)
[SERVER DEBUG] --- Finished processing field "ultimateBeneficialOwners" ---

[SERVER DEBUG] Processing field: "directorsAndOfficers" (ID: 17)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "directorsAndOfficers" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: directorsAndOfficers
[SERVER DEBUG] - field_id: 17
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "directorsAndOfficers":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "directorsAndOfficers" (ID: 3901)
[SERVER DEBUG] --- Finished processing field "directorsAndOfficers" ---

[SERVER DEBUG] Processing field: "contactEmail" (ID: 18)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "contactEmail" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: contactEmail
[SERVER DEBUG] - field_id: 18
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "contactEmail":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "contactEmail" (ID: 3902)
[SERVER DEBUG] --- Finished processing field "contactEmail" ---

[SERVER DEBUG] Processing field: "marketCapitalization" (ID: 19)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "marketCapitalization" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: marketCapitalization
[SERVER DEBUG] - field_id: 19
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "marketCapitalization":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "marketCapitalization" (ID: 3903)
[SERVER DEBUG] --- Finished processing field "marketCapitalization" ---

[SERVER DEBUG] Processing field: "lifetimeCustomerValue" (ID: 20)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "lifetimeCustomerValue" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: lifetimeCustomerValue
[SERVER DEBUG] - field_id: 20
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "lifetimeCustomerValue":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "lifetimeCustomerValue" (ID: 3904)
[SERVER DEBUG] --- Finished processing field "lifetimeCustomerValue" ---

[SERVER DEBUG] Processing field: "annualRecurringRevenue" (ID: 21)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "annualRecurringRevenue" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: annualRecurringRevenue
[SERVER DEBUG] - field_id: 21
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "annualRecurringRevenue":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "annualRecurringRevenue" (ID: 3905)
[SERVER DEBUG] --- Finished processing field "annualRecurringRevenue" ---

[SERVER DEBUG] Processing field: "monthlyRecurringRevenue" (ID: 22)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "monthlyRecurringRevenue" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: monthlyRecurringRevenue
[SERVER DEBUG] - field_id: 22
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "monthlyRecurringRevenue":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "monthlyRecurringRevenue" (ID: 3906)
[SERVER DEBUG] --- Finished processing field "monthlyRecurringRevenue" ---

[SERVER DEBUG] Processing field: "investigationsIncidents" (ID: 23)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "investigationsIncidents" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: investigationsIncidents
[SERVER DEBUG] - field_id: 23
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "investigationsIncidents":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "investigationsIncidents" (ID: 3907)
[SERVER DEBUG] --- Finished processing field "investigationsIncidents" ---

[SERVER DEBUG] Processing field: "financialStatements" (ID: 24)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "financialStatements" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: financialStatements
[SERVER DEBUG] - field_id: 24
[SERVER DEBUG] - response_value: ""
[Tasks Routes] Updating task progress: { taskId: 637, timestamp: '2025-04-25T10:25:12.317Z' }
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "financialStatements":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "financialStatements" (ID: 3908)
[SERVER DEBUG] --- Finished processing field "financialStatements" ---

[SERVER DEBUG] Processing field: "operationalPolicies" (ID: 25)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[Task Reconciliation] Found 30 responses for task 637 (type: company_kyb)
[STATUS DETERMINATION] Calculating status for task with: {
  progress: 0,
  currentStatus: 'in_progress',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  hasResponses: true,
  timestamp: '2025-04-25T10:25:12.380Z'
}
[STATUS DETERMINATION] Task has incomplete required fields, setting to IN_PROGRESS
[Task Reconciliation] Progress calculation: {
  taskId: 637,
  currentProgress: 0,
  calculatedProgress: 0,
  currentStatus: 'in_progress',
  calculatedStatus: 'in_progress',
  responseCount: 30,
  completeCount: 0
}
[Task Reconciliation] Correcting task 637: {
  progressFrom: 0,
  progressTo: 0,
  statusFrom: 'in_progress',
  statusTo: 'in_progress',
  forceUpdate: true
}
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "operationalPolicies" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: operationalPolicies
[SERVER DEBUG] - field_id: 25
[SERVER DEBUG] - response_value: ""
[Progress Utils] Broadcasting task progress update: {
  taskId: 637,
  progress: 0,
  requestedStatus: 'in_progress',
  finalStatus: 'in_progress',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  timestamp: '2025-04-25T10:25:12.412Z'
}
[WebSocket] Broadcast "task_updated" sent to 3 clients {
  type: 'task_updated',
  dataKeys: [ 'id', 'status', 'progress', 'metadata', 'timestamp' ],
  timestamp: '2025-04-25T10:25:12.412Z',
  clientCount: 3
}
[Tasks Routes] Task progress reconciled: {
  taskId: 637,
  progress: 0,
  status: 'in_progress',
  timestamp: '2025-04-25T10:25:12.443Z'
}
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "operationalPolicies":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "operationalPolicies" (ID: 3879)
[SERVER DEBUG] --- Finished processing field "operationalPolicies" ---

[SERVER DEBUG] Processing field: "dataVolume" (ID: 26)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
10:25:12 AM [info] POST /api/tasks/637/update-progress 200 in 159ms :: {"success":true,"progress":0,"status":"in_progress","taskId":637}
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "dataVolume" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: dataVolume
[SERVER DEBUG] - field_id: 26
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "dataVolume":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "dataVolume" (ID: 3880)
[SERVER DEBUG] --- Finished processing field "dataVolume" ---

[SERVER DEBUG] Processing field: "dataTypes" (ID: 27)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[Tasks Routes] Fetching task by ID (special .json endpoint): {
  taskId: 637,
  userCompanyId: 241,
  timestamp: '2025-04-25T10:25:12.562Z'
}
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "dataTypes" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: dataTypes
[SERVER DEBUG] - field_id: 27
[SERVER DEBUG] - response_value: ""
[Tasks Routes] Fetching latest KYB form data for task (special .json endpoint): 637
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "dataTypes":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "dataTypes" (ID: 3881)
[SERVER DEBUG] --- Finished processing field "dataTypes" ---

[SERVER DEBUG] Processing field: "sanctionsCheck" (ID: 28)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[Tasks Routes] Found 30 KYB responses for task 637 (special .json endpoint)
[Tasks Routes] Constructed form data with 30 fields (special .json endpoint)
[Tasks Routes] Task found by ID (special .json endpoint): {
  taskId: 637,
  title: '1. KYB Form: DevTest32',
  type: 'company_kyb',
  formDataFields: 30,
  timestamp: '2025-04-25T10:25:12.654Z'
}
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "sanctionsCheck" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: sanctionsCheck
[SERVER DEBUG] - field_id: 28
[SERVER DEBUG] - response_value: ""
10:25:12 AM [info] GET /api/tasks.json/637 200 in 125ms :: {"id":637,"title":"1. KYB Form: DevTest32","description":"Complete KYB verifi...
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "sanctionsCheck":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "sanctionsCheck" (ID: 3882)
[SERVER DEBUG] --- Finished processing field "sanctionsCheck" ---

[SERVER DEBUG] Processing field: "dueDiligence" (ID: 29)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "dueDiligence" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: dueDiligence
[SERVER DEBUG] - field_id: 29
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "dueDiligence":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "dueDiligence" (ID: 3883)
[SERVER DEBUG] --- Finished processing field "dueDiligence" ---

[SERVER DEBUG] Processing field: "regulatoryActions" (ID: 30)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "regulatoryActions" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: regulatoryActions
[SERVER DEBUG] - field_id: 30
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "regulatoryActions":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "regulatoryActions" (ID: 3884)
[SERVER DEBUG] --- Finished processing field "regulatoryActions" ---

[SERVER DEBUG] Processing field: "legalEntityName" (ID: 1)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "legalEntityName" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: legalEntityName
[SERVER DEBUG] - field_id: 1
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "legalEntityName":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "legalEntityName" (ID: 3885)
[SERVER DEBUG] Broadcasting legalEntityName update via WebSocket: ""
[WebSocket] Broadcast "field_update" sent to 3 clients {
  type: 'field_update',
  dataKeys: [ 'taskId', 'fieldId', 'timestamp' ],
  timestamp: '2025-04-25T10:25:13.020Z',
  clientCount: 3
}
[SERVER DEBUG] --- Finished processing field "legalEntityName" ---

[SERVER DEBUG] Processing field: "registrationNumber" (ID: 2)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "registrationNumber" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: registrationNumber
[SERVER DEBUG] - field_id: 2
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "registrationNumber":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "registrationNumber" (ID: 3886)
[SERVER DEBUG] --- Finished processing field "registrationNumber" ---

[SERVER DEBUG] Processing field: "incorporationDate" (ID: 3)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "incorporationDate" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: incorporationDate
[SERVER DEBUG] - field_id: 3
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "incorporationDate":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "incorporationDate" (ID: 3887)
[SERVER DEBUG] --- Finished processing field "incorporationDate" ---

[SERVER DEBUG] Processing field: "businessType" (ID: 4)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "businessType" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: businessType
[SERVER DEBUG] - field_id: 4
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "businessType":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "businessType" (ID: 3888)
[SERVER DEBUG] --- Finished processing field "businessType" ---

[SERVER DEBUG] Processing field: "jurisdiction" (ID: 5)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "jurisdiction" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: jurisdiction
[SERVER DEBUG] - field_id: 5
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "jurisdiction":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "jurisdiction" (ID: 3889)
[SERVER DEBUG] --- Finished processing field "jurisdiction" ---

[SERVER DEBUG] Processing field: "registeredAddress" (ID: 6)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "registeredAddress" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: registeredAddress
[SERVER DEBUG] - field_id: 6
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "registeredAddress":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "registeredAddress" (ID: 3890)
[SERVER DEBUG] --- Finished processing field "registeredAddress" ---

[SERVER DEBUG] Processing field: "companyPhone" (ID: 7)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "companyPhone" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: companyPhone
[SERVER DEBUG] - field_id: 7
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "companyPhone":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "companyPhone" (ID: 3891)
[SERVER DEBUG] --- Finished processing field "companyPhone" ---

[SERVER DEBUG] Processing field: "priorNames" (ID: 8)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "priorNames" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: priorNames
[SERVER DEBUG] - field_id: 8
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "priorNames":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "priorNames" (ID: 3892)
[SERVER DEBUG] --- Finished processing field "priorNames" ---

[SERVER DEBUG] Processing field: "licenses" (ID: 9)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "licenses" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: licenses
[SERVER DEBUG] - field_id: 9
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "licenses":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "licenses" (ID: 3893)
[SERVER DEBUG] --- Finished processing field "licenses" ---

[KYB API Debug] Using client-provided status: not_started
[Tasks Routes] Updating task progress: { taskId: 637, timestamp: '2025-04-25T10:25:13.829Z' }
[WebSocket] Broadcasting task update for task 637: progress=0, status=not_started
[WebSocket] Broadcast "task_updated" sent to 3 clients {
  type: 'task_updated',
  dataKeys: [ 'id', 'status', 'progress', 'metadata', 'timestamp' ],
  timestamp: '2025-04-25T10:25:13.862Z',
  clientCount: 3
}
[Task Reconciliation] Found 30 responses for task 637 (type: company_kyb)
[STATUS DETERMINATION] Calculating status for task with: {
  progress: 0,
  currentStatus: 'in_progress',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  hasResponses: true,
  timestamp: '2025-04-25T10:25:13.891Z'
}
[STATUS DETERMINATION] Task has incomplete required fields, setting to IN_PROGRESS
[Task Reconciliation] Progress calculation: {
  taskId: 637,
  currentProgress: 0,
  calculatedProgress: 0,
  currentStatus: 'in_progress',
  calculatedStatus: 'in_progress',
  responseCount: 30,
  completeCount: 0
}
[Task Reconciliation] Correcting task 637: {
  progressFrom: 0,
  progressTo: 0,
  statusFrom: 'in_progress',
  statusTo: 'in_progress',
  forceUpdate: true
}
===============================================
[SERVER DEBUG] PREPARING RESPONSE at 2025-04-25T10:25:13.892Z
[SERVER DEBUG] Found 30 fields in database after update
===============================================
[SERVER DEBUG] Checking field corporateRegistration in updated data: ""
[SERVER DEBUG] Checking field goodStanding in updated data: ""
[SERVER DEBUG] Checking field regulatoryActions in updated data: ""
[SERVER DEBUG] Checking field investigationsIncidents in updated data: ""
[SERVER DEBUG] No fields with value "asdf" found in response data
[SERVER DEBUG] Sending response with 30 fields, status: not_started, progress: 0%
[SERVER DEBUG] Updating task.savedFormData to ensure persistence across navigation
[SERVER DEBUG] ✅ Successfully updated task.savedFormData with latest form data
===============================================
[Progress Utils] Broadcasting task progress update: {
  taskId: 637,
  progress: 0,
  requestedStatus: 'in_progress',
  finalStatus: 'in_progress',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  timestamp: '2025-04-25T10:25:13.925Z'
}
[WebSocket] Broadcast "task_updated" sent to 3 clients {
  type: 'task_updated',
  dataKeys: [ 'id', 'status', 'progress', 'metadata', 'timestamp' ],
  timestamp: '2025-04-25T10:25:13.925Z',
  clientCount: 3
}
10:25:13 AM [info] POST /api/kyb/progress 200 in 3060ms :: {"success":true,"savedData":{"progress":0,"status":"not_started","formData":{...
[Tasks Routes] Task progress reconciled: {
  taskId: 637,
  progress: 0,
  status: 'in_progress',
  timestamp: '2025-04-25T10:25:13.957Z'
}
10:25:13 AM [info] POST /api/tasks/637/update-progress 200 in 159ms :: {"success":true,"progress":0,"status":"in_progress","taskId":637}
[Tasks Routes] Fetching task by ID (special .json endpoint): {
  taskId: 637,
  userCompanyId: 241,
  timestamp: '2025-04-25T10:25:14.014Z'
}
[Tasks Routes] Fetching latest KYB form data for task (special .json endpoint): 637
[Tasks Routes] Found 30 KYB responses for task 637 (special .json endpoint)
[Tasks Routes] Constructed form data with 30 fields (special .json endpoint)
[Tasks Routes] Task found by ID (special .json endpoint): {
  taskId: 637,
  title: '1. KYB Form: DevTest32',
  type: 'company_kyb',
  formDataFields: 30,
  timestamp: '2025-04-25T10:25:14.104Z'
}
10:25:14 AM [info] GET /api/tasks.json/637 200 in 123ms :: {"id":637,"title":"1. KYB Form: DevTest32","description":"Complete KYB verifi...
[Tasks Routes] Fetching task by ID (special .json endpoint): {
  taskId: 637,
  userCompanyId: 241,
  timestamp: '2025-04-25T10:25:14.289Z'
}
[Tasks Routes] Fetching latest KYB form data for task (special .json endpoint): 637
[Tasks Routes] Found 30 KYB responses for task 637 (special .json endpoint)
[Tasks Routes] Constructed form data with 30 fields (special .json endpoint)
[Tasks Routes] Task found by ID (special .json endpoint): {
  taskId: 637,
  title: '1. KYB Form: DevTest32',
  type: 'company_kyb',
  formDataFields: 30,
  timestamp: '2025-04-25T10:25:14.385Z'
}
10:25:14 AM [info] GET /api/tasks.json/637 304 in 127ms :: {"id":637,"title":"1. KYB Form: DevTest32","description":"Complete KYB verifi...
[TimestampHandler] Saving 30 timestamps for task 637
[TimestampHandler] Successfully saved timestamps for task 637
[TimestampAPI] Saved 30 timestamps for task 637
10:25:14 AM [info] POST /api/kyb/timestamps/637 200 in 64ms :: {"message":"Timestamps saved successfully","count":30}
===============================================
[SERVER DEBUG] KYB PROGRESS SAVE REQUEST RECEIVED at 2025-04-25T10:25:14.818Z
===============================================
Task ID: 637
Progress: 0
Status: not_started
Field count: 30
Sample form data values:
- goodStanding: "" (string)
- corporateRegistration: "" (string)
- externalAudit: "" (string)
- controlEnvironment: "" (string)
- authorizedSigners: "" (string)
Request details:
- Method: POST
- Content-Type: application/json
- Content-Length: 1740
===============================================
===============================================
[SERVER DEBUG] PROCESSING FORM DATA FIELDS AT 2025-04-25T10:25:14.879Z
[SERVER DEBUG] Task ID: 637, Field count: 30
===============================================
[SERVER DEBUG] COMPLETE FORM DATA DUMP:
[SERVER DEBUG] goodStanding: "" (string)
[SERVER DEBUG] corporateRegistration: "" (string)
[SERVER DEBUG] externalAudit: "" (string)
[SERVER DEBUG] controlEnvironment: "" (string)
[SERVER DEBUG] authorizedSigners: "" (string)
[SERVER DEBUG] governmentOwnership: "" (string)
[SERVER DEBUG] ultimateBeneficialOwners: "" (string)
[SERVER DEBUG] directorsAndOfficers: "" (string)
[SERVER DEBUG] contactEmail: "" (string)
[SERVER DEBUG] marketCapitalization: "" (string)
[SERVER DEBUG] lifetimeCustomerValue: "" (string)
[SERVER DEBUG] annualRecurringRevenue: "" (string)
[SERVER DEBUG] monthlyRecurringRevenue: "" (string)
[SERVER DEBUG] investigationsIncidents: "" (string)
[SERVER DEBUG] financialStatements: "" (string)
[SERVER DEBUG] operationalPolicies: "" (string)
[SERVER DEBUG] dataVolume: "" (string)
[SERVER DEBUG] dataTypes: "" (string)
[SERVER DEBUG] sanctionsCheck: "" (string)
[SERVER DEBUG] dueDiligence: "" (string)
[SERVER DEBUG] regulatoryActions: "" (string)
[SERVER DEBUG] legalEntityName: "" (string)
[SERVER DEBUG] registrationNumber: "" (string)
[SERVER DEBUG] incorporationDate: "" (string)
[SERVER DEBUG] businessType: "" (string)
[SERVER DEBUG] jurisdiction: "" (string)
[SERVER DEBUG] registeredAddress: "" (string)
[SERVER DEBUG] companyPhone: "" (string)
[SERVER DEBUG] priorNames: "" (string)
[SERVER DEBUG] licenses: "" (string)
[SERVER DEBUG] END OF FORM DATA DUMP
[SERVER DEBUG] No fields with value "asdf" found in incoming data
[SERVER DEBUG] Processing field: "goodStanding" (ID: 10)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "goodStanding" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: goodStanding
[SERVER DEBUG] - field_id: 10
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "goodStanding":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "goodStanding" (ID: 3894)
[SERVER DEBUG] --- Finished processing field "goodStanding" ---

[SERVER DEBUG] Processing field: "corporateRegistration" (ID: 11)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "corporateRegistration" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: corporateRegistration
[SERVER DEBUG] - field_id: 11
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "corporateRegistration":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "corporateRegistration" (ID: 3895)
[SERVER DEBUG] --- Finished processing field "corporateRegistration" ---

[SERVER DEBUG] Processing field: "externalAudit" (ID: 12)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "externalAudit" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: externalAudit
[SERVER DEBUG] - field_id: 12
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "externalAudit":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "externalAudit" (ID: 3896)
[SERVER DEBUG] --- Finished processing field "externalAudit" ---

[SERVER DEBUG] Processing field: "controlEnvironment" (ID: 13)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "controlEnvironment" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: controlEnvironment
[SERVER DEBUG] - field_id: 13
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "controlEnvironment":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "controlEnvironment" (ID: 3897)
[SERVER DEBUG] --- Finished processing field "controlEnvironment" ---

[SERVER DEBUG] Processing field: "authorizedSigners" (ID: 14)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "authorizedSigners" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: authorizedSigners
[SERVER DEBUG] - field_id: 14
[SERVER DEBUG] - response_value: ""
[Tasks Routes] Updating task progress: { taskId: 637, timestamp: '2025-04-25T10:25:15.318Z' }
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "authorizedSigners":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "authorizedSigners" (ID: 3898)
[SERVER DEBUG] --- Finished processing field "authorizedSigners" ---

[SERVER DEBUG] Processing field: "governmentOwnership" (ID: 15)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "governmentOwnership" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: governmentOwnership
[SERVER DEBUG] - field_id: 15
[SERVER DEBUG] - response_value: ""
[Task Reconciliation] Found 30 responses for task 637 (type: company_kyb)
[STATUS DETERMINATION] Calculating status for task with: {
  progress: 0,
  currentStatus: 'in_progress',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  hasResponses: true,
  timestamp: '2025-04-25T10:25:15.379Z'
}
[STATUS DETERMINATION] Task has incomplete required fields, setting to IN_PROGRESS
[Task Reconciliation] Progress calculation: {
  taskId: 637,
  currentProgress: 0,
  calculatedProgress: 0,
  currentStatus: 'in_progress',
  calculatedStatus: 'in_progress',
  responseCount: 30,
  completeCount: 0
}
[Task Reconciliation] Correcting task 637: {
  progressFrom: 0,
  progressTo: 0,
  statusFrom: 'in_progress',
  statusTo: 'in_progress',
  forceUpdate: true
}
[Progress Utils] Broadcasting task progress update: {
  taskId: 637,
  progress: 0,
  requestedStatus: 'in_progress',
  finalStatus: 'in_progress',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  timestamp: '2025-04-25T10:25:15.411Z'
}
[WebSocket] Broadcast "task_updated" sent to 3 clients {
  type: 'task_updated',
  dataKeys: [ 'id', 'status', 'progress', 'metadata', 'timestamp' ],
  timestamp: '2025-04-25T10:25:15.411Z',
  clientCount: 3
}
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "governmentOwnership":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "governmentOwnership" (ID: 3899)
[SERVER DEBUG] --- Finished processing field "governmentOwnership" ---

[SERVER DEBUG] Processing field: "ultimateBeneficialOwners" (ID: 16)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[Tasks Routes] Task progress reconciled: {
  taskId: 637,
  progress: 0,
  status: 'in_progress',
  timestamp: '2025-04-25T10:25:15.442Z'
}
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "ultimateBeneficialOwners" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: ultimateBeneficialOwners
[SERVER DEBUG] - field_id: 16
[SERVER DEBUG] - response_value: ""
10:25:15 AM [info] POST /api/tasks/637/update-progress 200 in 156ms :: {"success":true,"progress":0,"status":"in_progress","taskId":637}
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "ultimateBeneficialOwners":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "ultimateBeneficialOwners" (ID: 3900)
[SERVER DEBUG] --- Finished processing field "ultimateBeneficialOwners" ---

[SERVER DEBUG] Processing field: "directorsAndOfficers" (ID: 17)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "directorsAndOfficers" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: directorsAndOfficers
[SERVER DEBUG] - field_id: 17
[SERVER DEBUG] - response_value: ""
[Tasks Routes] Fetching task by ID (special .json endpoint): {
  taskId: 637,
  userCompanyId: 241,
  timestamp: '2025-04-25T10:25:15.561Z'
}
[Tasks Routes] Fetching latest KYB form data for task (special .json endpoint): 637
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "directorsAndOfficers":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "directorsAndOfficers" (ID: 3901)
[SERVER DEBUG] --- Finished processing field "directorsAndOfficers" ---

[SERVER DEBUG] Processing field: "contactEmail" (ID: 18)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "contactEmail" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: contactEmail
[SERVER DEBUG] - field_id: 18
[SERVER DEBUG] - response_value: ""
[Tasks Routes] Found 30 KYB responses for task 637 (special .json endpoint)
[Tasks Routes] Constructed form data with 30 fields (special .json endpoint)
[Tasks Routes] Task found by ID (special .json endpoint): {
  taskId: 637,
  title: '1. KYB Form: DevTest32',
  type: 'company_kyb',
  formDataFields: 30,
  timestamp: '2025-04-25T10:25:15.653Z'
}
10:25:15 AM [info] GET /api/tasks.json/637 200 in 124ms :: {"id":637,"title":"1. KYB Form: DevTest32","description":"Complete KYB verifi...
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "contactEmail":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "contactEmail" (ID: 3902)
[SERVER DEBUG] --- Finished processing field "contactEmail" ---

[SERVER DEBUG] Processing field: "marketCapitalization" (ID: 19)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "marketCapitalization" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: marketCapitalization
[SERVER DEBUG] - field_id: 19
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "marketCapitalization":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "marketCapitalization" (ID: 3903)
[SERVER DEBUG] --- Finished processing field "marketCapitalization" ---

[SERVER DEBUG] Processing field: "lifetimeCustomerValue" (ID: 20)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "lifetimeCustomerValue" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: lifetimeCustomerValue
[SERVER DEBUG] - field_id: 20
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "lifetimeCustomerValue":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "lifetimeCustomerValue" (ID: 3904)
[SERVER DEBUG] --- Finished processing field "lifetimeCustomerValue" ---

[SERVER DEBUG] Processing field: "annualRecurringRevenue" (ID: 21)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "annualRecurringRevenue" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: annualRecurringRevenue
[SERVER DEBUG] - field_id: 21
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "annualRecurringRevenue":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "annualRecurringRevenue" (ID: 3905)
[SERVER DEBUG] --- Finished processing field "annualRecurringRevenue" ---

[SERVER DEBUG] Processing field: "monthlyRecurringRevenue" (ID: 22)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "monthlyRecurringRevenue" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: monthlyRecurringRevenue
[SERVER DEBUG] - field_id: 22
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "monthlyRecurringRevenue":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "monthlyRecurringRevenue" (ID: 3906)
[SERVER DEBUG] --- Finished processing field "monthlyRecurringRevenue" ---

[SERVER DEBUG] Processing field: "investigationsIncidents" (ID: 23)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "investigationsIncidents" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: investigationsIncidents
[SERVER DEBUG] - field_id: 23
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "investigationsIncidents":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "investigationsIncidents" (ID: 3907)
[SERVER DEBUG] --- Finished processing field "investigationsIncidents" ---

[SERVER DEBUG] Processing field: "financialStatements" (ID: 24)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "financialStatements" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: financialStatements
[SERVER DEBUG] - field_id: 24
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "financialStatements":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "financialStatements" (ID: 3908)
[SERVER DEBUG] --- Finished processing field "financialStatements" ---

[SERVER DEBUG] Processing field: "operationalPolicies" (ID: 25)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "operationalPolicies" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: operationalPolicies
[SERVER DEBUG] - field_id: 25
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "operationalPolicies":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "operationalPolicies" (ID: 3879)
[SERVER DEBUG] --- Finished processing field "operationalPolicies" ---

[SERVER DEBUG] Processing field: "dataVolume" (ID: 26)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "dataVolume" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: dataVolume
[SERVER DEBUG] - field_id: 26
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "dataVolume":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "dataVolume" (ID: 3880)
[SERVER DEBUG] --- Finished processing field "dataVolume" ---

[SERVER DEBUG] Processing field: "dataTypes" (ID: 27)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "dataTypes" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: dataTypes
[SERVER DEBUG] - field_id: 27
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "dataTypes":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "dataTypes" (ID: 3881)
[SERVER DEBUG] --- Finished processing field "dataTypes" ---

[SERVER DEBUG] Processing field: "sanctionsCheck" (ID: 28)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "sanctionsCheck" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: sanctionsCheck
[SERVER DEBUG] - field_id: 28
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "sanctionsCheck":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "sanctionsCheck" (ID: 3882)
[SERVER DEBUG] --- Finished processing field "sanctionsCheck" ---

[SERVER DEBUG] Processing field: "dueDiligence" (ID: 29)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "dueDiligence" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: dueDiligence
[SERVER DEBUG] - field_id: 29
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "dueDiligence":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "dueDiligence" (ID: 3883)
[SERVER DEBUG] --- Finished processing field "dueDiligence" ---

[SERVER DEBUG] Processing field: "regulatoryActions" (ID: 30)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "regulatoryActions" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: regulatoryActions
[SERVER DEBUG] - field_id: 30
[SERVER DEBUG] - response_value: ""
[Tasks Routes] Updating task progress: { taskId: 637, timestamp: '2025-04-25T10:25:16.824Z' }
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "regulatoryActions":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "regulatoryActions" (ID: 3884)
[SERVER DEBUG] --- Finished processing field "regulatoryActions" ---

[SERVER DEBUG] Processing field: "legalEntityName" (ID: 1)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[Task Reconciliation] Found 30 responses for task 637 (type: company_kyb)
[STATUS DETERMINATION] Calculating status for task with: {
  progress: 0,
  currentStatus: 'in_progress',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  hasResponses: true,
  timestamp: '2025-04-25T10:25:16.886Z'
}
[STATUS DETERMINATION] Task has incomplete required fields, setting to IN_PROGRESS
[Task Reconciliation] Progress calculation: {
  taskId: 637,
  currentProgress: 0,
  calculatedProgress: 0,
  currentStatus: 'in_progress',
  calculatedStatus: 'in_progress',
  responseCount: 30,
  completeCount: 0
}
[Task Reconciliation] Correcting task 637: {
  progressFrom: 0,
  progressTo: 0,
  statusFrom: 'in_progress',
  statusTo: 'in_progress',
  forceUpdate: true
}
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "legalEntityName" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: legalEntityName
[SERVER DEBUG] - field_id: 1
[SERVER DEBUG] - response_value: ""
[Progress Utils] Broadcasting task progress update: {
  taskId: 637,
  progress: 0,
  requestedStatus: 'in_progress',
  finalStatus: 'in_progress',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  timestamp: '2025-04-25T10:25:16.918Z'
}
[WebSocket] Broadcast "task_updated" sent to 3 clients {
  type: 'task_updated',
  dataKeys: [ 'id', 'status', 'progress', 'metadata', 'timestamp' ],
  timestamp: '2025-04-25T10:25:16.918Z',
  clientCount: 3
}
[Tasks Routes] Task progress reconciled: {
  taskId: 637,
  progress: 0,
  status: 'in_progress',
  timestamp: '2025-04-25T10:25:16.948Z'
}
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "legalEntityName":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "legalEntityName" (ID: 3885)
[SERVER DEBUG] Broadcasting legalEntityName update via WebSocket: ""
[WebSocket] Broadcast "field_update" sent to 3 clients {
  type: 'field_update',
  dataKeys: [ 'taskId', 'fieldId', 'timestamp' ],
  timestamp: '2025-04-25T10:25:16.965Z',
  clientCount: 3
}
[SERVER DEBUG] --- Finished processing field "legalEntityName" ---

[SERVER DEBUG] Processing field: "registrationNumber" (ID: 2)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
10:25:16 AM [info] POST /api/tasks/637/update-progress 200 in 156ms :: {"success":true,"progress":0,"status":"in_progress","taskId":637}
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "registrationNumber" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: registrationNumber
[SERVER DEBUG] - field_id: 2
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "registrationNumber":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "registrationNumber" (ID: 3886)
[SERVER DEBUG] --- Finished processing field "registrationNumber" ---

[SERVER DEBUG] Processing field: "incorporationDate" (ID: 3)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[Tasks Routes] Fetching task by ID (special .json endpoint): {
  taskId: 637,
  userCompanyId: 241,
  timestamp: '2025-04-25T10:25:17.071Z'
}
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "incorporationDate" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: incorporationDate
[SERVER DEBUG] - field_id: 3
[SERVER DEBUG] - response_value: ""
[Tasks Routes] Fetching latest KYB form data for task (special .json endpoint): 637
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "incorporationDate":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "incorporationDate" (ID: 3887)
[SERVER DEBUG] --- Finished processing field "incorporationDate" ---

[SERVER DEBUG] Processing field: "businessType" (ID: 4)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[Tasks Routes] Found 30 KYB responses for task 637 (special .json endpoint)
[Tasks Routes] Constructed form data with 30 fields (special .json endpoint)
[Tasks Routes] Task found by ID (special .json endpoint): {
  taskId: 637,
  title: '1. KYB Form: DevTest32',
  type: 'company_kyb',
  formDataFields: 30,
  timestamp: '2025-04-25T10:25:17.166Z'
}
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "businessType" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: businessType
[SERVER DEBUG] - field_id: 4
[SERVER DEBUG] - response_value: ""
10:25:17 AM [info] GET /api/tasks.json/637 200 in 127ms :: {"id":637,"title":"1. KYB Form: DevTest32","description":"Complete KYB verifi...
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "businessType":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "businessType" (ID: 3888)
[SERVER DEBUG] --- Finished processing field "businessType" ---

[SERVER DEBUG] Processing field: "jurisdiction" (ID: 5)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "jurisdiction" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: jurisdiction
[SERVER DEBUG] - field_id: 5
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "jurisdiction":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "jurisdiction" (ID: 3889)
[SERVER DEBUG] --- Finished processing field "jurisdiction" ---

[SERVER DEBUG] Processing field: "registeredAddress" (ID: 6)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "registeredAddress" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: registeredAddress
[SERVER DEBUG] - field_id: 6
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "registeredAddress":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "registeredAddress" (ID: 3890)
[SERVER DEBUG] --- Finished processing field "registeredAddress" ---

[SERVER DEBUG] Processing field: "companyPhone" (ID: 7)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
10:25:17 AM [info] GET /api/companies/current 304 in 31ms :: {"id":241,"name":"DevTest32","category":"FinTech","is_demo":true,"revenue_tie...
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "companyPhone" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: companyPhone
[SERVER DEBUG] - field_id: 7
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "companyPhone":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "companyPhone" (ID: 3891)
[SERVER DEBUG] --- Finished processing field "companyPhone" ---

[SERVER DEBUG] Processing field: "priorNames" (ID: 8)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "priorNames" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: priorNames
[SERVER DEBUG] - field_id: 8
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "priorNames":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "priorNames" (ID: 3892)
[SERVER DEBUG] --- Finished processing field "priorNames" ---

[SERVER DEBUG] Processing field: "licenses" (ID: 9)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "licenses" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: licenses
[SERVER DEBUG] - field_id: 9
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "licenses":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "licenses" (ID: 3893)
[SERVER DEBUG] --- Finished processing field "licenses" ---

[KYB API Debug] Using client-provided status: not_started
[WebSocket] Broadcasting task update for task 637: progress=0, status=not_started
[WebSocket] Broadcast "task_updated" sent to 3 clients {
  type: 'task_updated',
  dataKeys: [ 'id', 'status', 'progress', 'metadata', 'timestamp' ],
  timestamp: '2025-04-25T10:25:17.770Z',
  clientCount: 3
}
===============================================
[SERVER DEBUG] PREPARING RESPONSE at 2025-04-25T10:25:17.808Z
[SERVER DEBUG] Found 30 fields in database after update
===============================================
[SERVER DEBUG] Checking field corporateRegistration in updated data: ""
[SERVER DEBUG] Checking field goodStanding in updated data: ""
[SERVER DEBUG] Checking field regulatoryActions in updated data: ""
[SERVER DEBUG] Checking field investigationsIncidents in updated data: ""
[SERVER DEBUG] No fields with value "asdf" found in response data
[SERVER DEBUG] Sending response with 30 fields, status: not_started, progress: 0%
[SERVER DEBUG] Updating task.savedFormData to ensure persistence across navigation
[SERVER DEBUG] ✅ Successfully updated task.savedFormData with latest form data
===============================================
10:25:17 AM [info] POST /api/kyb/progress 200 in 3060ms :: {"success":true,"savedData":{"progress":0,"status":"not_started","formData":{...
[Tasks Routes] Fetching task by ID (special .json endpoint): {
  taskId: 637,
  userCompanyId: 241,
  timestamp: '2025-04-25T10:25:17.925Z'
}
[Tasks Routes] Fetching latest KYB form data for task (special .json endpoint): 637
[Tasks Routes] Found 30 KYB responses for task 637 (special .json endpoint)
[Tasks Routes] Constructed form data with 30 fields (special .json endpoint)
[Tasks Routes] Task found by ID (special .json endpoint): {
  taskId: 637,
  title: '1. KYB Form: DevTest32',
  type: 'company_kyb',
  formDataFields: 30,
  timestamp: '2025-04-25T10:25:18.022Z'
}
10:25:18 AM [info] GET /api/tasks.json/637 200 in 129ms :: {"id":637,"title":"1. KYB Form: DevTest32","description":"Complete KYB verifi...
[Tasks Routes] Updating task progress: { taskId: 637, timestamp: '2025-04-25T10:25:18.326Z' }
[Task Reconciliation] Found 30 responses for task 637 (type: company_kyb)
[STATUS DETERMINATION] Calculating status for task with: {
  progress: 0,
  currentStatus: 'not_started',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  hasResponses: true,
  timestamp: '2025-04-25T10:25:18.394Z'
}
[STATUS DETERMINATION] Task has incomplete required fields, setting to IN_PROGRESS
[Task Reconciliation] Progress calculation: {
  taskId: 637,
  currentProgress: 0,
  calculatedProgress: 0,
  currentStatus: 'not_started',
  calculatedStatus: 'in_progress',
  responseCount: 30,
  completeCount: 0
}
[Task Reconciliation] Correcting task 637: {
  progressFrom: 0,
  progressTo: 0,
  statusFrom: 'not_started',
  statusTo: 'in_progress',
  forceUpdate: true
}
[Progress Utils] Broadcasting task progress update: {
  taskId: 637,
  progress: 0,
  requestedStatus: 'in_progress',
  finalStatus: 'in_progress',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  timestamp: '2025-04-25T10:25:18.425Z'
}
[WebSocket] Broadcast "task_updated" sent to 3 clients {
  type: 'task_updated',
  dataKeys: [ 'id', 'status', 'progress', 'metadata', 'timestamp' ],
  timestamp: '2025-04-25T10:25:18.425Z',
  clientCount: 3
}
[Tasks Routes] Task progress reconciled: {
  taskId: 637,
  progress: 0,
  status: 'in_progress',
  timestamp: '2025-04-25T10:25:18.455Z'
}
10:25:18 AM [info] POST /api/tasks/637/update-progress 200 in 164ms :: {"success":true,"progress":0,"status":"in_progress","taskId":637}
[Tasks Routes] Fetching task by ID (special .json endpoint): {
  taskId: 637,
  userCompanyId: 241,
  timestamp: '2025-04-25T10:25:18.575Z'
}
[Tasks Routes] Fetching latest KYB form data for task (special .json endpoint): 637
[Tasks Routes] Found 30 KYB responses for task 637 (special .json endpoint)
[Tasks Routes] Constructed form data with 30 fields (special .json endpoint)
[Tasks Routes] Task found by ID (special .json endpoint): {
  taskId: 637,
  title: '1. KYB Form: DevTest32',
  type: 'company_kyb',
  formDataFields: 30,
  timestamp: '2025-04-25T10:25:18.667Z'
}
10:25:18 AM [info] GET /api/tasks.json/637 200 in 122ms :: {"id":637,"title":"1. KYB Form: DevTest32","description":"Complete KYB verifi...
[Auth] Using cached user data: 283
[TimestampHandler] Saving 30 timestamps for task 637
[TimestampHandler] Successfully saved timestamps for task 637
[TimestampAPI] Saved 30 timestamps for task 637
10:25:18 AM [info] POST /api/kyb/timestamps/637 200 in 62ms :: {"message":"Timestamps saved successfully","count":30}
===============================================
[SERVER DEBUG] KYB PROGRESS SAVE REQUEST RECEIVED at 2025-04-25T10:25:19.025Z
===============================================
Task ID: 637
Progress: 0
Status: not_started
Field count: 30
Sample form data values:
- goodStanding: "" (string)
- corporateRegistration: "" (string)
- externalAudit: "" (string)
- controlEnvironment: "" (string)
- authorizedSigners: "" (string)
Request details:
- Method: POST
- Content-Type: application/json
- Content-Length: 1740
===============================================
===============================================
[SERVER DEBUG] PROCESSING FORM DATA FIELDS AT 2025-04-25T10:25:19.089Z
[SERVER DEBUG] Task ID: 637, Field count: 30
===============================================
[SERVER DEBUG] COMPLETE FORM DATA DUMP:
[SERVER DEBUG] goodStanding: "" (string)
[SERVER DEBUG] corporateRegistration: "" (string)
[SERVER DEBUG] externalAudit: "" (string)
[SERVER DEBUG] controlEnvironment: "" (string)
[SERVER DEBUG] authorizedSigners: "" (string)
[SERVER DEBUG] governmentOwnership: "" (string)
[SERVER DEBUG] ultimateBeneficialOwners: "" (string)
[SERVER DEBUG] directorsAndOfficers: "" (string)
[SERVER DEBUG] contactEmail: "" (string)
[SERVER DEBUG] marketCapitalization: "" (string)
[SERVER DEBUG] lifetimeCustomerValue: "" (string)
[SERVER DEBUG] annualRecurringRevenue: "" (string)
[SERVER DEBUG] monthlyRecurringRevenue: "" (string)
[SERVER DEBUG] investigationsIncidents: "" (string)
[SERVER DEBUG] financialStatements: "" (string)
[SERVER DEBUG] operationalPolicies: "" (string)
[SERVER DEBUG] dataVolume: "" (string)
[SERVER DEBUG] dataTypes: "" (string)
[SERVER DEBUG] sanctionsCheck: "" (string)
[SERVER DEBUG] dueDiligence: "" (string)
[SERVER DEBUG] regulatoryActions: "" (string)
[SERVER DEBUG] legalEntityName: "" (string)
[SERVER DEBUG] registrationNumber: "" (string)
[SERVER DEBUG] incorporationDate: "" (string)
[SERVER DEBUG] businessType: "" (string)
[SERVER DEBUG] jurisdiction: "" (string)
[SERVER DEBUG] registeredAddress: "" (string)
[SERVER DEBUG] companyPhone: "" (string)
[SERVER DEBUG] priorNames: "" (string)
[SERVER DEBUG] licenses: "" (string)
[SERVER DEBUG] END OF FORM DATA DUMP
[SERVER DEBUG] No fields with value "asdf" found in incoming data
[SERVER DEBUG] Processing field: "goodStanding" (ID: 10)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "goodStanding" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: goodStanding
[SERVER DEBUG] - field_id: 10
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "goodStanding":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "goodStanding" (ID: 3894)
[SERVER DEBUG] --- Finished processing field "goodStanding" ---

[SERVER DEBUG] Processing field: "corporateRegistration" (ID: 11)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "corporateRegistration" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: corporateRegistration
[SERVER DEBUG] - field_id: 11
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "corporateRegistration":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "corporateRegistration" (ID: 3895)
[SERVER DEBUG] --- Finished processing field "corporateRegistration" ---

[SERVER DEBUG] Processing field: "externalAudit" (ID: 12)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "externalAudit" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: externalAudit
[SERVER DEBUG] - field_id: 12
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "externalAudit":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "externalAudit" (ID: 3896)
[SERVER DEBUG] --- Finished processing field "externalAudit" ---

[SERVER DEBUG] Processing field: "controlEnvironment" (ID: 13)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "controlEnvironment" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: controlEnvironment
[SERVER DEBUG] - field_id: 13
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "controlEnvironment":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "controlEnvironment" (ID: 3897)
[SERVER DEBUG] --- Finished processing field "controlEnvironment" ---

[SERVER DEBUG] Processing field: "authorizedSigners" (ID: 14)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "authorizedSigners" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: authorizedSigners
[SERVER DEBUG] - field_id: 14
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "authorizedSigners":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "authorizedSigners" (ID: 3898)
[SERVER DEBUG] --- Finished processing field "authorizedSigners" ---

[SERVER DEBUG] Processing field: "governmentOwnership" (ID: 15)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "governmentOwnership" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: governmentOwnership
[SERVER DEBUG] - field_id: 15
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "governmentOwnership":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "governmentOwnership" (ID: 3899)
[SERVER DEBUG] --- Finished processing field "governmentOwnership" ---

[SERVER DEBUG] Processing field: "ultimateBeneficialOwners" (ID: 16)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "ultimateBeneficialOwners" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: ultimateBeneficialOwners
[SERVER DEBUG] - field_id: 16
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "ultimateBeneficialOwners":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "ultimateBeneficialOwners" (ID: 3900)
[SERVER DEBUG] --- Finished processing field "ultimateBeneficialOwners" ---

[SERVER DEBUG] Processing field: "directorsAndOfficers" (ID: 17)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "directorsAndOfficers" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: directorsAndOfficers
[SERVER DEBUG] - field_id: 17
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "directorsAndOfficers":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "directorsAndOfficers" (ID: 3901)
[SERVER DEBUG] --- Finished processing field "directorsAndOfficers" ---

[SERVER DEBUG] Processing field: "contactEmail" (ID: 18)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[Tasks Routes] Updating task progress: { taskId: 637, timestamp: '2025-04-25T10:25:19.825Z' }
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "contactEmail" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: contactEmail
[SERVER DEBUG] - field_id: 18
[SERVER DEBUG] - response_value: ""
[Task Reconciliation] Found 30 responses for task 637 (type: company_kyb)
[STATUS DETERMINATION] Calculating status for task with: {
  progress: 0,
  currentStatus: 'in_progress',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  hasResponses: true,
  timestamp: '2025-04-25T10:25:19.886Z'
}
[STATUS DETERMINATION] Task has incomplete required fields, setting to IN_PROGRESS
[Task Reconciliation] Progress calculation: {
  taskId: 637,
  currentProgress: 0,
  calculatedProgress: 0,
  currentStatus: 'in_progress',
  calculatedStatus: 'in_progress',
  responseCount: 30,
  completeCount: 0
}
[Task Reconciliation] Correcting task 637: {
  progressFrom: 0,
  progressTo: 0,
  statusFrom: 'in_progress',
  statusTo: 'in_progress',
  forceUpdate: true
}
[Progress Utils] Broadcasting task progress update: {
  taskId: 637,
  progress: 0,
  requestedStatus: 'in_progress',
  finalStatus: 'in_progress',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  timestamp: '2025-04-25T10:25:19.918Z'
}
[WebSocket] Broadcast "task_updated" sent to 3 clients {
  type: 'task_updated',
  dataKeys: [ 'id', 'status', 'progress', 'metadata', 'timestamp' ],
  timestamp: '2025-04-25T10:25:19.918Z',
  clientCount: 3
}
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "contactEmail":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "contactEmail" (ID: 3902)
[SERVER DEBUG] --- Finished processing field "contactEmail" ---

[SERVER DEBUG] Processing field: "marketCapitalization" (ID: 19)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[Tasks Routes] Task progress reconciled: {
  taskId: 637,
  progress: 0,
  status: 'in_progress',
  timestamp: '2025-04-25T10:25:19.948Z'
}
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "marketCapitalization" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: marketCapitalization
[SERVER DEBUG] - field_id: 19
[SERVER DEBUG] - response_value: ""
10:25:19 AM [info] POST /api/tasks/637/update-progress 200 in 156ms :: {"success":true,"progress":0,"status":"in_progress","taskId":637}
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "marketCapitalization":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "marketCapitalization" (ID: 3903)
[SERVER DEBUG] --- Finished processing field "marketCapitalization" ---

[SERVER DEBUG] Processing field: "lifetimeCustomerValue" (ID: 20)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "lifetimeCustomerValue" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: lifetimeCustomerValue
[SERVER DEBUG] - field_id: 20
[SERVER DEBUG] - response_value: ""
[Tasks Routes] Fetching task by ID (special .json endpoint): {
  taskId: 637,
  userCompanyId: 241,
  timestamp: '2025-04-25T10:25:20.070Z'
}
[Tasks Routes] Fetching latest KYB form data for task (special .json endpoint): 637
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "lifetimeCustomerValue":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "lifetimeCustomerValue" (ID: 3904)
[SERVER DEBUG] --- Finished processing field "lifetimeCustomerValue" ---

[SERVER DEBUG] Processing field: "annualRecurringRevenue" (ID: 21)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "annualRecurringRevenue" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: annualRecurringRevenue
[SERVER DEBUG] - field_id: 21
[SERVER DEBUG] - response_value: ""
[Tasks Routes] Found 30 KYB responses for task 637 (special .json endpoint)
[Tasks Routes] Constructed form data with 30 fields (special .json endpoint)
[Tasks Routes] Task found by ID (special .json endpoint): {
  taskId: 637,
  title: '1. KYB Form: DevTest32',
  type: 'company_kyb',
  formDataFields: 30,
  timestamp: '2025-04-25T10:25:20.165Z'
}
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "annualRecurringRevenue":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "annualRecurringRevenue" (ID: 3905)
[SERVER DEBUG] --- Finished processing field "annualRecurringRevenue" ---

[SERVER DEBUG] Processing field: "monthlyRecurringRevenue" (ID: 22)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
10:25:20 AM [info] GET /api/tasks.json/637 200 in 129ms :: {"id":637,"title":"1. KYB Form: DevTest32","description":"Complete KYB verifi...
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "monthlyRecurringRevenue" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: monthlyRecurringRevenue
[SERVER DEBUG] - field_id: 22
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "monthlyRecurringRevenue":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "monthlyRecurringRevenue" (ID: 3906)
[SERVER DEBUG] --- Finished processing field "monthlyRecurringRevenue" ---

[SERVER DEBUG] Processing field: "investigationsIncidents" (ID: 23)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "investigationsIncidents" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: investigationsIncidents
[SERVER DEBUG] - field_id: 23
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "investigationsIncidents":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "investigationsIncidents" (ID: 3907)
[SERVER DEBUG] --- Finished processing field "investigationsIncidents" ---

[SERVER DEBUG] Processing field: "financialStatements" (ID: 24)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "financialStatements" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: financialStatements
[SERVER DEBUG] - field_id: 24
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "financialStatements":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "financialStatements" (ID: 3908)
[SERVER DEBUG] --- Finished processing field "financialStatements" ---

[SERVER DEBUG] Processing field: "operationalPolicies" (ID: 25)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "operationalPolicies" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: operationalPolicies
[SERVER DEBUG] - field_id: 25
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "operationalPolicies":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "operationalPolicies" (ID: 3879)
[SERVER DEBUG] --- Finished processing field "operationalPolicies" ---

[SERVER DEBUG] Processing field: "dataVolume" (ID: 26)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "dataVolume" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: dataVolume
[SERVER DEBUG] - field_id: 26
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "dataVolume":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "dataVolume" (ID: 3880)
[SERVER DEBUG] --- Finished processing field "dataVolume" ---

[SERVER DEBUG] Processing field: "dataTypes" (ID: 27)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "dataTypes" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: dataTypes
[SERVER DEBUG] - field_id: 27
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "dataTypes":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "dataTypes" (ID: 3881)
[SERVER DEBUG] --- Finished processing field "dataTypes" ---

[SERVER DEBUG] Processing field: "sanctionsCheck" (ID: 28)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "sanctionsCheck" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: sanctionsCheck
[SERVER DEBUG] - field_id: 28
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "sanctionsCheck":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "sanctionsCheck" (ID: 3882)
[SERVER DEBUG] --- Finished processing field "sanctionsCheck" ---

[SERVER DEBUG] Processing field: "dueDiligence" (ID: 29)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "dueDiligence" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: dueDiligence
[SERVER DEBUG] - field_id: 29
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "dueDiligence":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "dueDiligence" (ID: 3883)
[SERVER DEBUG] --- Finished processing field "dueDiligence" ---

[SERVER DEBUG] Processing field: "regulatoryActions" (ID: 30)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "regulatoryActions" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: regulatoryActions
[SERVER DEBUG] - field_id: 30
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "regulatoryActions":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "regulatoryActions" (ID: 3884)
[SERVER DEBUG] --- Finished processing field "regulatoryActions" ---

[SERVER DEBUG] Processing field: "legalEntityName" (ID: 1)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "legalEntityName" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: legalEntityName
[SERVER DEBUG] - field_id: 1
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "legalEntityName":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "legalEntityName" (ID: 3885)
[SERVER DEBUG] Broadcasting legalEntityName update via WebSocket: ""
[WebSocket] Broadcast "field_update" sent to 3 clients {
  type: 'field_update',
  dataKeys: [ 'taskId', 'fieldId', 'timestamp' ],
  timestamp: '2025-04-25T10:25:21.092Z',
  clientCount: 3
}
[SERVER DEBUG] --- Finished processing field "legalEntityName" ---

[SERVER DEBUG] Processing field: "registrationNumber" (ID: 2)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "registrationNumber" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: registrationNumber
[SERVER DEBUG] - field_id: 2
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "registrationNumber":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "registrationNumber" (ID: 3886)
[SERVER DEBUG] --- Finished processing field "registrationNumber" ---

[SERVER DEBUG] Processing field: "incorporationDate" (ID: 3)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "incorporationDate" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: incorporationDate
[SERVER DEBUG] - field_id: 3
[SERVER DEBUG] - response_value: ""
[WebSocket] Received ping
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "incorporationDate":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "incorporationDate" (ID: 3887)
[SERVER DEBUG] --- Finished processing field "incorporationDate" ---

[SERVER DEBUG] Processing field: "businessType" (ID: 4)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "businessType" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: businessType
[SERVER DEBUG] - field_id: 4
[SERVER DEBUG] - response_value: ""
[Tasks Routes] Updating task progress: { taskId: 637, timestamp: '2025-04-25T10:25:21.331Z' }
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "businessType":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "businessType" (ID: 3888)
[SERVER DEBUG] --- Finished processing field "businessType" ---

[SERVER DEBUG] Processing field: "jurisdiction" (ID: 5)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "jurisdiction" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: jurisdiction
[SERVER DEBUG] - field_id: 5
[SERVER DEBUG] - response_value: ""
[Task Reconciliation] Found 30 responses for task 637 (type: company_kyb)
[STATUS DETERMINATION] Calculating status for task with: {
  progress: 0,
  currentStatus: 'in_progress',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  hasResponses: true,
  timestamp: '2025-04-25T10:25:21.394Z'
}
[STATUS DETERMINATION] Task has incomplete required fields, setting to IN_PROGRESS
[Task Reconciliation] Progress calculation: {
  taskId: 637,
  currentProgress: 0,
  calculatedProgress: 0,
  currentStatus: 'in_progress',
  calculatedStatus: 'in_progress',
  responseCount: 30,
  completeCount: 0
}
[Task Reconciliation] Correcting task 637: {
  progressFrom: 0,
  progressTo: 0,
  statusFrom: 'in_progress',
  statusTo: 'in_progress',
  forceUpdate: true
}
[Progress Utils] Broadcasting task progress update: {
  taskId: 637,
  progress: 0,
  requestedStatus: 'in_progress',
  finalStatus: 'in_progress',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  timestamp: '2025-04-25T10:25:21.428Z'
}
[WebSocket] Broadcast "task_updated" sent to 3 clients {
  type: 'task_updated',
  dataKeys: [ 'id', 'status', 'progress', 'metadata', 'timestamp' ],
  timestamp: '2025-04-25T10:25:21.428Z',
  clientCount: 3
}
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "jurisdiction":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "jurisdiction" (ID: 3889)
[SERVER DEBUG] --- Finished processing field "jurisdiction" ---

[SERVER DEBUG] Processing field: "registeredAddress" (ID: 6)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[Tasks Routes] Task progress reconciled: {
  taskId: 637,
  progress: 0,
  status: 'in_progress',
  timestamp: '2025-04-25T10:25:21.459Z'
}
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "registeredAddress" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: registeredAddress
[SERVER DEBUG] - field_id: 6
[SERVER DEBUG] - response_value: ""
10:25:21 AM [info] POST /api/tasks/637/update-progress 200 in 160ms :: {"success":true,"progress":0,"status":"in_progress","taskId":637}
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "registeredAddress":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "registeredAddress" (ID: 3890)
[SERVER DEBUG] --- Finished processing field "registeredAddress" ---

[SERVER DEBUG] Processing field: "companyPhone" (ID: 7)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "companyPhone" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: companyPhone
[SERVER DEBUG] - field_id: 7
[SERVER DEBUG] - response_value: ""
[Tasks Routes] Fetching task by ID (special .json endpoint): {
  taskId: 637,
  userCompanyId: 241,
  timestamp: '2025-04-25T10:25:21.581Z'
}
[Tasks Routes] Fetching latest KYB form data for task (special .json endpoint): 637
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "companyPhone":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "companyPhone" (ID: 3891)
[SERVER DEBUG] --- Finished processing field "companyPhone" ---

[SERVER DEBUG] Processing field: "priorNames" (ID: 8)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "priorNames" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: priorNames
[SERVER DEBUG] - field_id: 8
[SERVER DEBUG] - response_value: ""
[Tasks Routes] Found 30 KYB responses for task 637 (special .json endpoint)
[Tasks Routes] Constructed form data with 30 fields (special .json endpoint)
[Tasks Routes] Task found by ID (special .json endpoint): {
  taskId: 637,
  title: '1. KYB Form: DevTest32',
  type: 'company_kyb',
  formDataFields: 30,
  timestamp: '2025-04-25T10:25:21.674Z'
}
10:25:21 AM [info] GET /api/tasks.json/637 200 in 125ms :: {"id":637,"title":"1. KYB Form: DevTest32","description":"Complete KYB verifi...
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "priorNames":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "priorNames" (ID: 3892)
[SERVER DEBUG] --- Finished processing field "priorNames" ---

[SERVER DEBUG] Processing field: "licenses" (ID: 9)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "licenses" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: licenses
[SERVER DEBUG] - field_id: 9
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "licenses":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "licenses" (ID: 3893)
[SERVER DEBUG] --- Finished processing field "licenses" ---

[KYB API Debug] Using client-provided status: not_started
[WebSocket] Broadcasting task update for task 637: progress=0, status=not_started
[WebSocket] Broadcast "task_updated" sent to 3 clients {
  type: 'task_updated',
  dataKeys: [ 'id', 'status', 'progress', 'metadata', 'timestamp' ],
  timestamp: '2025-04-25T10:25:21.867Z',
  clientCount: 3
}
===============================================
[SERVER DEBUG] PREPARING RESPONSE at 2025-04-25T10:25:21.898Z
[SERVER DEBUG] Found 30 fields in database after update
===============================================
[SERVER DEBUG] Checking field corporateRegistration in updated data: ""
[SERVER DEBUG] Checking field goodStanding in updated data: ""
[SERVER DEBUG] Checking field regulatoryActions in updated data: ""
[SERVER DEBUG] Checking field investigationsIncidents in updated data: ""
[SERVER DEBUG] No fields with value "asdf" found in response data
[SERVER DEBUG] Sending response with 30 fields, status: not_started, progress: 0%
[SERVER DEBUG] Updating task.savedFormData to ensure persistence across navigation
[SERVER DEBUG] ✅ Successfully updated task.savedFormData with latest form data
===============================================
10:25:21 AM [info] POST /api/kyb/progress 200 in 2934ms :: {"success":true,"savedData":{"progress":0,"status":"not_started","formData":{...
[Tasks Routes] Fetching task by ID (special .json endpoint): {
  taskId: 637,
  userCompanyId: 241,
  timestamp: '2025-04-25T10:25:22.014Z'
}
[Tasks Routes] Fetching latest KYB form data for task (special .json endpoint): 637
[Tasks Routes] Found 30 KYB responses for task 637 (special .json endpoint)
[Tasks Routes] Constructed form data with 30 fields (special .json endpoint)
[Tasks Routes] Task found by ID (special .json endpoint): {
  taskId: 637,
  title: '1. KYB Form: DevTest32',
  type: 'company_kyb',
  formDataFields: 30,
  timestamp: '2025-04-25T10:25:22.103Z'
}
10:25:22 AM [info] GET /api/tasks.json/637 200 in 120ms :: {"id":637,"title":"1. KYB Form: DevTest32","description":"Complete KYB verifi...
[TimestampHandler] Saving 30 timestamps for task 637
[TimestampHandler] Successfully saved timestamps for task 637
[TimestampAPI] Saved 30 timestamps for task 637
10:25:22 AM [info] POST /api/kyb/timestamps/637 200 in 63ms :: {"message":"Timestamps saved successfully","count":30}
[Tasks Routes] Updating task progress: { taskId: 637, timestamp: '2025-04-25T10:25:22.827Z' }
===============================================
[SERVER DEBUG] KYB PROGRESS SAVE REQUEST RECEIVED at 2025-04-25T10:25:22.844Z
===============================================
Task ID: 637
Progress: 0
Status: not_started
Field count: 30
Sample form data values:
- goodStanding: "" (string)
- corporateRegistration: "" (string)
- externalAudit: "" (string)
- controlEnvironment: "" (string)
- authorizedSigners: "" (string)
Request details:
- Method: POST
- Content-Type: application/json
- Content-Length: 1740
===============================================
[Task Reconciliation] Found 30 responses for task 637 (type: company_kyb)
[STATUS DETERMINATION] Calculating status for task with: {
  progress: 0,
  currentStatus: 'not_started',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  hasResponses: true,
  timestamp: '2025-04-25T10:25:22.887Z'
}
[STATUS DETERMINATION] Task has incomplete required fields, setting to IN_PROGRESS
[Task Reconciliation] Progress calculation: {
  taskId: 637,
  currentProgress: 0,
  calculatedProgress: 0,
  currentStatus: 'not_started',
  calculatedStatus: 'in_progress',
  responseCount: 30,
  completeCount: 0
}
[Task Reconciliation] Correcting task 637: {
  progressFrom: 0,
  progressTo: 0,
  statusFrom: 'not_started',
  statusTo: 'in_progress',
  forceUpdate: true
}
===============================================
[SERVER DEBUG] PROCESSING FORM DATA FIELDS AT 2025-04-25T10:25:22.906Z
[SERVER DEBUG] Task ID: 637, Field count: 30
===============================================
[SERVER DEBUG] COMPLETE FORM DATA DUMP:
[SERVER DEBUG] goodStanding: "" (string)
[SERVER DEBUG] corporateRegistration: "" (string)
[SERVER DEBUG] externalAudit: "" (string)
[SERVER DEBUG] controlEnvironment: "" (string)
[SERVER DEBUG] authorizedSigners: "" (string)
[SERVER DEBUG] governmentOwnership: "" (string)
[SERVER DEBUG] ultimateBeneficialOwners: "" (string)
[SERVER DEBUG] directorsAndOfficers: "" (string)
[SERVER DEBUG] contactEmail: "" (string)
[SERVER DEBUG] marketCapitalization: "" (string)
[SERVER DEBUG] lifetimeCustomerValue: "" (string)
[SERVER DEBUG] annualRecurringRevenue: "" (string)
[SERVER DEBUG] monthlyRecurringRevenue: "" (string)
[SERVER DEBUG] investigationsIncidents: "" (string)
[SERVER DEBUG] financialStatements: "" (string)
[SERVER DEBUG] operationalPolicies: "" (string)
[SERVER DEBUG] dataVolume: "" (string)
[SERVER DEBUG] dataTypes: "" (string)
[SERVER DEBUG] sanctionsCheck: "" (string)
[SERVER DEBUG] dueDiligence: "" (string)
[SERVER DEBUG] regulatoryActions: "" (string)
[SERVER DEBUG] legalEntityName: "" (string)
[SERVER DEBUG] registrationNumber: "" (string)
[SERVER DEBUG] incorporationDate: "" (string)
[SERVER DEBUG] businessType: "" (string)
[SERVER DEBUG] jurisdiction: "" (string)
[SERVER DEBUG] registeredAddress: "" (string)
[SERVER DEBUG] companyPhone: "" (string)
[SERVER DEBUG] priorNames: "" (string)
[SERVER DEBUG] licenses: "" (string)
[SERVER DEBUG] END OF FORM DATA DUMP
[SERVER DEBUG] No fields with value "asdf" found in incoming data
[SERVER DEBUG] Processing field: "goodStanding" (ID: 10)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[Progress Utils] Broadcasting task progress update: {
  taskId: 637,
  progress: 0,
  requestedStatus: 'in_progress',
  finalStatus: 'in_progress',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  timestamp: '2025-04-25T10:25:22.918Z'
}
[WebSocket] Broadcast "task_updated" sent to 3 clients {
  type: 'task_updated',
  dataKeys: [ 'id', 'status', 'progress', 'metadata', 'timestamp' ],
  timestamp: '2025-04-25T10:25:22.918Z',
  clientCount: 3
}
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "goodStanding" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: goodStanding
[SERVER DEBUG] - field_id: 10
[SERVER DEBUG] - response_value: ""
[Tasks Routes] Task progress reconciled: {
  taskId: 637,
  progress: 0,
  status: 'in_progress',
  timestamp: '2025-04-25T10:25:22.947Z'
}
10:25:22 AM [info] POST /api/tasks/637/update-progress 200 in 152ms :: {"success":true,"progress":0,"status":"in_progress","taskId":637}
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "goodStanding":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "goodStanding" (ID: 3894)
[SERVER DEBUG] --- Finished processing field "goodStanding" ---

[SERVER DEBUG] Processing field: "corporateRegistration" (ID: 11)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "corporateRegistration" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: corporateRegistration
[SERVER DEBUG] - field_id: 11
[SERVER DEBUG] - response_value: ""
[Auth] Using cached user data: 283
[Tasks Routes] Fetching task by ID (special .json endpoint): {
  taskId: 637,
  userCompanyId: 241,
  timestamp: '2025-04-25T10:25:23.079Z'
}
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "corporateRegistration":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "corporateRegistration" (ID: 3895)
[SERVER DEBUG] --- Finished processing field "corporateRegistration" ---

[SERVER DEBUG] Processing field: "externalAudit" (ID: 12)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[Tasks Routes] Fetching latest KYB form data for task (special .json endpoint): 637
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "externalAudit" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: externalAudit
[SERVER DEBUG] - field_id: 12
[SERVER DEBUG] - response_value: ""
[Tasks Routes] Found 30 KYB responses for task 637 (special .json endpoint)
[Tasks Routes] Constructed form data with 30 fields (special .json endpoint)
[Tasks Routes] Task found by ID (special .json endpoint): {
  taskId: 637,
  title: '1. KYB Form: DevTest32',
  type: 'company_kyb',
  formDataFields: 30,
  timestamp: '2025-04-25T10:25:23.168Z'
}
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "externalAudit":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "externalAudit" (ID: 3896)
[SERVER DEBUG] --- Finished processing field "externalAudit" ---

[SERVER DEBUG] Processing field: "controlEnvironment" (ID: 13)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
10:25:23 AM [info] GET /api/tasks.json/637 200 in 120ms :: {"id":637,"title":"1. KYB Form: DevTest32","description":"Complete KYB verifi...
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "controlEnvironment" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: controlEnvironment
[SERVER DEBUG] - field_id: 13
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "controlEnvironment":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "controlEnvironment" (ID: 3897)
[SERVER DEBUG] --- Finished processing field "controlEnvironment" ---

[SERVER DEBUG] Processing field: "authorizedSigners" (ID: 14)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "authorizedSigners" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: authorizedSigners
[SERVER DEBUG] - field_id: 14
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "authorizedSigners":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "authorizedSigners" (ID: 3898)
[SERVER DEBUG] --- Finished processing field "authorizedSigners" ---

[SERVER DEBUG] Processing field: "governmentOwnership" (ID: 15)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "governmentOwnership" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: governmentOwnership
[SERVER DEBUG] - field_id: 15
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "governmentOwnership":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "governmentOwnership" (ID: 3899)
[SERVER DEBUG] --- Finished processing field "governmentOwnership" ---

[SERVER DEBUG] Processing field: "ultimateBeneficialOwners" (ID: 16)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "ultimateBeneficialOwners" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: ultimateBeneficialOwners
[SERVER DEBUG] - field_id: 16
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "ultimateBeneficialOwners":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "ultimateBeneficialOwners" (ID: 3900)
[SERVER DEBUG] --- Finished processing field "ultimateBeneficialOwners" ---

[SERVER DEBUG] Processing field: "directorsAndOfficers" (ID: 17)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "directorsAndOfficers" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: directorsAndOfficers
[SERVER DEBUG] - field_id: 17
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "directorsAndOfficers":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "directorsAndOfficers" (ID: 3901)
[SERVER DEBUG] --- Finished processing field "directorsAndOfficers" ---

[SERVER DEBUG] Processing field: "contactEmail" (ID: 18)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "contactEmail" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: contactEmail
[SERVER DEBUG] - field_id: 18
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "contactEmail":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "contactEmail" (ID: 3902)
[SERVER DEBUG] --- Finished processing field "contactEmail" ---

[SERVER DEBUG] Processing field: "marketCapitalization" (ID: 19)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "marketCapitalization" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: marketCapitalization
[SERVER DEBUG] - field_id: 19
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "marketCapitalization":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "marketCapitalization" (ID: 3903)
[SERVER DEBUG] --- Finished processing field "marketCapitalization" ---

[SERVER DEBUG] Processing field: "lifetimeCustomerValue" (ID: 20)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "lifetimeCustomerValue" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: lifetimeCustomerValue
[SERVER DEBUG] - field_id: 20
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "lifetimeCustomerValue":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "lifetimeCustomerValue" (ID: 3904)
[SERVER DEBUG] --- Finished processing field "lifetimeCustomerValue" ---

[SERVER DEBUG] Processing field: "annualRecurringRevenue" (ID: 21)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "annualRecurringRevenue" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: annualRecurringRevenue
[SERVER DEBUG] - field_id: 21
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "annualRecurringRevenue":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "annualRecurringRevenue" (ID: 3905)
[SERVER DEBUG] --- Finished processing field "annualRecurringRevenue" ---

[SERVER DEBUG] Processing field: "monthlyRecurringRevenue" (ID: 22)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "monthlyRecurringRevenue" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: monthlyRecurringRevenue
[SERVER DEBUG] - field_id: 22
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "monthlyRecurringRevenue":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "monthlyRecurringRevenue" (ID: 3906)
[SERVER DEBUG] --- Finished processing field "monthlyRecurringRevenue" ---

[SERVER DEBUG] Processing field: "investigationsIncidents" (ID: 23)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "investigationsIncidents" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: investigationsIncidents
[SERVER DEBUG] - field_id: 23
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "investigationsIncidents":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "investigationsIncidents" (ID: 3907)
[SERVER DEBUG] --- Finished processing field "investigationsIncidents" ---

[SERVER DEBUG] Processing field: "financialStatements" (ID: 24)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "financialStatements" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: financialStatements
[SERVER DEBUG] - field_id: 24
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "financialStatements":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "financialStatements" (ID: 3908)
[SERVER DEBUG] --- Finished processing field "financialStatements" ---

[SERVER DEBUG] Processing field: "operationalPolicies" (ID: 25)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[Tasks Routes] Updating task progress: { taskId: 637, timestamp: '2025-04-25T10:25:24.341Z' }
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "operationalPolicies" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: operationalPolicies
[SERVER DEBUG] - field_id: 25
[SERVER DEBUG] - response_value: ""
[Task Reconciliation] Found 30 responses for task 637 (type: company_kyb)
[STATUS DETERMINATION] Calculating status for task with: {
  progress: 0,
  currentStatus: 'in_progress',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  hasResponses: true,
  timestamp: '2025-04-25T10:25:24.400Z'
}
[STATUS DETERMINATION] Task has incomplete required fields, setting to IN_PROGRESS
[Task Reconciliation] Progress calculation: {
  taskId: 637,
  currentProgress: 0,
  calculatedProgress: 0,
  currentStatus: 'in_progress',
  calculatedStatus: 'in_progress',
  responseCount: 30,
  completeCount: 0
}
[Task Reconciliation] Correcting task 637: {
  progressFrom: 0,
  progressTo: 0,
  statusFrom: 'in_progress',
  statusTo: 'in_progress',
  forceUpdate: true
}
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "operationalPolicies":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "operationalPolicies" (ID: 3879)
[SERVER DEBUG] --- Finished processing field "operationalPolicies" ---

[SERVER DEBUG] Processing field: "dataVolume" (ID: 26)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[Progress Utils] Broadcasting task progress update: {
  taskId: 637,
  progress: 0,
  requestedStatus: 'in_progress',
  finalStatus: 'in_progress',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  timestamp: '2025-04-25T10:25:24.430Z'
}
[WebSocket] Broadcast "task_updated" sent to 3 clients {
  type: 'task_updated',
  dataKeys: [ 'id', 'status', 'progress', 'metadata', 'timestamp' ],
  timestamp: '2025-04-25T10:25:24.430Z',
  clientCount: 3
}
[Tasks Routes] Task progress reconciled: {
  taskId: 637,
  progress: 0,
  status: 'in_progress',
  timestamp: '2025-04-25T10:25:24.459Z'
}
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "dataVolume" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: dataVolume
[SERVER DEBUG] - field_id: 26
[SERVER DEBUG] - response_value: ""
10:25:24 AM [info] POST /api/tasks/637/update-progress 200 in 149ms :: {"success":true,"progress":0,"status":"in_progress","taskId":637}
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "dataVolume":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "dataVolume" (ID: 3880)
[SERVER DEBUG] --- Finished processing field "dataVolume" ---

[SERVER DEBUG] Processing field: "dataTypes" (ID: 27)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "dataTypes" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: dataTypes
[SERVER DEBUG] - field_id: 27
[SERVER DEBUG] - response_value: ""
[Tasks Routes] Fetching task by ID (special .json endpoint): {
  taskId: 637,
  userCompanyId: 241,
  timestamp: '2025-04-25T10:25:24.577Z'
}
[Tasks Routes] Fetching latest KYB form data for task (special .json endpoint): 637
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "dataTypes":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "dataTypes" (ID: 3881)
[SERVER DEBUG] --- Finished processing field "dataTypes" ---

[SERVER DEBUG] Processing field: "sanctionsCheck" (ID: 28)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "sanctionsCheck" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: sanctionsCheck
[SERVER DEBUG] - field_id: 28
[SERVER DEBUG] - response_value: ""
[Tasks Routes] Found 30 KYB responses for task 637 (special .json endpoint)
[Tasks Routes] Constructed form data with 30 fields (special .json endpoint)
[Tasks Routes] Task found by ID (special .json endpoint): {
  taskId: 637,
  title: '1. KYB Form: DevTest32',
  type: 'company_kyb',
  formDataFields: 30,
  timestamp: '2025-04-25T10:25:24.668Z'
}
10:25:24 AM [info] GET /api/tasks.json/637 200 in 122ms :: {"id":637,"title":"1. KYB Form: DevTest32","description":"Complete KYB verifi...
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "sanctionsCheck":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "sanctionsCheck" (ID: 3882)
[SERVER DEBUG] --- Finished processing field "sanctionsCheck" ---

[SERVER DEBUG] Processing field: "dueDiligence" (ID: 29)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "dueDiligence" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: dueDiligence
[SERVER DEBUG] - field_id: 29
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "dueDiligence":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "dueDiligence" (ID: 3883)
[SERVER DEBUG] --- Finished processing field "dueDiligence" ---

[SERVER DEBUG] Processing field: "regulatoryActions" (ID: 30)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "regulatoryActions" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: regulatoryActions
[SERVER DEBUG] - field_id: 30
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "regulatoryActions":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "regulatoryActions" (ID: 3884)
[SERVER DEBUG] --- Finished processing field "regulatoryActions" ---

[SERVER DEBUG] Processing field: "legalEntityName" (ID: 1)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "legalEntityName" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: legalEntityName
[SERVER DEBUG] - field_id: 1
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "legalEntityName":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "legalEntityName" (ID: 3885)
[SERVER DEBUG] Broadcasting legalEntityName update via WebSocket: ""
[WebSocket] Broadcast "field_update" sent to 3 clients {
  type: 'field_update',
  dataKeys: [ 'taskId', 'fieldId', 'timestamp' ],
  timestamp: '2025-04-25T10:25:25.009Z',
  clientCount: 3
}
[SERVER DEBUG] --- Finished processing field "legalEntityName" ---

[SERVER DEBUG] Processing field: "registrationNumber" (ID: 2)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "registrationNumber" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: registrationNumber
[SERVER DEBUG] - field_id: 2
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "registrationNumber":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "registrationNumber" (ID: 3886)
[SERVER DEBUG] --- Finished processing field "registrationNumber" ---

[SERVER DEBUG] Processing field: "incorporationDate" (ID: 3)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "incorporationDate" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: incorporationDate
[SERVER DEBUG] - field_id: 3
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "incorporationDate":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "incorporationDate" (ID: 3887)
[SERVER DEBUG] --- Finished processing field "incorporationDate" ---

[SERVER DEBUG] Processing field: "businessType" (ID: 4)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "businessType" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: businessType
[SERVER DEBUG] - field_id: 4
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "businessType":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "businessType" (ID: 3888)
[SERVER DEBUG] --- Finished processing field "businessType" ---

[SERVER DEBUG] Processing field: "jurisdiction" (ID: 5)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "jurisdiction" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: jurisdiction
[SERVER DEBUG] - field_id: 5
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "jurisdiction":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "jurisdiction" (ID: 3889)
[SERVER DEBUG] --- Finished processing field "jurisdiction" ---

[SERVER DEBUG] Processing field: "registeredAddress" (ID: 6)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "registeredAddress" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: registeredAddress
[SERVER DEBUG] - field_id: 6
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "registeredAddress":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "registeredAddress" (ID: 3890)
[SERVER DEBUG] --- Finished processing field "registeredAddress" ---

[SERVER DEBUG] Processing field: "companyPhone" (ID: 7)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "companyPhone" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: companyPhone
[SERVER DEBUG] - field_id: 7
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "companyPhone":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "companyPhone" (ID: 3891)
[SERVER DEBUG] --- Finished processing field "companyPhone" ---

[SERVER DEBUG] Processing field: "priorNames" (ID: 8)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "priorNames" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: priorNames
[SERVER DEBUG] - field_id: 8
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "priorNames":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "priorNames" (ID: 3892)
[SERVER DEBUG] --- Finished processing field "priorNames" ---

[SERVER DEBUG] Processing field: "licenses" (ID: 9)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "licenses" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: licenses
[SERVER DEBUG] - field_id: 9
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "licenses":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "licenses" (ID: 3893)
[SERVER DEBUG] --- Finished processing field "licenses" ---

[KYB API Debug] Using client-provided status: not_started
[Auth] Using cached user data: 283
[Tasks Routes] Updating task progress: { taskId: 637, timestamp: '2025-04-25T10:25:25.832Z' }
[WebSocket] Broadcasting task update for task 637: progress=0, status=not_started
[WebSocket] Broadcast "task_updated" sent to 3 clients {
  type: 'task_updated',
  dataKeys: [ 'id', 'status', 'progress', 'metadata', 'timestamp' ],
  timestamp: '2025-04-25T10:25:25.832Z',
  clientCount: 3
}
===============================================
[SERVER DEBUG] PREPARING RESPONSE at 2025-04-25T10:25:25.864Z
[SERVER DEBUG] Found 30 fields in database after update
===============================================
[SERVER DEBUG] Checking field corporateRegistration in updated data: ""
[SERVER DEBUG] Checking field goodStanding in updated data: ""
[SERVER DEBUG] Checking field regulatoryActions in updated data: ""
[SERVER DEBUG] Checking field investigationsIncidents in updated data: ""
[SERVER DEBUG] No fields with value "asdf" found in response data
[SERVER DEBUG] Sending response with 30 fields, status: not_started, progress: 0%
[SERVER DEBUG] Updating task.savedFormData to ensure persistence across navigation
[Task Reconciliation] Found 30 responses for task 637 (type: company_kyb)
[STATUS DETERMINATION] Calculating status for task with: {
  progress: 0,
  currentStatus: 'not_started',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  hasResponses: true,
  timestamp: '2025-04-25T10:25:25.890Z'
}
[STATUS DETERMINATION] Task has incomplete required fields, setting to IN_PROGRESS
[Task Reconciliation] Progress calculation: {
  taskId: 637,
  currentProgress: 0,
  calculatedProgress: 0,
  currentStatus: 'not_started',
  calculatedStatus: 'in_progress',
  responseCount: 30,
  completeCount: 0
}
[Task Reconciliation] Correcting task 637: {
  progressFrom: 0,
  progressTo: 0,
  statusFrom: 'not_started',
  statusTo: 'in_progress',
  forceUpdate: true
}
[SERVER DEBUG] ✅ Successfully updated task.savedFormData with latest form data
===============================================
[Progress Utils] Broadcasting task progress update: {
  taskId: 637,
  progress: 0,
  requestedStatus: 'in_progress',
  finalStatus: 'in_progress',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  timestamp: '2025-04-25T10:25:25.923Z'
}
[WebSocket] Broadcast "task_updated" sent to 3 clients {
  type: 'task_updated',
  dataKeys: [ 'id', 'status', 'progress', 'metadata', 'timestamp' ],
  timestamp: '2025-04-25T10:25:25.923Z',
  clientCount: 3
}
10:25:25 AM [info] POST /api/kyb/progress 200 in 3083ms :: {"success":true,"savedData":{"progress":0,"status":"not_started","formData":{...
[Tasks Routes] Task progress reconciled: {
  taskId: 637,
  progress: 0,
  status: 'in_progress',
  timestamp: '2025-04-25T10:25:25.959Z'
}
[Tasks Routes] Fetching task by ID (special .json endpoint): {
  taskId: 637,
  userCompanyId: 241,
  timestamp: '2025-04-25T10:25:25.992Z'
}
10:25:25 AM [info] POST /api/tasks/637/update-progress 200 in 162ms :: {"success":true,"progress":0,"status":"in_progress","taskId":637}
[Tasks Routes] Fetching latest KYB form data for task (special .json endpoint): 637
[Tasks Routes] Found 30 KYB responses for task 637 (special .json endpoint)
[Tasks Routes] Constructed form data with 30 fields (special .json endpoint)
[Tasks Routes] Task found by ID (special .json endpoint): {
  taskId: 637,
  title: '1. KYB Form: DevTest32',
  type: 'company_kyb',
  formDataFields: 30,
  timestamp: '2025-04-25T10:25:26.086Z'
}
10:25:26 AM [info] GET /api/tasks.json/637 200 in 127ms :: {"id":637,"title":"1. KYB Form: DevTest32","description":"Complete KYB verifi...
[Tasks Routes] Fetching task by ID (special .json endpoint): {
  taskId: 637,
  userCompanyId: 241,
  timestamp: '2025-04-25T10:25:26.268Z'
}
[Tasks Routes] Fetching latest KYB form data for task (special .json endpoint): 637
[Tasks Routes] Found 30 KYB responses for task 637 (special .json endpoint)
[Tasks Routes] Constructed form data with 30 fields (special .json endpoint)
[Tasks Routes] Task found by ID (special .json endpoint): {
  taskId: 637,
  title: '1. KYB Form: DevTest32',
  type: 'company_kyb',
  formDataFields: 30,
  timestamp: '2025-04-25T10:25:26.361Z'
}
10:25:26 AM [info] GET /api/tasks.json/637 304 in 134ms :: {"id":637,"title":"1. KYB Form: DevTest32","description":"Complete KYB verifi...
[TimestampHandler] Saving 30 timestamps for task 637
[TimestampHandler] Successfully saved timestamps for task 637
[TimestampAPI] Saved 30 timestamps for task 637
10:25:26 AM [info] POST /api/kyb/timestamps/637 200 in 65ms :: {"message":"Timestamps saved successfully","count":30}
===============================================
[SERVER DEBUG] KYB PROGRESS SAVE REQUEST RECEIVED at 2025-04-25T10:25:26.800Z
===============================================
Task ID: 637
Progress: 0
Status: not_started
Field count: 30
Sample form data values:
- goodStanding: "" (string)
- corporateRegistration: "" (string)
- externalAudit: "" (string)
- controlEnvironment: "" (string)
- authorizedSigners: "" (string)
Request details:
- Method: POST
- Content-Type: application/json
- Content-Length: 1740
===============================================
===============================================
[SERVER DEBUG] PROCESSING FORM DATA FIELDS AT 2025-04-25T10:25:26.862Z
[SERVER DEBUG] Task ID: 637, Field count: 30
===============================================
[SERVER DEBUG] COMPLETE FORM DATA DUMP:
[SERVER DEBUG] goodStanding: "" (string)
[SERVER DEBUG] corporateRegistration: "" (string)
[SERVER DEBUG] externalAudit: "" (string)
[SERVER DEBUG] controlEnvironment: "" (string)
[SERVER DEBUG] authorizedSigners: "" (string)
[SERVER DEBUG] governmentOwnership: "" (string)
[SERVER DEBUG] ultimateBeneficialOwners: "" (string)
[SERVER DEBUG] directorsAndOfficers: "" (string)
[SERVER DEBUG] contactEmail: "" (string)
[SERVER DEBUG] marketCapitalization: "" (string)
[SERVER DEBUG] lifetimeCustomerValue: "" (string)
[SERVER DEBUG] annualRecurringRevenue: "" (string)
[SERVER DEBUG] monthlyRecurringRevenue: "" (string)
[SERVER DEBUG] investigationsIncidents: "" (string)
[SERVER DEBUG] financialStatements: "" (string)
[SERVER DEBUG] operationalPolicies: "" (string)
[SERVER DEBUG] dataVolume: "" (string)
[SERVER DEBUG] dataTypes: "" (string)
[SERVER DEBUG] sanctionsCheck: "" (string)
[SERVER DEBUG] dueDiligence: "" (string)
[SERVER DEBUG] regulatoryActions: "" (string)
[SERVER DEBUG] legalEntityName: "" (string)
[SERVER DEBUG] registrationNumber: "" (string)
[SERVER DEBUG] incorporationDate: "" (string)
[SERVER DEBUG] businessType: "" (string)
[SERVER DEBUG] jurisdiction: "" (string)
[SERVER DEBUG] registeredAddress: "" (string)
[SERVER DEBUG] companyPhone: "" (string)
[SERVER DEBUG] priorNames: "" (string)
[SERVER DEBUG] licenses: "" (string)
[SERVER DEBUG] END OF FORM DATA DUMP
[SERVER DEBUG] No fields with value "asdf" found in incoming data
[SERVER DEBUG] Processing field: "goodStanding" (ID: 10)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "goodStanding" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: goodStanding
[SERVER DEBUG] - field_id: 10
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "goodStanding":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "goodStanding" (ID: 3894)
[SERVER DEBUG] --- Finished processing field "goodStanding" ---

[SERVER DEBUG] Processing field: "corporateRegistration" (ID: 11)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "corporateRegistration" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: corporateRegistration
[SERVER DEBUG] - field_id: 11
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "corporateRegistration":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "corporateRegistration" (ID: 3895)
[SERVER DEBUG] --- Finished processing field "corporateRegistration" ---

[SERVER DEBUG] Processing field: "externalAudit" (ID: 12)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "externalAudit" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: externalAudit
[SERVER DEBUG] - field_id: 12
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "externalAudit":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "externalAudit" (ID: 3896)
[SERVER DEBUG] --- Finished processing field "externalAudit" ---

[SERVER DEBUG] Processing field: "controlEnvironment" (ID: 13)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "controlEnvironment" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: controlEnvironment
[SERVER DEBUG] - field_id: 13
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "controlEnvironment":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "controlEnvironment" (ID: 3897)
[SERVER DEBUG] --- Finished processing field "controlEnvironment" ---

[SERVER DEBUG] Processing field: "authorizedSigners" (ID: 14)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "authorizedSigners" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: authorizedSigners
[SERVER DEBUG] - field_id: 14
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "authorizedSigners":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "authorizedSigners" (ID: 3898)
[SERVER DEBUG] --- Finished processing field "authorizedSigners" ---

[SERVER DEBUG] Processing field: "governmentOwnership" (ID: 15)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[Tasks Routes] Updating task progress: { taskId: 637, timestamp: '2025-04-25T10:25:27.340Z' }
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "governmentOwnership" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: governmentOwnership
[SERVER DEBUG] - field_id: 15
[SERVER DEBUG] - response_value: ""
[Task Reconciliation] Found 30 responses for task 637 (type: company_kyb)
[STATUS DETERMINATION] Calculating status for task with: {
  progress: 0,
  currentStatus: 'in_progress',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  hasResponses: true,
  timestamp: '2025-04-25T10:25:27.400Z'
}
[STATUS DETERMINATION] Task has incomplete required fields, setting to IN_PROGRESS
[Task Reconciliation] Progress calculation: {
  taskId: 637,
  currentProgress: 0,
  calculatedProgress: 0,
  currentStatus: 'in_progress',
  calculatedStatus: 'in_progress',
  responseCount: 30,
  completeCount: 0
}
[Task Reconciliation] Correcting task 637: {
  progressFrom: 0,
  progressTo: 0,
  statusFrom: 'in_progress',
  statusTo: 'in_progress',
  forceUpdate: true
}
[Progress Utils] Broadcasting task progress update: {
  taskId: 637,
  progress: 0,
  requestedStatus: 'in_progress',
  finalStatus: 'in_progress',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  timestamp: '2025-04-25T10:25:27.431Z'
}
[WebSocket] Broadcast "task_updated" sent to 3 clients {
  type: 'task_updated',
  dataKeys: [ 'id', 'status', 'progress', 'metadata', 'timestamp' ],
  timestamp: '2025-04-25T10:25:27.431Z',
  clientCount: 3
}
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "governmentOwnership":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "governmentOwnership" (ID: 3899)
[SERVER DEBUG] --- Finished processing field "governmentOwnership" ---

[SERVER DEBUG] Processing field: "ultimateBeneficialOwners" (ID: 16)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[Tasks Routes] Task progress reconciled: {
  taskId: 637,
  progress: 0,
  status: 'in_progress',
  timestamp: '2025-04-25T10:25:27.463Z'
}
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "ultimateBeneficialOwners" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: ultimateBeneficialOwners
[SERVER DEBUG] - field_id: 16
[SERVER DEBUG] - response_value: ""
10:25:27 AM [info] POST /api/tasks/637/update-progress 200 in 158ms :: {"success":true,"progress":0,"status":"in_progress","taskId":637}
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "ultimateBeneficialOwners":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "ultimateBeneficialOwners" (ID: 3900)
[SERVER DEBUG] --- Finished processing field "ultimateBeneficialOwners" ---

[SERVER DEBUG] Processing field: "directorsAndOfficers" (ID: 17)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "directorsAndOfficers" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: directorsAndOfficers
[SERVER DEBUG] - field_id: 17
[SERVER DEBUG] - response_value: ""
[Auth] Using cached user data: 283
[Tasks Routes] Fetching task by ID (special .json endpoint): {
  taskId: 637,
  userCompanyId: 241,
  timestamp: '2025-04-25T10:25:27.584Z'
}
[Tasks Routes] Fetching latest KYB form data for task (special .json endpoint): 637
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "directorsAndOfficers":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "directorsAndOfficers" (ID: 3901)
[SERVER DEBUG] --- Finished processing field "directorsAndOfficers" ---

[SERVER DEBUG] Processing field: "contactEmail" (ID: 18)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
10:25:27 AM [info] GET /api/companies/current 304 in 32ms :: {"id":241,"name":"DevTest32","category":"FinTech","is_demo":true,"revenue_tie...
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "contactEmail" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: contactEmail
[SERVER DEBUG] - field_id: 18
[SERVER DEBUG] - response_value: ""
[Tasks Routes] Found 30 KYB responses for task 637 (special .json endpoint)
[Tasks Routes] Constructed form data with 30 fields (special .json endpoint)
[Tasks Routes] Task found by ID (special .json endpoint): {
  taskId: 637,
  title: '1. KYB Form: DevTest32',
  type: 'company_kyb',
  formDataFields: 30,
  timestamp: '2025-04-25T10:25:27.673Z'
}
10:25:27 AM [info] GET /api/tasks.json/637 200 in 127ms :: {"id":637,"title":"1. KYB Form: DevTest32","description":"Complete KYB verifi...
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "contactEmail":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "contactEmail" (ID: 3902)
[SERVER DEBUG] --- Finished processing field "contactEmail" ---

[SERVER DEBUG] Processing field: "marketCapitalization" (ID: 19)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "marketCapitalization" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: marketCapitalization
[SERVER DEBUG] - field_id: 19
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "marketCapitalization":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "marketCapitalization" (ID: 3903)
[SERVER DEBUG] --- Finished processing field "marketCapitalization" ---

[SERVER DEBUG] Processing field: "lifetimeCustomerValue" (ID: 20)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "lifetimeCustomerValue" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: lifetimeCustomerValue
[SERVER DEBUG] - field_id: 20
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "lifetimeCustomerValue":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "lifetimeCustomerValue" (ID: 3904)
[SERVER DEBUG] --- Finished processing field "lifetimeCustomerValue" ---

[SERVER DEBUG] Processing field: "annualRecurringRevenue" (ID: 21)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "annualRecurringRevenue" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: annualRecurringRevenue
[SERVER DEBUG] - field_id: 21
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "annualRecurringRevenue":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "annualRecurringRevenue" (ID: 3905)
[SERVER DEBUG] --- Finished processing field "annualRecurringRevenue" ---

[SERVER DEBUG] Processing field: "monthlyRecurringRevenue" (ID: 22)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "monthlyRecurringRevenue" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: monthlyRecurringRevenue
[SERVER DEBUG] - field_id: 22
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "monthlyRecurringRevenue":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "monthlyRecurringRevenue" (ID: 3906)
[SERVER DEBUG] --- Finished processing field "monthlyRecurringRevenue" ---

[SERVER DEBUG] Processing field: "investigationsIncidents" (ID: 23)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "investigationsIncidents" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: investigationsIncidents
[SERVER DEBUG] - field_id: 23
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "investigationsIncidents":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "investigationsIncidents" (ID: 3907)
[SERVER DEBUG] --- Finished processing field "investigationsIncidents" ---

[SERVER DEBUG] Processing field: "financialStatements" (ID: 24)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "financialStatements" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: financialStatements
[SERVER DEBUG] - field_id: 24
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "financialStatements":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "financialStatements" (ID: 3908)
[SERVER DEBUG] --- Finished processing field "financialStatements" ---

[SERVER DEBUG] Processing field: "operationalPolicies" (ID: 25)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "operationalPolicies" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: operationalPolicies
[SERVER DEBUG] - field_id: 25
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "operationalPolicies":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "operationalPolicies" (ID: 3879)
[SERVER DEBUG] --- Finished processing field "operationalPolicies" ---

[SERVER DEBUG] Processing field: "dataVolume" (ID: 26)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "dataVolume" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: dataVolume
[SERVER DEBUG] - field_id: 26
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "dataVolume":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "dataVolume" (ID: 3880)
[SERVER DEBUG] --- Finished processing field "dataVolume" ---

[SERVER DEBUG] Processing field: "dataTypes" (ID: 27)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "dataTypes" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: dataTypes
[SERVER DEBUG] - field_id: 27
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "dataTypes":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "dataTypes" (ID: 3881)
[SERVER DEBUG] --- Finished processing field "dataTypes" ---

[SERVER DEBUG] Processing field: "sanctionsCheck" (ID: 28)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "sanctionsCheck" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: sanctionsCheck
[SERVER DEBUG] - field_id: 28
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "sanctionsCheck":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "sanctionsCheck" (ID: 3882)
[SERVER DEBUG] --- Finished processing field "sanctionsCheck" ---

[SERVER DEBUG] Processing field: "dueDiligence" (ID: 29)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "dueDiligence" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: dueDiligence
[SERVER DEBUG] - field_id: 29
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "dueDiligence":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "dueDiligence" (ID: 3883)
[SERVER DEBUG] --- Finished processing field "dueDiligence" ---

[SERVER DEBUG] Processing field: "regulatoryActions" (ID: 30)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "regulatoryActions" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: regulatoryActions
[SERVER DEBUG] - field_id: 30
[SERVER DEBUG] - response_value: ""
[Tasks Routes] Updating task progress: { taskId: 637, timestamp: '2025-04-25T10:25:28.832Z' }
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "regulatoryActions":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "regulatoryActions" (ID: 3884)
[SERVER DEBUG] --- Finished processing field "regulatoryActions" ---

[SERVER DEBUG] Processing field: "legalEntityName" (ID: 1)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[Task Reconciliation] Found 30 responses for task 637 (type: company_kyb)
[STATUS DETERMINATION] Calculating status for task with: {
  progress: 0,
  currentStatus: 'in_progress',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  hasResponses: true,
  timestamp: '2025-04-25T10:25:28.892Z'
}
[STATUS DETERMINATION] Task has incomplete required fields, setting to IN_PROGRESS
[Task Reconciliation] Progress calculation: {
  taskId: 637,
  currentProgress: 0,
  calculatedProgress: 0,
  currentStatus: 'in_progress',
  calculatedStatus: 'in_progress',
  responseCount: 30,
  completeCount: 0
}
[Task Reconciliation] Correcting task 637: {
  progressFrom: 0,
  progressTo: 0,
  statusFrom: 'in_progress',
  statusTo: 'in_progress',
  forceUpdate: true
}
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "legalEntityName" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: legalEntityName
[SERVER DEBUG] - field_id: 1
[SERVER DEBUG] - response_value: ""
[Progress Utils] Broadcasting task progress update: {
  taskId: 637,
  progress: 0,
  requestedStatus: 'in_progress',
  finalStatus: 'in_progress',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  timestamp: '2025-04-25T10:25:28.922Z'
}
[WebSocket] Broadcast "task_updated" sent to 3 clients {
  type: 'task_updated',
  dataKeys: [ 'id', 'status', 'progress', 'metadata', 'timestamp' ],
  timestamp: '2025-04-25T10:25:28.922Z',
  clientCount: 3
}
[Tasks Routes] Task progress reconciled: {
  taskId: 637,
  progress: 0,
  status: 'in_progress',
  timestamp: '2025-04-25T10:25:28.952Z'
}
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "legalEntityName":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "legalEntityName" (ID: 3885)
[SERVER DEBUG] Broadcasting legalEntityName update via WebSocket: ""
[WebSocket] Broadcast "field_update" sent to 3 clients {
  type: 'field_update',
  dataKeys: [ 'taskId', 'fieldId', 'timestamp' ],
  timestamp: '2025-04-25T10:25:28.960Z',
  clientCount: 3
}
[SERVER DEBUG] --- Finished processing field "legalEntityName" ---

[SERVER DEBUG] Processing field: "registrationNumber" (ID: 2)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
10:25:28 AM [info] POST /api/tasks/637/update-progress 200 in 150ms :: {"success":true,"progress":0,"status":"in_progress","taskId":637}
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "registrationNumber" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: registrationNumber
[SERVER DEBUG] - field_id: 2
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "registrationNumber":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "registrationNumber" (ID: 3886)
[SERVER DEBUG] --- Finished processing field "registrationNumber" ---

[SERVER DEBUG] Processing field: "incorporationDate" (ID: 3)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[Tasks Routes] Fetching task by ID (special .json endpoint): {
  taskId: 637,
  userCompanyId: 241,
  timestamp: '2025-04-25T10:25:29.077Z'
}
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "incorporationDate" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: incorporationDate
[SERVER DEBUG] - field_id: 3
[SERVER DEBUG] - response_value: ""
[Tasks Routes] Fetching latest KYB form data for task (special .json endpoint): 637
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "incorporationDate":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "incorporationDate" (ID: 3887)
[SERVER DEBUG] --- Finished processing field "incorporationDate" ---

[SERVER DEBUG] Processing field: "businessType" (ID: 4)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[Tasks Routes] Found 30 KYB responses for task 637 (special .json endpoint)
[Tasks Routes] Constructed form data with 30 fields (special .json endpoint)
[Tasks Routes] Task found by ID (special .json endpoint): {
  taskId: 637,
  title: '1. KYB Form: DevTest32',
  type: 'company_kyb',
  formDataFields: 30,
  timestamp: '2025-04-25T10:25:29.167Z'
}
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "businessType" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: businessType
[SERVER DEBUG] - field_id: 4
[SERVER DEBUG] - response_value: ""
10:25:29 AM [info] GET /api/tasks.json/637 200 in 123ms :: {"id":637,"title":"1. KYB Form: DevTest32","description":"Complete KYB verifi...
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "businessType":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "businessType" (ID: 3888)
[SERVER DEBUG] --- Finished processing field "businessType" ---

[SERVER DEBUG] Processing field: "jurisdiction" (ID: 5)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "jurisdiction" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: jurisdiction
[SERVER DEBUG] - field_id: 5
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "jurisdiction":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "jurisdiction" (ID: 3889)
[SERVER DEBUG] --- Finished processing field "jurisdiction" ---

[SERVER DEBUG] Processing field: "registeredAddress" (ID: 6)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "registeredAddress" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: registeredAddress
[SERVER DEBUG] - field_id: 6
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "registeredAddress":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "registeredAddress" (ID: 3890)
[SERVER DEBUG] --- Finished processing field "registeredAddress" ---

[SERVER DEBUG] Processing field: "companyPhone" (ID: 7)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "companyPhone" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: companyPhone
[SERVER DEBUG] - field_id: 7
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "companyPhone":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "companyPhone" (ID: 3891)
[SERVER DEBUG] --- Finished processing field "companyPhone" ---

[SERVER DEBUG] Processing field: "priorNames" (ID: 8)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "priorNames" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: priorNames
[SERVER DEBUG] - field_id: 8
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "priorNames":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "priorNames" (ID: 3892)
[SERVER DEBUG] --- Finished processing field "priorNames" ---

[SERVER DEBUG] Processing field: "licenses" (ID: 9)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "licenses" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: licenses
[SERVER DEBUG] - field_id: 9
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "licenses":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "licenses" (ID: 3893)
[SERVER DEBUG] --- Finished processing field "licenses" ---

[KYB API Debug] Using client-provided status: not_started
[WebSocket] Broadcasting task update for task 637: progress=0, status=not_started
[WebSocket] Broadcast "task_updated" sent to 3 clients {
  type: 'task_updated',
  dataKeys: [ 'id', 'status', 'progress', 'metadata', 'timestamp' ],
  timestamp: '2025-04-25T10:25:29.792Z',
  clientCount: 3
}
===============================================
[SERVER DEBUG] PREPARING RESPONSE at 2025-04-25T10:25:29.824Z
[SERVER DEBUG] Found 30 fields in database after update
===============================================
[SERVER DEBUG] Checking field corporateRegistration in updated data: ""
[SERVER DEBUG] Checking field goodStanding in updated data: ""
[SERVER DEBUG] Checking field regulatoryActions in updated data: ""
[SERVER DEBUG] Checking field investigationsIncidents in updated data: ""
[SERVER DEBUG] No fields with value "asdf" found in response data
[SERVER DEBUG] Sending response with 30 fields, status: not_started, progress: 0%
[SERVER DEBUG] Updating task.savedFormData to ensure persistence across navigation
[SERVER DEBUG] ✅ Successfully updated task.savedFormData with latest form data
===============================================
10:25:29 AM [info] POST /api/kyb/progress 200 in 3089ms :: {"success":true,"savedData":{"progress":0,"status":"not_started","formData":{...
[Tasks Routes] Fetching task by ID (special .json endpoint): {
  taskId: 637,
  userCompanyId: 241,
  timestamp: '2025-04-25T10:25:29.961Z'
}
[Tasks Routes] Fetching latest KYB form data for task (special .json endpoint): 637
[Tasks Routes] Found 30 KYB responses for task 637 (special .json endpoint)
[Tasks Routes] Constructed form data with 30 fields (special .json endpoint)
[Tasks Routes] Task found by ID (special .json endpoint): {
  taskId: 637,
  title: '1. KYB Form: DevTest32',
  type: 'company_kyb',
  formDataFields: 30,
  timestamp: '2025-04-25T10:25:30.056Z'
}
10:25:30 AM [info] GET /api/tasks.json/637 200 in 127ms :: {"id":637,"title":"1. KYB Form: DevTest32","description":"Complete KYB verifi...
[Tasks Routes] Updating task progress: { taskId: 637, timestamp: '2025-04-25T10:25:30.343Z' }
[Task Reconciliation] Found 30 responses for task 637 (type: company_kyb)
[STATUS DETERMINATION] Calculating status for task with: {
  progress: 0,
  currentStatus: 'not_started',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  hasResponses: true,
  timestamp: '2025-04-25T10:25:30.406Z'
}
[STATUS DETERMINATION] Task has incomplete required fields, setting to IN_PROGRESS
[Task Reconciliation] Progress calculation: {
  taskId: 637,
  currentProgress: 0,
  calculatedProgress: 0,
  currentStatus: 'not_started',
  calculatedStatus: 'in_progress',
  responseCount: 30,
  completeCount: 0
}
[Task Reconciliation] Correcting task 637: {
  progressFrom: 0,
  progressTo: 0,
  statusFrom: 'not_started',
  statusTo: 'in_progress',
  forceUpdate: true
}
[Progress Utils] Broadcasting task progress update: {
  taskId: 637,
  progress: 0,
  requestedStatus: 'in_progress',
  finalStatus: 'in_progress',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  timestamp: '2025-04-25T10:25:30.438Z'
}
[WebSocket] Broadcast "task_updated" sent to 3 clients {
  type: 'task_updated',
  dataKeys: [ 'id', 'status', 'progress', 'metadata', 'timestamp' ],
  timestamp: '2025-04-25T10:25:30.439Z',
  clientCount: 3
}
[Tasks Routes] Task progress reconciled: {
  taskId: 637,
  progress: 0,
  status: 'in_progress',
  timestamp: '2025-04-25T10:25:30.470Z'
}
10:25:30 AM [info] POST /api/tasks/637/update-progress 200 in 160ms :: {"success":true,"progress":0,"status":"in_progress","taskId":637}
[Tasks Routes] Fetching task by ID (special .json endpoint): {
  taskId: 637,
  userCompanyId: 241,
  timestamp: '2025-04-25T10:25:30.602Z'
}
[Tasks Routes] Fetching latest KYB form data for task (special .json endpoint): 637
[Tasks Routes] Found 30 KYB responses for task 637 (special .json endpoint)
[Tasks Routes] Constructed form data with 30 fields (special .json endpoint)
[Tasks Routes] Task found by ID (special .json endpoint): {
  taskId: 637,
  title: '1. KYB Form: DevTest32',
  type: 'company_kyb',
  formDataFields: 30,
  timestamp: '2025-04-25T10:25:30.694Z'
}
10:25:30 AM [info] GET /api/tasks.json/637 200 in 125ms :: {"id":637,"title":"1. KYB Form: DevTest32","description":"Complete KYB verifi...
[TimestampHandler] Saving 30 timestamps for task 637
[TimestampHandler] Successfully saved timestamps for task 637
[TimestampAPI] Saved 30 timestamps for task 637
10:25:30 AM [info] POST /api/kyb/timestamps/637 200 in 67ms :: {"message":"Timestamps saved successfully","count":30}
===============================================
[SERVER DEBUG] KYB PROGRESS SAVE REQUEST RECEIVED at 2025-04-25T10:25:31.052Z
===============================================
Task ID: 637
Progress: 0
Status: not_started
Field count: 30
Sample form data values:
- goodStanding: "" (string)
- corporateRegistration: "" (string)
- externalAudit: "" (string)
- controlEnvironment: "" (string)
- authorizedSigners: "" (string)
Request details:
- Method: POST
- Content-Type: application/json
- Content-Length: 1740
===============================================
===============================================
[SERVER DEBUG] PROCESSING FORM DATA FIELDS AT 2025-04-25T10:25:31.197Z
[SERVER DEBUG] Task ID: 637, Field count: 30
===============================================
[SERVER DEBUG] COMPLETE FORM DATA DUMP:
[SERVER DEBUG] goodStanding: "" (string)
[SERVER DEBUG] corporateRegistration: "" (string)
[SERVER DEBUG] externalAudit: "" (string)
[SERVER DEBUG] controlEnvironment: "" (string)
[SERVER DEBUG] authorizedSigners: "" (string)
[SERVER DEBUG] governmentOwnership: "" (string)
[SERVER DEBUG] ultimateBeneficialOwners: "" (string)
[SERVER DEBUG] directorsAndOfficers: "" (string)
[SERVER DEBUG] contactEmail: "" (string)
[SERVER DEBUG] marketCapitalization: "" (string)
[SERVER DEBUG] lifetimeCustomerValue: "" (string)
[SERVER DEBUG] annualRecurringRevenue: "" (string)
[SERVER DEBUG] monthlyRecurringRevenue: "" (string)
[SERVER DEBUG] investigationsIncidents: "" (string)
[SERVER DEBUG] financialStatements: "" (string)
[SERVER DEBUG] operationalPolicies: "" (string)
[SERVER DEBUG] dataVolume: "" (string)
[SERVER DEBUG] dataTypes: "" (string)
[SERVER DEBUG] sanctionsCheck: "" (string)
[SERVER DEBUG] dueDiligence: "" (string)
[SERVER DEBUG] regulatoryActions: "" (string)
[SERVER DEBUG] legalEntityName: "" (string)
[SERVER DEBUG] registrationNumber: "" (string)
[SERVER DEBUG] incorporationDate: "" (string)
[SERVER DEBUG] businessType: "" (string)
[SERVER DEBUG] jurisdiction: "" (string)
[SERVER DEBUG] registeredAddress: "" (string)
[SERVER DEBUG] companyPhone: "" (string)
[SERVER DEBUG] priorNames: "" (string)
[SERVER DEBUG] licenses: "" (string)
[SERVER DEBUG] END OF FORM DATA DUMP
[SERVER DEBUG] No fields with value "asdf" found in incoming data
[SERVER DEBUG] Processing field: "goodStanding" (ID: 10)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "goodStanding" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: goodStanding
[SERVER DEBUG] - field_id: 10
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "goodStanding":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "goodStanding" (ID: 3894)
[SERVER DEBUG] --- Finished processing field "goodStanding" ---

[SERVER DEBUG] Processing field: "corporateRegistration" (ID: 11)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "corporateRegistration" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: corporateRegistration
[SERVER DEBUG] - field_id: 11
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "corporateRegistration":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "corporateRegistration" (ID: 3895)
[SERVER DEBUG] --- Finished processing field "corporateRegistration" ---

[SERVER DEBUG] Processing field: "externalAudit" (ID: 12)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "externalAudit" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: externalAudit
[SERVER DEBUG] - field_id: 12
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "externalAudit":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "externalAudit" (ID: 3896)
[SERVER DEBUG] --- Finished processing field "externalAudit" ---

[SERVER DEBUG] Processing field: "controlEnvironment" (ID: 13)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "controlEnvironment" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: controlEnvironment
[SERVER DEBUG] - field_id: 13
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "controlEnvironment":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "controlEnvironment" (ID: 3897)
[SERVER DEBUG] --- Finished processing field "controlEnvironment" ---

[SERVER DEBUG] Processing field: "authorizedSigners" (ID: 14)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "authorizedSigners" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: authorizedSigners
[SERVER DEBUG] - field_id: 14
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "authorizedSigners":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "authorizedSigners" (ID: 3898)
[SERVER DEBUG] --- Finished processing field "authorizedSigners" ---

[SERVER DEBUG] Processing field: "governmentOwnership" (ID: 15)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "governmentOwnership" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: governmentOwnership
[SERVER DEBUG] - field_id: 15
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "governmentOwnership":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "governmentOwnership" (ID: 3899)
[SERVER DEBUG] --- Finished processing field "governmentOwnership" ---

[SERVER DEBUG] Processing field: "ultimateBeneficialOwners" (ID: 16)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "ultimateBeneficialOwners" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: ultimateBeneficialOwners
[SERVER DEBUG] - field_id: 16
[SERVER DEBUG] - response_value: ""
[Tasks Routes] Updating task progress: { taskId: 637, timestamp: '2025-04-25T10:25:31.842Z' }
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "ultimateBeneficialOwners":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "ultimateBeneficialOwners" (ID: 3900)
[SERVER DEBUG] --- Finished processing field "ultimateBeneficialOwners" ---

[SERVER DEBUG] Processing field: "directorsAndOfficers" (ID: 17)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "directorsAndOfficers" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: directorsAndOfficers
[SERVER DEBUG] - field_id: 17
[SERVER DEBUG] - response_value: ""
[Task Reconciliation] Found 30 responses for task 637 (type: company_kyb)
[STATUS DETERMINATION] Calculating status for task with: {
  progress: 0,
  currentStatus: 'in_progress',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  hasResponses: true,
  timestamp: '2025-04-25T10:25:31.906Z'
}
[STATUS DETERMINATION] Task has incomplete required fields, setting to IN_PROGRESS
[Task Reconciliation] Progress calculation: {
  taskId: 637,
  currentProgress: 0,
  calculatedProgress: 0,
  currentStatus: 'in_progress',
  calculatedStatus: 'in_progress',
  responseCount: 30,
  completeCount: 0
}
[Task Reconciliation] Correcting task 637: {
  progressFrom: 0,
  progressTo: 0,
  statusFrom: 'in_progress',
  statusTo: 'in_progress',
  forceUpdate: true
}
[Progress Utils] Broadcasting task progress update: {
  taskId: 637,
  progress: 0,
  requestedStatus: 'in_progress',
  finalStatus: 'in_progress',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  timestamp: '2025-04-25T10:25:31.938Z'
}
[WebSocket] Broadcast "task_updated" sent to 3 clients {
  type: 'task_updated',
  dataKeys: [ 'id', 'status', 'progress', 'metadata', 'timestamp' ],
  timestamp: '2025-04-25T10:25:31.938Z',
  clientCount: 3
}
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "directorsAndOfficers":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "directorsAndOfficers" (ID: 3901)
[SERVER DEBUG] --- Finished processing field "directorsAndOfficers" ---

[SERVER DEBUG] Processing field: "contactEmail" (ID: 18)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[Tasks Routes] Task progress reconciled: {
  taskId: 637,
  progress: 0,
  status: 'in_progress',
  timestamp: '2025-04-25T10:25:31.975Z'
}
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "contactEmail" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: contactEmail
[SERVER DEBUG] - field_id: 18
[SERVER DEBUG] - response_value: ""
10:25:32 AM [info] POST /api/tasks/637/update-progress 200 in 165ms :: {"success":true,"progress":0,"status":"in_progress","taskId":637}
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "contactEmail":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "contactEmail" (ID: 3902)
[SERVER DEBUG] --- Finished processing field "contactEmail" ---

[SERVER DEBUG] Processing field: "marketCapitalization" (ID: 19)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "marketCapitalization" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: marketCapitalization
[SERVER DEBUG] - field_id: 19
[SERVER DEBUG] - response_value: ""
[Tasks Routes] Fetching task by ID (special .json endpoint): {
  taskId: 637,
  userCompanyId: 241,
  timestamp: '2025-04-25T10:25:32.094Z'
}
[Tasks Routes] Fetching latest KYB form data for task (special .json endpoint): 637
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "marketCapitalization":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "marketCapitalization" (ID: 3903)
[SERVER DEBUG] --- Finished processing field "marketCapitalization" ---

[SERVER DEBUG] Processing field: "lifetimeCustomerValue" (ID: 20)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "lifetimeCustomerValue" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: lifetimeCustomerValue
[SERVER DEBUG] - field_id: 20
[SERVER DEBUG] - response_value: ""
[Tasks Routes] Found 30 KYB responses for task 637 (special .json endpoint)
[Tasks Routes] Constructed form data with 30 fields (special .json endpoint)
[Tasks Routes] Task found by ID (special .json endpoint): {
  taskId: 637,
  title: '1. KYB Form: DevTest32',
  type: 'company_kyb',
  formDataFields: 30,
  timestamp: '2025-04-25T10:25:32.184Z'
}
10:25:32 AM [info] GET /api/tasks.json/637 200 in 121ms :: {"id":637,"title":"1. KYB Form: DevTest32","description":"Complete KYB verifi...
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "lifetimeCustomerValue":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "lifetimeCustomerValue" (ID: 3904)
[SERVER DEBUG] --- Finished processing field "lifetimeCustomerValue" ---

[SERVER DEBUG] Processing field: "annualRecurringRevenue" (ID: 21)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "annualRecurringRevenue" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: annualRecurringRevenue
[SERVER DEBUG] - field_id: 21
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "annualRecurringRevenue":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "annualRecurringRevenue" (ID: 3905)
[SERVER DEBUG] --- Finished processing field "annualRecurringRevenue" ---

[SERVER DEBUG] Processing field: "monthlyRecurringRevenue" (ID: 22)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "monthlyRecurringRevenue" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: monthlyRecurringRevenue
[SERVER DEBUG] - field_id: 22
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "monthlyRecurringRevenue":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "monthlyRecurringRevenue" (ID: 3906)
[SERVER DEBUG] --- Finished processing field "monthlyRecurringRevenue" ---

[SERVER DEBUG] Processing field: "investigationsIncidents" (ID: 23)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "investigationsIncidents" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: investigationsIncidents
[SERVER DEBUG] - field_id: 23
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "investigationsIncidents":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "investigationsIncidents" (ID: 3907)
[SERVER DEBUG] --- Finished processing field "investigationsIncidents" ---

[SERVER DEBUG] Processing field: "financialStatements" (ID: 24)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "financialStatements" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: financialStatements
[SERVER DEBUG] - field_id: 24
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "financialStatements":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "financialStatements" (ID: 3908)
[SERVER DEBUG] --- Finished processing field "financialStatements" ---

[SERVER DEBUG] Processing field: "operationalPolicies" (ID: 25)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "operationalPolicies" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: operationalPolicies
[SERVER DEBUG] - field_id: 25
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "operationalPolicies":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "operationalPolicies" (ID: 3879)
[SERVER DEBUG] --- Finished processing field "operationalPolicies" ---

[SERVER DEBUG] Processing field: "dataVolume" (ID: 26)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "dataVolume" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: dataVolume
[SERVER DEBUG] - field_id: 26
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "dataVolume":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "dataVolume" (ID: 3880)
[SERVER DEBUG] --- Finished processing field "dataVolume" ---

[SERVER DEBUG] Processing field: "dataTypes" (ID: 27)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "dataTypes" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: dataTypes
[SERVER DEBUG] - field_id: 27
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "dataTypes":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "dataTypes" (ID: 3881)
[SERVER DEBUG] --- Finished processing field "dataTypes" ---

[SERVER DEBUG] Processing field: "sanctionsCheck" (ID: 28)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "sanctionsCheck" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: sanctionsCheck
[SERVER DEBUG] - field_id: 28
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "sanctionsCheck":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "sanctionsCheck" (ID: 3882)
[SERVER DEBUG] --- Finished processing field "sanctionsCheck" ---

[SERVER DEBUG] Processing field: "dueDiligence" (ID: 29)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "dueDiligence" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: dueDiligence
[SERVER DEBUG] - field_id: 29
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "dueDiligence":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "dueDiligence" (ID: 3883)
[SERVER DEBUG] --- Finished processing field "dueDiligence" ---

[SERVER DEBUG] Processing field: "regulatoryActions" (ID: 30)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "regulatoryActions" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: regulatoryActions
[SERVER DEBUG] - field_id: 30
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "regulatoryActions":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "regulatoryActions" (ID: 3884)
[SERVER DEBUG] --- Finished processing field "regulatoryActions" ---

[SERVER DEBUG] Processing field: "legalEntityName" (ID: 1)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "legalEntityName" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: legalEntityName
[SERVER DEBUG] - field_id: 1
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "legalEntityName":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "legalEntityName" (ID: 3885)
[SERVER DEBUG] Broadcasting legalEntityName update via WebSocket: ""
[WebSocket] Broadcast "field_update" sent to 3 clients {
  type: 'field_update',
  dataKeys: [ 'taskId', 'fieldId', 'timestamp' ],
  timestamp: '2025-04-25T10:25:33.288Z',
  clientCount: 3
}
[SERVER DEBUG] --- Finished processing field "legalEntityName" ---

[SERVER DEBUG] Processing field: "registrationNumber" (ID: 2)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "registrationNumber" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: registrationNumber
[SERVER DEBUG] - field_id: 2
[SERVER DEBUG] - response_value: ""
[Tasks Routes] Updating task progress: { taskId: 637, timestamp: '2025-04-25T10:25:33.340Z' }
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "registrationNumber":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "registrationNumber" (ID: 3886)
[SERVER DEBUG] --- Finished processing field "registrationNumber" ---

[SERVER DEBUG] Processing field: "incorporationDate" (ID: 3)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[Task Reconciliation] Found 30 responses for task 637 (type: company_kyb)
[STATUS DETERMINATION] Calculating status for task with: {
  progress: 0,
  currentStatus: 'in_progress',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  hasResponses: true,
  timestamp: '2025-04-25T10:25:33.401Z'
}
[STATUS DETERMINATION] Task has incomplete required fields, setting to IN_PROGRESS
[Task Reconciliation] Progress calculation: {
  taskId: 637,
  currentProgress: 0,
  calculatedProgress: 0,
  currentStatus: 'in_progress',
  calculatedStatus: 'in_progress',
  responseCount: 30,
  completeCount: 0
}
[Task Reconciliation] Correcting task 637: {
  progressFrom: 0,
  progressTo: 0,
  statusFrom: 'in_progress',
  statusTo: 'in_progress',
  forceUpdate: true
}
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "incorporationDate" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: incorporationDate
[SERVER DEBUG] - field_id: 3
[SERVER DEBUG] - response_value: ""
[Progress Utils] Broadcasting task progress update: {
  taskId: 637,
  progress: 0,
  requestedStatus: 'in_progress',
  finalStatus: 'in_progress',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  timestamp: '2025-04-25T10:25:33.435Z'
}
[WebSocket] Broadcast "task_updated" sent to 3 clients {
  type: 'task_updated',
  dataKeys: [ 'id', 'status', 'progress', 'metadata', 'timestamp' ],
  timestamp: '2025-04-25T10:25:33.435Z',
  clientCount: 3
}
[Tasks Routes] Task progress reconciled: {
  taskId: 637,
  progress: 0,
  status: 'in_progress',
  timestamp: '2025-04-25T10:25:33.465Z'
}
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "incorporationDate":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "incorporationDate" (ID: 3887)
[SERVER DEBUG] --- Finished processing field "incorporationDate" ---

[SERVER DEBUG] Processing field: "businessType" (ID: 4)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
10:25:33 AM [info] POST /api/tasks/637/update-progress 200 in 156ms :: {"success":true,"progress":0,"status":"in_progress","taskId":637}
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "businessType" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: businessType
[SERVER DEBUG] - field_id: 4
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "businessType":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "businessType" (ID: 3888)
[SERVER DEBUG] --- Finished processing field "businessType" ---

[SERVER DEBUG] Processing field: "jurisdiction" (ID: 5)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[Tasks Routes] Fetching task by ID (special .json endpoint): {
  taskId: 637,
  userCompanyId: 241,
  timestamp: '2025-04-25T10:25:33.585Z'
}
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "jurisdiction" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: jurisdiction
[SERVER DEBUG] - field_id: 5
[SERVER DEBUG] - response_value: ""
[Tasks Routes] Fetching latest KYB form data for task (special .json endpoint): 637
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "jurisdiction":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "jurisdiction" (ID: 3889)
[SERVER DEBUG] --- Finished processing field "jurisdiction" ---

[SERVER DEBUG] Processing field: "registeredAddress" (ID: 6)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[Tasks Routes] Found 30 KYB responses for task 637 (special .json endpoint)
[Tasks Routes] Constructed form data with 30 fields (special .json endpoint)
[Tasks Routes] Task found by ID (special .json endpoint): {
  taskId: 637,
  title: '1. KYB Form: DevTest32',
  type: 'company_kyb',
  formDataFields: 30,
  timestamp: '2025-04-25T10:25:33.690Z'
}
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "registeredAddress" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: registeredAddress
[SERVER DEBUG] - field_id: 6
[SERVER DEBUG] - response_value: ""
10:25:33 AM [info] GET /api/tasks.json/637 200 in 139ms :: {"id":637,"title":"1. KYB Form: DevTest32","description":"Complete KYB verifi...
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "registeredAddress":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "registeredAddress" (ID: 3890)
[SERVER DEBUG] --- Finished processing field "registeredAddress" ---

[SERVER DEBUG] Processing field: "companyPhone" (ID: 7)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "companyPhone" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: companyPhone
[SERVER DEBUG] - field_id: 7
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "companyPhone":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "companyPhone" (ID: 3891)
[SERVER DEBUG] --- Finished processing field "companyPhone" ---

[SERVER DEBUG] Processing field: "priorNames" (ID: 8)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "priorNames" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: priorNames
[SERVER DEBUG] - field_id: 8
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "priorNames":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "priorNames" (ID: 3892)
[SERVER DEBUG] --- Finished processing field "priorNames" ---

[SERVER DEBUG] Processing field: "licenses" (ID: 9)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "licenses" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: licenses
[SERVER DEBUG] - field_id: 9
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "licenses":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "licenses" (ID: 3893)
[SERVER DEBUG] --- Finished processing field "licenses" ---

[KYB API Debug] Using client-provided status: not_started
[WebSocket] Broadcasting task update for task 637: progress=0, status=not_started
[WebSocket] Broadcast "task_updated" sent to 3 clients {
  type: 'task_updated',
  dataKeys: [ 'id', 'status', 'progress', 'metadata', 'timestamp' ],
  timestamp: '2025-04-25T10:25:34.122Z',
  clientCount: 3
}
===============================================
[SERVER DEBUG] PREPARING RESPONSE at 2025-04-25T10:25:34.154Z
[SERVER DEBUG] Found 30 fields in database after update
===============================================
[SERVER DEBUG] Checking field corporateRegistration in updated data: ""
[SERVER DEBUG] Checking field goodStanding in updated data: ""
[SERVER DEBUG] Checking field regulatoryActions in updated data: ""
[SERVER DEBUG] Checking field investigationsIncidents in updated data: ""
[SERVER DEBUG] No fields with value "asdf" found in response data
[SERVER DEBUG] Sending response with 30 fields, status: not_started, progress: 0%
[SERVER DEBUG] Updating task.savedFormData to ensure persistence across navigation
[SERVER DEBUG] ✅ Successfully updated task.savedFormData with latest form data
===============================================
10:25:34 AM [info] POST /api/kyb/progress 200 in 3169ms :: {"success":true,"savedData":{"progress":0,"status":"not_started","formData":{...
[Tasks Routes] Fetching task by ID (special .json endpoint): {
  taskId: 637,
  userCompanyId: 241,
  timestamp: '2025-04-25T10:25:34.274Z'
}
[Tasks Routes] Fetching latest KYB form data for task (special .json endpoint): 637
[Tasks Routes] Found 30 KYB responses for task 637 (special .json endpoint)
[Tasks Routes] Constructed form data with 30 fields (special .json endpoint)
[Tasks Routes] Task found by ID (special .json endpoint): {
  taskId: 637,
  title: '1. KYB Form: DevTest32',
  type: 'company_kyb',
  formDataFields: 30,
  timestamp: '2025-04-25T10:25:34.368Z'
}
10:25:34 AM [info] GET /api/tasks.json/637 200 in 127ms :: {"id":637,"title":"1. KYB Form: DevTest32","description":"Complete KYB verifi...
[Tasks Routes] Updating task progress: { taskId: 637, timestamp: '2025-04-25T10:25:34.853Z' }
[Task Reconciliation] Found 30 responses for task 637 (type: company_kyb)
[STATUS DETERMINATION] Calculating status for task with: {
  progress: 0,
  currentStatus: 'not_started',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  hasResponses: true,
  timestamp: '2025-04-25T10:25:34.918Z'
}
[STATUS DETERMINATION] Task has incomplete required fields, setting to IN_PROGRESS
[Task Reconciliation] Progress calculation: {
  taskId: 637,
  currentProgress: 0,
  calculatedProgress: 0,
  currentStatus: 'not_started',
  calculatedStatus: 'in_progress',
  responseCount: 30,
  completeCount: 0
}
[Task Reconciliation] Correcting task 637: {
  progressFrom: 0,
  progressTo: 0,
  statusFrom: 'not_started',
  statusTo: 'in_progress',
  forceUpdate: true
}
[Progress Utils] Broadcasting task progress update: {
  taskId: 637,
  progress: 0,
  requestedStatus: 'in_progress',
  finalStatus: 'in_progress',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  timestamp: '2025-04-25T10:25:34.951Z'
}
[WebSocket] Broadcast "task_updated" sent to 3 clients {
  type: 'task_updated',
  dataKeys: [ 'id', 'status', 'progress', 'metadata', 'timestamp' ],
  timestamp: '2025-04-25T10:25:34.951Z',
  clientCount: 3
}
[Tasks Routes] Task progress reconciled: {
  taskId: 637,
  progress: 0,
  status: 'in_progress',
  timestamp: '2025-04-25T10:25:34.983Z'
}
10:25:35 AM [info] POST /api/tasks/637/update-progress 200 in 163ms :: {"success":true,"progress":0,"status":"in_progress","taskId":637}
[Tasks Routes] Fetching task by ID (special .json endpoint): {
  taskId: 637,
  userCompanyId: 241,
  timestamp: '2025-04-25T10:25:35.107Z'
}
[Tasks Routes] Fetching latest KYB form data for task (special .json endpoint): 637
[Tasks Routes] Found 30 KYB responses for task 637 (special .json endpoint)
[Tasks Routes] Constructed form data with 30 fields (special .json endpoint)
[Tasks Routes] Task found by ID (special .json endpoint): {
  taskId: 637,
  title: '1. KYB Form: DevTest32',
  type: 'company_kyb',
  formDataFields: 30,
  timestamp: '2025-04-25T10:25:35.204Z'
}
10:25:35 AM [info] GET /api/tasks.json/637 200 in 129ms :: {"id":637,"title":"1. KYB Form: DevTest32","description":"Complete KYB verifi...
[TimestampHandler] Saving 30 timestamps for task 637
[TimestampHandler] Successfully saved timestamps for task 637
[TimestampAPI] Saved 30 timestamps for task 637
10:25:35 AM [info] POST /api/kyb/timestamps/637 200 in 66ms :: {"message":"Timestamps saved successfully","count":30}
===============================================
[SERVER DEBUG] KYB PROGRESS SAVE REQUEST RECEIVED at 2025-04-25T10:25:35.550Z
===============================================
Task ID: 637
Progress: 0
Status: not_started
Field count: 30
Sample form data values:
- goodStanding: "" (string)
- corporateRegistration: "" (string)
- externalAudit: "" (string)
- controlEnvironment: "" (string)
- authorizedSigners: "" (string)
Request details:
- Method: POST
- Content-Type: application/json
- Content-Length: 1740
===============================================
===============================================
[SERVER DEBUG] PROCESSING FORM DATA FIELDS AT 2025-04-25T10:25:35.616Z
[SERVER DEBUG] Task ID: 637, Field count: 30
======================