[ComponentFactory] Registering form service for task type: security_assessment 
Object {serviceType: Object, timestamp: "2025-05-03T20:27:17.296Z"}
[ComponentFactory] Current registered services: [ky3p: Object, sp_ky3p_assessment: Object, security: Object, security_assessment: Object]
[RegisterStandardizedServices] [RegisterServices] Successfully registered unified KY3P form service for all task types
[RegisterStandardizedServices] [RegisterServices] All standardized form services registered successfully
[App] Setting standardized form services as default
[RegisterStandardizedServices] [RegisterServices] Setting unified form services as default
[UnifiedKY3PFormService] [Unified KY3P] Initializing service 
Object {companyId: 0, taskId: 0, timestamp: "2025-05-03T20:27:17.296Z"}
[RegisterStandardizedServices] [RegisterServices] Re-registering unified KY3P service as default for task type: ky3p
[ComponentFactory] Registering form service for task type: ky3p 
Object {serviceType: "UnifiedKY3PFormService", timestamp: "2025-05-03T20:27:17.296Z"}
[ComponentFactory] Overriding existing service for task type: ky3p 
Object {oldServiceType: Object, newServiceType: "UnifiedKY3PFormService"}
[ComponentFactory] Current registered services: [ky3p: UnifiedKY3PFormService, sp_ky3p_assessment: Object, security: Object, security_assessment: Object]
[RegisterStandardizedServices] [RegisterServices] Re-registering unified KY3P service as default for task type: sp_ky3p_assessment
[ComponentFactory] Registering form service for task type: sp_ky3p_assessment 
Object {serviceType: "UnifiedKY3PFormService", timestamp: "2025-05-03T20:27:17.296Z"}
[ComponentFactory] Overriding existing service for task type: sp_ky3p_assessment 
Object {oldServiceType: Object, newServiceType: "UnifiedKY3PFormService"}
[ComponentFactory] Current registered services: [ky3p: UnifiedKY3PFormService, sp_ky3p_assessment: UnifiedKY3PFormService, security: Object, security_assessment: Object]
[RegisterStandardizedServices] [RegisterServices] Re-registering unified KY3P service as default for task type: security
[ComponentFactory] Registering form service for task type: security 
Object {serviceType: "UnifiedKY3PFormService", timestamp: "2025-05-03T20:27:17.297Z"}
[ComponentFactory] Overriding existing service for task type: security 
Object {oldServiceType: Object, newServiceType: "UnifiedKY3PFormService"}
[ComponentFactory] Current registered services: [ky3p: UnifiedKY3PFormService, sp_ky3p_assessment: UnifiedKY3PFormService, security: UnifiedKY3PFormService, security_assessment: Object]
[RegisterStandardizedServices] [RegisterServices] Re-registering unified KY3P service as default for task type: security_assessment
[ComponentFactory] Registering form service for task type: security_assessment 
Object {serviceType: "UnifiedKY3PFormService", timestamp: "2025-05-03T20:27:17.297Z"}
[ComponentFactory] Overriding existing service for task type: security_assessment 
Object {oldServiceType: Object, newServiceType: "UnifiedKY3PFormService"}
[ComponentFactory] Current registered services: [ky3p: UnifiedKY3PFormService, sp_ky3p_assessment: UnifiedKY3PFormService, security: UnifiedKY3PFormService, security_assessment: UnifiedKY3PFormService]
[RegisterStandardizedServices] [RegisterServices] Unified form services are now the default
[App] Initializing core services with explicit context values
[App] Using application context: 
Object {companyId: 0, taskId: 0}
[TanStack Query] Response for /api/user: Status 200
[WelcomeModal] Not rendering modal because: 
Object {noUser: false, onboardingCompleted: false, modalHidden: true}
[Sidebar] Available tabs updated: 
Object {tabs: Array(1), hasFileVault: false, hasDashboard: false, hasTaskCenter: true, currentRoute: "/", …}
[Sidebar] Tab state check: company=undefined, path=/, file-vault-unlocked=false
[Sidebar] Form submission was for company 262, but current company is undefined
[ONBOARDING DEBUG] WelcomeModal user data received: 
Object {userId: 309, email: "11@e.com", onboardingCompleted: false, userObject: "{↵  "id": 309,↵  "email": "11@e.com",↵  "full_name": "John Doe",↵  "first_name":…"}
[WebSocketEventBridge] Initializing event bridge
[ONBOARDING DEBUG] User object in AuthProvider changed: 
Object {userId: 309, onboardingCompleted: false, typeOfOnboardingFlag: "boolean", timestamp: "2025-05-03T20:27:17.497Z"}
[WelcomeModal] Not rendering modal because: 
Object {noUser: false, onboardingCompleted: false, modalHidden: true}
[Sidebar] Available tabs updated: 
Object {tabs: Array(1), hasFileVault: false, hasDashboard: false, hasTaskCenter: true, currentRoute: "/", …}
[Sidebar] Tab state check: company=undefined, path=/, file-vault-unlocked=false
[Sidebar] Form submission was for company 262, but current company is undefined
Preloaded image: /assets/harmonized_modal_userOboarding_2.png
[WelcomeModal] Not rendering modal because: 
Object {noUser: false, onboardingCompleted: false, modalHidden: true}
Preloaded image: /assets/modal_userOboarding_1.png
[WelcomeModal] Not rendering modal because: 
Object {noUser: false, onboardingCompleted: false, modalHidden: true}
[WelcomeModal] Not rendering modal because: 
Object {noUser: false, onboardingCompleted: false, modalHidden: true}
[Sidebar] Available tabs updated: 
Object {tabs: Array(1), hasFileVault: false, hasDashboard: false, hasTaskCenter: true, currentRoute: "/", …}
[Sidebar] Tab state check: company=266, path=/, file-vault-unlocked=false
[Sidebar] Form submission was for company 262, but current company is 266
[CurrentCompany] Setting company context: 266
[DashboardLayout] Tab "dashboard" is locked. Redirecting to task-center.
[Router] Current location: /task-center
[WelcomeModal] Not rendering modal because: 
Object {noUser: false, onboardingCompleted: false, modalHidden: true}
[WebSocketEventBridge] Cleaning up event bridge
[Sidebar] Available tabs updated: 
Object {tabs: Array(1), hasFileVault: false, hasDashboard: false, hasTaskCenter: true, currentRoute: "/task-center", …}
[Sidebar] Tab state check: company=266, path=/task-center, file-vault-unlocked=false
[Sidebar] Form submission was for company 262, but current company is 266
[CurrentCompany] Setting company context: 266
[ONBOARDING DEBUG] WelcomeModal user data received: 
Object {userId: 309, email: "11@e.com", onboardingCompleted: false, userObject: "{↵  "id": 309,↵  "email": "11@e.com",↵  "full_name": "John Doe",↵  "first_name":…"}
[WebSocketEventBridge] Initializing event bridge
[2025-05-03T20:27:17.748Z] [INFO] [TaskCenter] Page loaded - refreshing task statuses
[WelcomeModal] Not rendering modal because: 
Object {noUser: false, onboardingCompleted: false, modalHidden: true}
Preloaded image: /assets/modal_userOboarding_1.png
Preloaded image: /assets/harmonized_modal_userOboarding_2.png
Preloaded image: /assets/harmonized_modal_userOboarding_3.png
Preloaded image: /assets/harmonized_modal_userOboarding_4.png
[WelcomeModal] Not rendering modal because: 
Object {noUser: false, onboardingCompleted: false, modalHidden: true}
Preloaded image: /assets/harmonized_modal_userOboarding_5.png
[WelcomeModal] Not rendering modal because: 
Object {noUser: false, onboardingCompleted: false, modalHidden: true}
[WelcomeModal] Setting modal state: 
Object {userId: 309, onboardingCompleted: false, showModal: true}
Loading image: /assets/modal_userOboarding_1.png
Successfully loaded image: /assets/modal_userOboarding_1.png
Loading image: /assets/modal_userOboarding_1.png
[2025-05-03T20:27:18.870Z] [INFO] WebSocket connection established
Loading image: /assets/modal_userOboarding_1.png
[2025-05-03T20:27:18.872Z] [INFO] Received message of type: connection_established
Loading image: /assets/modal_userOboarding_1.png
[WebSocketEventBridge] Successfully subscribed to WebSocket events
[WebSocket] WebSocket connection established
[WebSocket] Received message: 
Object {type: "connection_established", payload: {…}, data: {…}}
[WebSocket] Server connection confirmed: undefined
[WebSocket] Received message: 
Object {type: "authenticated", payload: {…}, data: {…}}
Loading image: /assets/modal_userOboarding_1.png
[2025-05-03T20:27:48.690Z] [INFO] Received message of type: task_update
[WebSocket] Received message: 
Object {type: "task_update", payload: {…}, data: {…}, timestamp: "2025-05-03T20:27:48.750Z", messageId: "msg_1746304068750_eikn9ahlx"}
[TaskCenter] Raw WebSocket task_update data: 
Object {payload: {…}, data: {…}, taskId: 735, timestamp: "2025-05-03T20:27:48.750Z"}
[TaskCenter] WebSocket message structure analysis: 
Object {hasPayload: true, hasNestedPayload: false, hasData: true, hasNestedData: false, directTaskId: undefined, …}
[TaskCenter] WebSocket task_update processed: 
Object {taskId: 735, status: "not_started", progress: 0, metadata: {…}, timestamp: "2025-05-03T20:27:48.690Z"}
[TaskCenter] Update for task 735 is newer, applying 
Object {prevTimestamp: "2025-05-03T20:27:18.143Z", newTimestamp: "2025-05-03T20:27:48.690Z"}
[TaskCenter] Updated task state via WebSocket: 
Object {taskId: 735, progress: 0, status: "not_started", updatedTask: {…}}
Loading image: /assets/modal_userOboarding_1.png
[TaskCenter] Raw WebSocket task_update data: 
Object {payload: {…}, data: {…}, taskId: 734, timestamp: "2025-05-03T20:27:48.839Z"}
[TaskCenter] WebSocket message structure analysis: 
Object {hasPayload: true, hasNestedPayload: false, hasData: true, hasNestedData: false, directTaskId: undefined, …}
[TaskCenter] WebSocket task_update processed: 
Object {taskId: 734, status: "not_started", progress: 0, metadata: {…}, timestamp: "2025-05-03T20:27:48.778Z"}
[TaskCenter] Update for task 734 is newer, applying 
Object {prevTimestamp: "2025-05-03T20:27:18.143Z", newTimestamp: "2025-05-03T20:27:48.778Z"}
[TaskCenter] Updated task state via WebSocket: 
Object {taskId: 734, progress: 0, status: "not_started", updatedTask: {…}}
[2025-05-03T20:27:48.778Z] [INFO] Received message of type: task_update
Loading image: /assets/modal_userOboarding_1.png
[WebSocket] Received message: 
Object {type: "task_update", payload: {…}, data: {…}, timestamp: "2025-05-03T20:27:48.839Z", messageId: "msg_1746304068839_6wbvrjf26"}
[WebSocket] Received message: 
Object {type: "task_update", payload: {…}, data: {…}, timestamp: "2025-05-03T20:27:48.933Z", messageId: "msg_1746304068933_o6a746gji"}
[2025-05-03T20:27:48.874Z] [INFO] Received message of type: task_update
Loading image: /assets/modal_userOboarding_1.png
[TaskCenter] Raw WebSocket task_update data: 
Object {payload: {…}, data: {…}, taskId: 736, timestamp: "2025-05-03T20:27:48.933Z"}
[TaskCenter] WebSocket message structure analysis: 
Object {hasPayload: true, hasNestedPayload: false, hasData: true, hasNestedData: false, directTaskId: undefined, …}
[TaskCenter] WebSocket task_update processed: 
Object {taskId: 736, status: "not_started", progress: 0, metadata: {…}, timestamp: "2025-05-03T20:27:48.875Z"}
[TaskCenter] Update for task 736 is newer, applying 
Object {prevTimestamp: "2025-05-03T20:27:18.143Z", newTimestamp: "2025-05-03T20:27:48.875Z"}
[TaskCenter] Updated task state via WebSocket: 
Object {taskId: 736, progress: 0, status: "not_started", updatedTask: {…}}
Loading image: /assets/modal_userOboarding_1.png
[WebSocket] Received message: 
Object {type: "pong", payload: {…}, data: {…}}
Loading image: /assets/modal_userOboarding_1.png
[2025-05-03T20:28:19.469Z] [INFO] Received message of type: task_update
[WebSocket] Received message: 
Object {type: "task_update", payload: {…}, data: {…}, timestamp: "2025-05-03T20:28:19.530Z", messageId: "msg_1746304099530_vkjllajbm"}
Loading image: /assets/modal_userOboarding_1.png
[TaskCenter] Raw WebSocket task_update data: 
Object {payload: {…}, data: {…}, taskId: 735, timestamp: "2025-05-03T20:28:19.530Z"}
[TaskCenter] WebSocket message structure analysis: 
Object {hasPayload: true, hasNestedPayload: false, hasData: true, hasNestedData: false, directTaskId: undefined, …}
[TaskCenter] WebSocket task_update processed: 
Object {taskId: 735, status: "not_started", progress: 0, metadata: {…}, timestamp: "2025-05-03T20:28:19.471Z"}
[TaskCenter] Update for task 735 is newer, applying 
Object {prevTimestamp: "2025-05-03T20:27:48.979Z", newTimestamp: "2025-05-03T20:28:19.471Z"}
[TaskCenter] Updated task state via WebSocket: 
Object {taskId: 735, progress: 0, status: "not_started", updatedTask: {…}}
[WebSocket] Received message: 
Object {type: "task_update", payload: {…}, data: {…}, timestamp: "2025-05-03T20:28:19.620Z", messageId: "msg_1746304099620_8cnsm3cpy"}
[TaskCenter] Raw WebSocket task_update data: 
Object {payload: {…}, data: {…}, taskId: 736, timestamp: "2025-05-03T20:28:19.620Z"}
[TaskCenter] WebSocket message structure analysis: 
Object {hasPayload: true, hasNestedPayload: false, hasData: true, hasNestedData: false, directTaskId: undefined, …}
[TaskCenter] WebSocket task_update processed: 
Object {taskId: 736, status: "not_started", progress: 0, metadata: {…}, timestamp: "2025-05-03T20:28:19.559Z"}
[TaskCenter] Update for task 736 is newer, applying 
Object {prevTimestamp: "2025-05-03T20:27:48.979Z", newTimestamp: "2025-05-03T20:28:19.559Z"}
[TaskCenter] Updated task state via WebSocket: 
Object {taskId: 736, progress: 0, status: "not_started", updatedTask: {…}}
[2025-05-03T20:28:19.559Z] [INFO] Received message of type: task_update
Loading image: /assets/modal_userOboarding_1.png
[2025-05-03T20:28:19.648Z] [INFO] Received message of type: task_update
Loading image: /assets/modal_userOboarding_1.png
[WebSocket] Received message: 
Object {type: "task_update", payload: {…}, data: {…}, timestamp: "2025-05-03T20:28:19.709Z", messageId: "msg_1746304099709_00vs8p9wo"}
[TaskCenter] Raw WebSocket task_update data: 
Object {payload: {…}, data: {…}, taskId: 734, timestamp: "2025-05-03T20:28:19.709Z"}
[TaskCenter] WebSocket message structure analysis: 
Object {hasPayload: true, hasNestedPayload: false, hasData: true, hasNestedData: false, directTaskId: undefined, …}
[TaskCenter] WebSocket task_update processed: 
Object {taskId: 734, status: "not_started", progress: 0, metadata: {…}, timestamp: "2025-05-03T20:28:19.649Z"}
[TaskCenter] Update for task 734 is newer, applying 
Object {prevTimestamp: "2025-05-03T20:27:48.979Z", newTimestamp: "2025-05-03T20:28:19.649Z"}
[TaskCenter] Updated task state via WebSocket: 
Object {taskId: 734, progress: 0, status: "not_started", updatedTask: {…}}