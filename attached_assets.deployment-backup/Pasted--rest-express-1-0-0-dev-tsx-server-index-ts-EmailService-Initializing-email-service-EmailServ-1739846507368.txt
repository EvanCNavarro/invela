> rest-express@1.0.0 dev
> tsx server/index.ts

[EmailService] Initializing email service
[EmailService] Email service initialized successfully
[Auth] Setting up authentication...
[Auth] Authentication setup completed
[Routes] Routes setup completed
2:40:37 AM [express] Server running on port 5000
[2025-02-18T02:40:37.710Z] New client connected to the pool
[Auth] Deserializing user: 8
[2025-02-18T02:40:39.018Z] New client connected to the pool
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[2025-02-18T02:40:41.157Z] New client connected to the pool
[Auth] Deserializing user: 8
[2025-02-18T02:40:41.352Z] New client connected to the pool
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Unauthenticated user session
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[2025-02-18T02:40:42.250Z] New client connected to the pool
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Returning user session data
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Tasks] Fetching tasks for user: 8
[Tasks] Found tasks: 4
[Tasks] Tasks data: [
  {
    "id": 121,
    "title": "New User Invitation: darek.nehrebecki@invela.com",
    "description": "Invitation sent to Darek Nehrebecki to join Invela",
    "taskType": "user_onboarding",
    "taskScope": "user",
    "status": "email_sent",
    "priority": "medium",
    "progress": 25,
    "assignedTo": null,
    "createdBy": 8,
    "companyId": 0,
    "userEmail": "darek.nehrebecki@invela.com",
    "dueDate": "2025-02-20T22:57:45.987Z",
    "completionDate": null,
    "filesRequested": [],
    "filesUploaded": [],
    "metadata": {
      "userId": 106,
      "senderName": "Evan Navarro",
      "statusFlow": [
        "email_sent"
      ],
      "emailSentAt": "2025-02-13T22:57:46.022Z",
      "invitationId": 123,
      "invitationCode": "17D1FF"
    },
    "createdAt": "2025-02-13T22:57:45.839Z",
    "updatedAt": "2025-02-13T22:57:45.839Z"
  },
  {
    "id": 122,
    "title": "New User Invitation: gaby.sulbaran@invela.com",
    "description": "Invitation sent to Gaby Sulbaran to join Invela",
    "taskType": "user_onboarding",
    "taskScope": "user",
    "status": "email_sent",
    "priority": "medium",
    "progress": 25,
    "assignedTo": null,
    "createdBy": 8,
    "companyId": 0,
    "userEmail": "gaby.sulbaran@invela.com",
    "dueDate": "2025-02-20T23:00:08.436Z",
    "completionDate": null,
    "filesRequested": [],
    "filesUploaded": [],
    "metadata": {
      "userId": 107,
      "senderName": "Evan Navarro",
      "statusFlow": [
        "email_sent"
      ],
      "emailSentAt": "2025-02-13T23:00:08.468Z",
      "invitationId": 124,
      "invitationCode": "BB1C41"
    },
    "createdAt": "2025-02-13T23:00:08.312Z",
    "updatedAt": "2025-02-13T23:00:08.312Z"
  },
  {
    "id": 123,
    "title": "New User Invitation: dev.kurbur@invela.com",
    "description": "Invitation sent to Dev Kurbur to join Invela",
    "taskType": "user_onboarding",
    "taskScope": "user",
    "status": "email_sent",
    "priority": "medium",
    "progress": 25,
    "assignedTo": null,
    "createdBy": 8,
    "companyId": 0,
    "userEmail": "dev.kurbur@invela.com",
    "dueDate": "2025-02-20T23:01:02.877Z",
    "completionDate": null,
    "filesRequested": [],
    "filesUploaded": [],
    "metadata": {
      "userId": 108,
      "senderName": "Evan Navarro",
      "statusFlow": [
        "email_sent"
      ],
      "emailSentAt": "2025-02-13T23:01:02.908Z",
      "invitationId": 125,
      "invitationCode": "BB2E73"
    },
    "createdAt": "2025-02-13T23:01:02.749Z",
    "updatedAt": "2025-02-13T23:01:02.749Z"
  },
  {
    "id": 124,
    "title": "New User Invitation: amar.karvir@invela.com",
    "description": "Invitation sent to Amar Karvir to join Invela",
    "taskType": "user_onboarding",
    "taskScope": "user",
    "status": "email_sent",
    "priority": "medium",
    "progress": 25,
    "assignedTo": null,
    "createdBy": 8,
    "companyId": 0,
    "userEmail": "amar.karvir@invela.com",
    "dueDate": "2025-02-20T23:01:48.204Z",
    "completionDate": null,
    "filesRequested": [],
    "filesUploaded": [],
    "metadata": {
      "userId": 109,
      "senderName": "Evan Navarro",
      "statusFlow": [
        "email_sent"
      ],
      "emailSentAt": "2025-02-13T23:01:48.235Z",
      "invitationId": 126,
      "invitationCode": "6CD887"
    },
    "createdAt": "2025-02-13T23:01:48.050Z",
    "updatedAt": "2025-02-13T23:01:48.050Z"
  }
]
2:40:47 AM [info] GET /api/tasks 304 in 58ms :: [{"id":121,"title":"New User Invitation: darek.nehrebecki@invela.com","descri...
2:40:47 AM [info] GET /api/companies/current 304 in 60ms :: {"id":0,"name":"Invela","description":"A stealth startup revolutionizing open...
[Auth] Deserializing user: 8
[Auth] Returning user session data
[Auth] Deserializing user: 8
[Tasks] Fetching tasks for user: 8
[Tasks] Found tasks: 4
[Tasks] Tasks data: [
  {
    "id": 121,
    "title": "New User Invitation: darek.nehrebecki@invela.com",
    "description": "Invitation sent to Darek Nehrebecki to join Invela",
    "taskType": "user_onboarding",
    "taskScope": "user",
    "status": "email_sent",
    "priority": "medium",
    "progress": 25,
    "assignedTo": null,
    "createdBy": 8,
    "companyId": 0,
    "userEmail": "darek.nehrebecki@invela.com",
    "dueDate": "2025-02-20T22:57:45.987Z",
    "completionDate": null,
    "filesRequested": [],
    "filesUploaded": [],
    "metadata": {
      "userId": 106,
      "senderName": "Evan Navarro",
      "statusFlow": [
        "email_sent"
      ],
      "emailSentAt": "2025-02-13T22:57:46.022Z",
      "invitationId": 123,
      "invitationCode": "17D1FF"
    },
    "createdAt": "2025-02-13T22:57:45.839Z",
    "updatedAt": "2025-02-13T22:57:45.839Z"
  },
  {
    "id": 122,
    "title": "New User Invitation: gaby.sulbaran@invela.com",
    "description": "Invitation sent to Gaby Sulbaran to join Invela",
    "taskType": "user_onboarding",
    "taskScope": "user",
    "status": "email_sent",
    "priority": "medium",
    "progress": 25,
    "assignedTo": null,
    "createdBy": 8,
    "companyId": 0,
    "userEmail": "gaby.sulbaran@invela.com",
    "dueDate": "2025-02-20T23:00:08.436Z",
    "completionDate": null,
    "filesRequested": [],
    "filesUploaded": [],
    "metadata": {
      "userId": 107,
      "senderName": "Evan Navarro",
      "statusFlow": [
        "email_sent"
      ],
      "emailSentAt": "2025-02-13T23:00:08.468Z",
      "invitationId": 124,
      "invitationCode": "BB1C41"
    },
    "createdAt": "2025-02-13T23:00:08.312Z",
    "updatedAt": "2025-02-13T23:00:08.312Z"
  },
  {
    "id": 123,
    "title": "New User Invitation: dev.kurbur@invela.com",
    "description": "Invitation sent to Dev Kurbur to join Invela",
    "taskType": "user_onboarding",
    "taskScope": "user",
    "status": "email_sent",
    "priority": "medium",
    "progress": 25,
    "assignedTo": null,
    "createdBy": 8,
    "companyId": 0,
    "userEmail": "dev.kurbur@invela.com",
    "dueDate": "2025-02-20T23:01:02.877Z",
    "completionDate": null,
    "filesRequested": [],
    "filesUploaded": [],
    "metadata": {
      "userId": 108,
      "senderName": "Evan Navarro",
      "statusFlow": [
        "email_sent"
      ],
      "emailSentAt": "2025-02-13T23:01:02.908Z",
      "invitationId": 125,
      "invitationCode": "BB2E73"
    },
    "createdAt": "2025-02-13T23:01:02.749Z",
    "updatedAt": "2025-02-13T23:01:02.749Z"
  },
  {
    "id": 124,
    "title": "New User Invitation: amar.karvir@invela.com",
    "description": "Invitation sent to Amar Karvir to join Invela",
    "taskType": "user_onboarding",
    "taskScope": "user",
    "status": "email_sent",
    "priority": "medium",
    "progress": 25,
    "assignedTo": null,
    "createdBy": 8,
    "companyId": 0,
    "userEmail": "amar.karvir@invela.com",
    "dueDate": "2025-02-20T23:01:48.204Z",
    "completionDate": null,
    "filesRequested": [],
    "filesUploaded": [],
    "metadata": {
      "userId": 109,
      "senderName": "Evan Navarro",
      "statusFlow": [
        "email_sent"
      ],
      "emailSentAt": "2025-02-13T23:01:48.235Z",
      "invitationId": 126,
      "invitationCode": "6CD887"
    },
    "createdAt": "2025-02-13T23:01:48.050Z",
    "updatedAt": "2025-02-13T23:01:48.050Z"
  }
]
2:40:48 AM [info] GET /api/tasks 304 in 59ms :: [{"id":121,"title":"New User Invitation: darek.nehrebecki@invela.com","descri...
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
[Auth] Deserializing user: 8
2:40:48 AM [info] GET /api/companies/current 304 in 60ms :: {"id":0,"name":"Invela","description":"A stealth startup revolutionizing open...
[Tasks] Fetching tasks for user: 8
[Tasks] Found tasks: 4
[Tasks] Tasks data: [
  {
    "id": 121,
    "title": "New User Invitation: darek.nehrebecki@invela.com",
    "description": "Invitation sent to Darek Nehrebecki to join Invela",
    "taskType": "user_onboarding",
    "taskScope": "user",
    "status": "email_sent",
    "priority": "medium",
    "progress": 25,
    "assignedTo": null,
    "createdBy": 8,
    "companyId": 0,
    "userEmail": "darek.nehrebecki@invela.com",
    "dueDate": "2025-02-20T22:57:45.987Z",
    "completionDate": null,
    "filesRequested": [],
    "filesUploaded": [],
    "metadata": {
      "userId": 106,
      "senderName": "Evan Navarro",
      "statusFlow": [
        "email_sent"
      ],
      "emailSentAt": "2025-02-13T22:57:46.022Z",
      "invitationId": 123,
      "invitationCode": "17D1FF"
    },
    "createdAt": "2025-02-13T22:57:45.839Z",
    "updatedAt": "2025-02-13T22:57:45.839Z"
  },
  {
    "id": 122,
    "title": "New User Invitation: gaby.sulbaran@invela.com",
    "description": "Invitation sent to Gaby Sulbaran to join Invela",
    "taskType": "user_onboarding",
    "taskScope": "user",
    "status": "email_sent",
    "priority": "medium",
    "progress": 25,
    "assignedTo": null,
    "createdBy": 8,
    "companyId": 0,
    "userEmail": "gaby.sulbaran@invela.com",
    "dueDate": "2025-02-20T23:00:08.436Z",
    "completionDate": null,
    "filesRequested": [],
    "filesUploaded": [],
    "metadata": {
      "userId": 107,
      "senderName": "Evan Navarro",
      "statusFlow": [
        "email_sent"
      ],
      "emailSentAt": "2025-02-13T23:00:08.468Z",
      "invitationId": 124,
      "invitationCode": "BB1C41"
    },
    "createdAt": "2025-02-13T23:00:08.312Z",
    "updatedAt": "2025-02-13T23:00:08.312Z"
  },
  {
    "id": 123,
    "title": "New User Invitation: dev.kurbur@invela.com",
    "description": "Invitation sent to Dev Kurbur to join Invela",
    "taskType": "user_onboarding",
    "taskScope": "user",
    "status": "email_sent",
    "priority": "medium",
    "progress": 25,
    "assignedTo": null,
    "createdBy": 8,
    "companyId": 0,
    "userEmail": "dev.kurbur@invela.com",
    "dueDate": "2025-02-20T23:01:02.877Z",
    "completionDate": null,
    "filesRequested": [],
    "filesUploaded": [],
    "metadata": {
      "userId": 108,
      "senderName": "Evan Navarro",
      "statusFlow": [
        "email_sent"
      ],
      "emailSentAt": "2025-02-13T23:01:02.908Z",
      "invitationId": 125,
      "invitationCode": "BB2E73"
    },
    "createdAt": "2025-02-13T23:01:02.749Z",
    "updatedAt": "2025-02-13T23:01:02.749Z"
  },
  {
    "id": 124,
    "title": "New User Invitation: amar.karvir@invela.com",
    "description": "Invitation sent to Amar Karvir to join Invela",
    "taskType": "user_onboarding",
    "taskScope": "user",
    "status": "email_sent",
    "priority": "medium",
    "progress": 25,
    "assignedTo": null,
    "createdBy": 8,
    "companyId": 0,
    "userEmail": "amar.karvir@invela.com",
    "dueDate": "2025-02-20T23:01:48.204Z",
    "completionDate": null,
    "filesRequested": [],
    "filesUploaded": [],
    "metadata": {
      "userId": 109,
      "senderName": "Evan Navarro",
      "statusFlow": [
        "email_sent"
      ],
      "emailSentAt": "2025-02-13T23:01:48.235Z",
      "invitationId": 126,
      "invitationCode": "6CD887"
    },
    "createdAt": "2025-02-13T23:01:48.050Z",
    "updatedAt": "2025-02-13T23:01:48.050Z"
  }
]
2:40:48 AM [info] GET /api/tasks 304 in 61ms :: [{"id":121,"title":"New User Invitation: darek.nehrebecki@invela.com","descri...
[Auth] Deserializing user: 8
[Tasks] Fetching tasks for user: 8
[Tasks] Found tasks: 4
[Tasks] Tasks data: [
  {
    "id": 121,
    "title": "New User Invitation: darek.nehrebecki@invela.com",
    "description": "Invitation sent to Darek Nehrebecki to join Invela",
    "taskType": "user_onboarding",
    "taskScope": "user",
    "status": "email_sent",
    "priority": "medium",
    "progress": 25,
    "assignedTo": null,
    "createdBy": 8,
    "companyId": 0,
    "userEmail": "darek.nehrebecki@invela.com",
    "dueDate": "2025-02-20T22:57:45.987Z",
    "completionDate": null,
    "filesRequested": [],
    "filesUploaded": [],
    "metadata": {
      "userId": 106,
      "senderName": "Evan Navarro",
      "statusFlow": [
        "email_sent"
      ],
      "emailSentAt": "2025-02-13T22:57:46.022Z",
      "invitationId": 123,
      "invitationCode": "17D1FF"
    },
    "createdAt": "2025-02-13T22:57:45.839Z",
    "updatedAt": "2025-02-13T22:57:45.839Z"
  },
  {
    "id": 122,
    "title": "New User Invitation: gaby.sulbaran@invela.com",
    "description": "Invitation sent to Gaby Sulbaran to join Invela",
    "taskType": "user_onboarding",
    "taskScope": "user",
    "status": "email_sent",
    "priority": "medium",
    "progress": 25,
    "assignedTo": null,
    "createdBy": 8,
    "companyId": 0,
    "userEmail": "gaby.sulbaran@invela.com",
    "dueDate": "2025-02-20T23:00:08.436Z",
    "completionDate": null,
    "filesRequested": [],
    "filesUploaded": [],
    "metadata": {
      "userId": 107,
      "senderName": "Evan Navarro",
      "statusFlow": [
        "email_sent"
      ],
      "emailSentAt": "2025-02-13T23:00:08.468Z",
      "invitationId": 124,
      "invitationCode": "BB1C41"
    },
    "createdAt": "2025-02-13T23:00:08.312Z",
    "updatedAt": "2025-02-13T23:00:08.312Z"
  },
  {
    "id": 123,
    "title": "New User Invitation: dev.kurbur@invela.com",
    "description": "Invitation sent to Dev Kurbur to join Invela",
    "taskType": "user_onboarding",
    "taskScope": "user",
    "status": "email_sent",
    "priority": "medium",
    "progress": 25,
    "assignedTo": null,
    "createdBy": 8,
    "companyId": 0,
    "userEmail": "dev.kurbur@invela.com",
    "dueDate": "2025-02-20T23:01:02.877Z",
    "completionDate": null,
    "filesRequested": [],
    "filesUploaded": [],
    "metadata": {
      "userId": 108,
      "senderName": "Evan Navarro",
      "statusFlow": [
        "email_sent"
      ],
      "emailSentAt": "2025-02-13T23:01:02.908Z",
      "invitationId": 125,
      "invitationCode": "BB2E73"
    },
    "createdAt": "2025-02-13T23:01:02.749Z",
    "updatedAt": "2025-02-13T23:01:02.749Z"
  },
  {
    "id": 124,
    "title": "New User Invitation: amar.karvir@invela.com",
    "description": "Invitation sent to Amar Karvir to join Invela",
    "taskType": "user_onboarding",
    "taskScope": "user",
    "status": "email_sent",
    "priority": "medium",
    "progress": 25,
    "assignedTo": null,
    "createdBy": 8,
    "companyId": 0,
    "userEmail": "amar.karvir@invela.com",
    "dueDate": "2025-02-20T23:01:48.204Z",
    "completionDate": null,
    "filesRequested": [],
    "filesUploaded": [],
    "metadata": {
      "userId": 109,
      "senderName": "Evan Navarro",
      "statusFlow": [
        "email_sent"
      ],
      "emailSentAt": "2025-02-13T23:01:48.235Z",
      "invitationId": 126,
      "invitationCode": "6CD887"
    },
    "createdAt": "2025-02-13T23:01:48.050Z",
    "updatedAt": "2025-02-13T23:01:48.050Z"
  }
]
2:40:48 AM [info] GET /api/tasks 304 in 63ms :: [{"id":121,"title":"New User Invitation: darek.nehrebecki@invela.com","descri...
