> rest-express@1.0.0 dev
Database migrations disabled - schema already applied
[EmailService] Initializing email service
[EmailService] Email service initialized successfully
[OpenAI] Service initialized with API key: API key is set
[Auth] Setting up authentication...
[Auth] Authentication setup completed
[2025-04-25T06:44:34.639Z] [INFO] [OpenBankingRoutes] [OpenBankingRoutes] Setting up routes...
[Routes] Routes setup completed
[WebSocket] Server initialized on path: /ws
6:44:34 AM [info] Setting up Vite development server
6:44:34 AM [express] Server running on port 5000
New WebSocket client connected
New WebSocket client connected
New WebSocket client connected
WebSocket client disconnected with code 1001 and reason: 
WebSocket client disconnected with code 1001 and reason: 
WebSocket client disconnected with code 1001 and reason: 
[2025-04-25T06:44:49.723Z] New client connected to the pool (1/3)
[Auth] Deserializing user: 283
[2025-04-25T06:44:53.753Z] New client connected to the pool (2/3)
[Auth] Using cached user data: 283
[Auth] Using cached user data: 283
[Auth] Using cached user data: 283
[Auth] Using cached user data: 283
[Auth] Using cached user data: 283
[Auth] Using cached user data: 283
[Auth] Using cached user data: 283
[Auth] Using cached user data: 283
[Auth] Using cached user data: 283
[Auth] Using cached user data: 283
[Auth] Using cached user data: 283
[Auth] Using cached user data: 283
[Auth] Using cached user data: 283
[Auth] Using cached user data: 283
[2025-04-25T06:45:17.677Z] New client connected to the pool (3/3)
[Auth] Using cached user data: 283
[Auth] Returning user session data
[Tasks] ====== Starting task fetch =====
[Tasks] User details: { id: 283, company_id: 241, email: '32@e.com' }
[2025-04-25T06:45:18.432Z] [INFO] [KYBRoutes] Performing dynamic task unlocking check for company {"companyId":241,"userId":283}
[Current Company] Fetching company for user: { userId: 283, companyId: 241 }
[2025-04-25T06:45:18.491Z] [INFO] [KYBRoutes] No completed KYB tasks found, skipping security task unlock check {"companyId":241}
[Tasks] Automatically unlocking all tasks for company { userId: 283, companyId: 241, requestedBy: 'automatic_task_unlock' }
[Current Company] Found company: {
  id: 241,
  name: 'DevTest32',
  onboardingCompleted: false,
  riskScore: null,
  chosenScore: null,
  isDemo: true
}
[2025-04-25T06:45:18.495Z] [INFO] [TaskDependencies] [TaskDependencies] Unlocking ALL tasks for company {"companyId":241}
[2025-04-25T06:45:18.525Z] [INFO] [TaskDependencies] [TaskDependencies] Found tasks to unlock {"companyId":241,"count":3,"taskIds":[639,638,637],"taskTypes":["open_banking","ky3p","company_kyb"]}
6:45:18 AM [info] GET /api/companies/current 304 in 93ms :: {"id":241,"name":"DevTest32","category":"FinTech","is_demo":true,"revenue_tie...
New WebSocket client connected
[2025-04-25T06:45:18.568Z] [INFO] [TaskDependencies] [TaskDependencies] Unlocked task {"companyId":241,"taskId":639,"taskType":"open_banking"}
[WebSocket] Broadcast "task_updated" sent to 1 clients {
  type: 'task_updated',
  dataKeys: [ 'id', 'status', 'metadata', 'timestamp' ],
  timestamp: '2025-04-25T06:45:18.568Z',
  clientCount: 1
}
[2025-04-25T06:45:18.601Z] [INFO] [TaskDependencies] [TaskDependencies] Unlocked task {"companyId":241,"taskId":638,"taskType":"ky3p"}
[WebSocket] Broadcast "task_updated" sent to 1 clients {
  type: 'task_updated',
  dataKeys: [ 'id', 'status', 'metadata', 'timestamp' ],
  timestamp: '2025-04-25T06:45:18.601Z',
  clientCount: 1
}
[2025-04-25T06:45:18.635Z] [INFO] [TaskDependencies] [TaskDependencies] Unlocked task {"companyId":241,"taskId":637,"taskType":"company_kyb"}
[WebSocket] Broadcast "task_updated" sent to 1 clients {
  type: 'task_updated',
  dataKeys: [ 'id', 'status', 'metadata', 'timestamp' ],
  timestamp: '2025-04-25T06:45:18.635Z',
  clientCount: 1
}
[2025-04-25T06:45:18.635Z] [INFO] [TaskDependencies] [TaskDependencies] Successfully unlocked all tasks {"companyId":241,"count":3}
[Tasks] Successfully unlocked all tasks for company: 241
[Tasks] KYB tasks found: { count: 1 }
[Tasks] Query conditions: {
  conditions: {
    condition1: 'tasks.assigned_to = 283',
    condition2: 'tasks.created_by = 283',
    condition3: "tasks.company_id = 241 AND tasks.assigned_to IS NULL AND tasks.task_scope = 'company'",
    condition4: "tasks.task_type = 'user_onboarding' AND LOWER(tasks.user_email) = LOWER('32@e.com')"
  }
}
[Tasks] Tasks found: { count: 4 }
6:45:18 AM [info] GET /api/tasks 200 in 302ms :: [{"id":639,"title":"3. Open Banking Survey: DevTest32","description":"Complet...
6:45:18 AM [info] GET /api/tasks 304 in 31ms :: [{"id":639,"title":"3. Open Banking Survey: DevTest32","description":"Complet...
New WebSocket client connected
6:45:28 AM [info] GET /api/companies/current 304 in 31ms :: {"id":241,"name":"DevTest32","category":"FinTech","is_demo":true,"revenue_tie...
6:45:33 AM [info] GET /api/tasks 304 in 35ms :: [{"id":639,"title":"3. Open Banking Survey: DevTest32","description":"Complet...
6:45:38 AM [info] GET /api/companies/current 304 in 31ms :: {"id":241,"name":"DevTest32","category":"FinTech","is_demo":true,"revenue_tie...
[WebSocket] Received ping
[Tasks] ====== Starting task fetch =====
[Tasks] User details: { id: 283, company_id: 241, email: '32@e.com' }
[2025-04-25T06:45:49.087Z] [INFO] [KYBRoutes] Performing dynamic task unlocking check for company {"companyId":241,"userId":283}
6:45:49 AM [info] GET /api/companies/current 304 in 33ms :: {"id":241,"name":"DevTest32","category":"FinTech","is_demo":true,"revenue_tie...
[2025-04-25T06:45:49.123Z] [INFO] [KYBRoutes] No completed KYB tasks found, skipping security task unlock check {"companyId":241}
[Tasks] Automatically unlocking all tasks for company { userId: 283, companyId: 241, requestedBy: 'automatic_task_unlock' }
[2025-04-25T06:45:49.124Z] [INFO] [TaskDependencies] [TaskDependencies] Unlocking ALL tasks for company {"companyId":241}
[2025-04-25T06:45:49.156Z] [INFO] [TaskDependencies] [TaskDependencies] Found tasks to unlock {"companyId":241,"count":3,"taskIds":[639,638,637],"taskTypes":["open_banking","ky3p","company_kyb"]}
[2025-04-25T06:45:49.188Z] [INFO] [TaskDependencies] [TaskDependencies] Unlocked task {"companyId":241,"taskId":639,"taskType":"open_banking"}
[WebSocket] Broadcast "task_updated" sent to 2 clients {
  type: 'task_updated',
  dataKeys: [ 'id', 'status', 'metadata', 'timestamp' ],
  timestamp: '2025-04-25T06:45:49.188Z',
  clientCount: 2
}
[2025-04-25T06:45:49.220Z] [INFO] [TaskDependencies] [TaskDependencies] Unlocked task {"companyId":241,"taskId":638,"taskType":"ky3p"}
[WebSocket] Broadcast "task_updated" sent to 2 clients {
  type: 'task_updated',
  dataKeys: [ 'id', 'status', 'metadata', 'timestamp' ],
  timestamp: '2025-04-25T06:45:49.220Z',
  clientCount: 2
}
[2025-04-25T06:45:49.252Z] [INFO] [TaskDependencies] [TaskDependencies] Unlocked task {"companyId":241,"taskId":637,"taskType":"company_kyb"}
[WebSocket] Broadcast "task_updated" sent to 2 clients {
  type: 'task_updated',
  dataKeys: [ 'id', 'status', 'metadata', 'timestamp' ],
  timestamp: '2025-04-25T06:45:49.252Z',
  clientCount: 2
}
[2025-04-25T06:45:49.253Z] [INFO] [TaskDependencies] [TaskDependencies] Successfully unlocked all tasks {"companyId":241,"count":3}
[Tasks] Successfully unlocked all tasks for company: 241
[Tasks] KYB tasks found: { count: 1 }
[Tasks] Query conditions: {
  conditions: {
    condition1: 'tasks.assigned_to = 283',
    condition2: 'tasks.created_by = 283',
    condition3: "tasks.company_id = 241 AND tasks.assigned_to IS NULL AND tasks.task_scope = 'company'",
    condition4: "tasks.task_type = 'user_onboarding' AND LOWER(tasks.user_email) = LOWER('32@e.com')"
  }
}
[Tasks] Tasks found: { count: 4 }
6:45:49 AM [info] GET /api/tasks 200 in 261ms :: [{"id":639,"title":"3. Open Banking Survey: DevTest32","description":"Complet...
[Tasks Routes] Fetching task by ID (special .json endpoint): {
  taskId: 637,
  userCompanyId: 241,
  timestamp: '2025-04-25T06:45:59.054Z'
}
[Tasks] Using cached task data for user: 283
[Tasks Routes] Fetching latest KYB form data for task (special .json endpoint): 637
6:45:59 AM [info] GET /api/companies/current 304 in 34ms :: {"id":241,"name":"DevTest32","category":"FinTech","is_demo":true,"revenue_tie...
6:45:59 AM [info] GET /api/tasks 304 in 31ms :: [{"id":639,"title":"3. Open Banking Survey: DevTest32","description":"Complet...
[Tasks Routes] Found 30 KYB responses for task 637 (special .json endpoint)
[Tasks Routes] Constructed form data with 30 fields (special .json endpoint)
[Tasks Routes] Task found by ID (special .json endpoint): {
  taskId: 637,
  title: '1. KYB Form: DevTest32',
  type: 'company_kyb',
  formDataFields: 30,
  timestamp: '2025-04-25T06:45:59.178Z'
}
6:45:59 AM [info] GET /api/tasks.json/637 200 in 154ms :: {"id":637,"title":"1. KYB Form: DevTest32","description":"Complete KYB verifi...
New WebSocket client connected
[Tasks Routes] Updating task progress: { taskId: 637, timestamp: '2025-04-25T06:45:59.426Z' }
[Auth] Returning user session data
[Auth] Using cached user data: 283
[Task Templates API] Fetching template for task type: company_kyb, user: 283
[Task Templates API] Found template: 1 (KYB Form) for task type: company_kyb
[Task Reconciliation] Found 30 responses for task 637 (type: company_kyb)
[STATUS DETERMINATION] Calculating status for task with: {
  progress: 0,
  currentStatus: 'not_started',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  hasResponses: true,
  timestamp: '2025-04-25T06:45:59.489Z'
}
[STATUS DETERMINATION] Task has incomplete required fields, setting to IN_PROGRESS
[Task Reconciliation] Progress calculation: {
  taskId: 637,
  currentProgress: 0,
  calculatedProgress: 0,
  currentStatus: 'not_started',
  calculatedStatus: 'in_progress',
  responseCount: 30,
  completeCount: 0
}
[Task Reconciliation] Correcting task 637: {
  progressFrom: 0,
  progressTo: 0,
  statusFrom: 'not_started',
  statusTo: 'in_progress',
  forceUpdate: true
}
[Task Templates API] Retrieved 9 configuration items for template ID: 1
[Progress Utils] Broadcasting task progress update: {
  taskId: 637,
  progress: 0,
  requestedStatus: 'in_progress',
  finalStatus: 'in_progress',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  timestamp: '2025-04-25T06:45:59.519Z'
}
[WebSocket] Broadcast "task_updated" sent to 3 clients {
  type: 'task_updated',
  dataKeys: [ 'id', 'status', 'progress', 'metadata', 'timestamp' ],
  timestamp: '2025-04-25T06:45:59.519Z',
  clientCount: 3
}
6:45:59 AM [info] GET /api/task-templates/by-type/company_kyb 304 in 107ms :: {"id":1,"name":"KYB Form","description":"Know Your Business form for company ...
[Tasks Routes] Task progress reconciled: {
  taskId: 637,
  progress: 0,
  status: 'in_progress',
  timestamp: '2025-04-25T06:45:59.548Z'
}
6:45:59 AM [info] POST /api/tasks/637/update-progress 200 in 152ms :: {"success":true,"progress":0,"status":"in_progress","taskId":637}
[Auth] Using cached user data: 283
[Tasks Routes] Fetching task by ID (special .json endpoint): {
  taskId: 637,
  userCompanyId: 241,
  timestamp: '2025-04-25T06:45:59.687Z'
}
[Tasks Routes] Updating task progress: { taskId: 637, timestamp: '2025-04-25T06:45:59.692Z' }
[2025-04-25T06:45:59.693Z] [INFO] [KYBRoutes] Fetching KYB fields
[Tasks Routes] Fetching latest KYB form data for task (special .json endpoint): 637
[2025-04-25T06:45:59.724Z] [INFO] [KYBRoutes] KYB fields retrieved successfully {"fieldCount":30,"groups":["companyProfile","financialProfile","governanceLeadership","operationsCompliance"]}
[Task Reconciliation] Found 30 responses for task 637 (type: company_kyb)
[STATUS DETERMINATION] Calculating status for task with: {
  progress: 0,
  currentStatus: 'in_progress',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  hasResponses: true,
  timestamp: '2025-04-25T06:45:59.755Z'
}
[STATUS DETERMINATION] Task has incomplete required fields, setting to IN_PROGRESS
[Task Reconciliation] Progress calculation: {
  taskId: 637,
  currentProgress: 0,
  calculatedProgress: 0,
  currentStatus: 'in_progress',
  calculatedStatus: 'in_progress',
  responseCount: 30,
  completeCount: 0
}
[Task Reconciliation] Correcting task 637: {
  progressFrom: 0,
  progressTo: 0,
  statusFrom: 'in_progress',
  statusTo: 'in_progress',
  forceUpdate: true
}
6:45:59 AM [info] GET /api/kyb/fields 304 in 64ms :: [{"id":1,"field_key":"legalEntityName","display_name":"Legal Entity Name","fi...
[Tasks Routes] Found 30 KYB responses for task 637 (special .json endpoint)
[Tasks Routes] Constructed form data with 30 fields (special .json endpoint)
[Tasks Routes] Task found by ID (special .json endpoint): {
  taskId: 637,
  title: '1. KYB Form: DevTest32',
  type: 'company_kyb',
  formDataFields: 30,
  timestamp: '2025-04-25T06:45:59.774Z'
}
[Progress Utils] Broadcasting task progress update: {
  taskId: 637,
  progress: 0,
  requestedStatus: 'in_progress',
  finalStatus: 'in_progress',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  timestamp: '2025-04-25T06:45:59.787Z'
}
[WebSocket] Broadcast "task_updated" sent to 3 clients {
  type: 'task_updated',
  dataKeys: [ 'id', 'status', 'progress', 'metadata', 'timestamp' ],
  timestamp: '2025-04-25T06:45:59.788Z',
  clientCount: 3
}
6:45:59 AM [info] GET /api/tasks.json/637 200 in 117ms :: {"id":637,"title":"1. KYB Form: DevTest32","description":"Complete KYB verifi...
[Tasks Routes] Task progress reconciled: {
  taskId: 637,
  progress: 0,
  status: 'in_progress',
  timestamp: '2025-04-25T06:45:59.819Z'
}
6:45:59 AM [info] POST /api/tasks/637/update-progress 200 in 159ms :: {"success":true,"progress":0,"status":"in_progress","taskId":637}
[Auth] Using cached user data: 283
[Tasks Routes] Updating task progress: { taskId: 637, timestamp: '2025-04-25T06:45:59.909Z' }
[KYB API Debug] Loading progress for task: 637
[Tasks Routes] Fetching task by ID (special .json endpoint): {
  taskId: 637,
  userCompanyId: 241,
  timestamp: '2025-04-25T06:45:59.951Z'
}
[Task Reconciliation] Found 30 responses for task 637 (type: company_kyb)
[STATUS DETERMINATION] Calculating status for task with: {
  progress: 0,
  currentStatus: 'in_progress',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  hasResponses: true,
  timestamp: '2025-04-25T06:45:59.968Z'
}
[STATUS DETERMINATION] Task has incomplete required fields, setting to IN_PROGRESS
[Task Reconciliation] Progress calculation: {
  taskId: 637,
  currentProgress: 0,
  calculatedProgress: 0,
  currentStatus: 'in_progress',
  calculatedStatus: 'in_progress',
  responseCount: 30,
  completeCount: 0
}
[Task Reconciliation] Correcting task 637: {
  progressFrom: 0,
  progressTo: 0,
  statusFrom: 'in_progress',
  statusTo: 'in_progress',
  forceUpdate: true
}
[Task Reconciliation] Found 30 responses for task 637 (type: company_kyb)
[STATUS DETERMINATION] Calculating status for task with: {
  progress: 0,
  currentStatus: 'in_progress',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  hasResponses: true,
  timestamp: '2025-04-25T06:45:59.972Z'
}
[STATUS DETERMINATION] Task has incomplete required fields, setting to IN_PROGRESS
[Task Reconciliation] Progress calculation: {
  taskId: 637,
  currentProgress: 0,
  calculatedProgress: 0,
  currentStatus: 'in_progress',
  calculatedStatus: 'in_progress',
  responseCount: 30,
  completeCount: 0
}
[Task Reconciliation] No updates needed for task 637
[Tasks Routes] Fetching latest KYB form data for task (special .json endpoint): 637
[Progress Utils] Broadcasting task progress update: {
  taskId: 637,
  progress: 0,
  requestedStatus: 'in_progress',
  finalStatus: 'in_progress',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  timestamp: '2025-04-25T06:45:59.999Z'
}
[WebSocket] Broadcast "task_updated" sent to 3 clients {
  type: 'task_updated',
  dataKeys: [ 'id', 'status', 'progress', 'metadata', 'timestamp' ],
  timestamp: '2025-04-25T06:45:59.999Z',
  clientCount: 3
}
[KYB API Debug] Retrieved task: {
  taskId: 637,
  status: 'in_progress',
  progress: 0,
  metadata: [
    'locked',
    'company_id',
    'created_at',
    'statusFlow',
    'created_via',
    'lastUpdated',
    'status_flow',
    'company_name',
    'created_by_id',
    'prerequisite_for',
    'prerequisite_completed',
    'prerequisite_completed_at',
    'lastProgressReconciliation'
  ],
  timestamp: '2025-04-25T06:46:00.003Z'
}
[Tasks Routes] Task progress reconciled: {
  taskId: 637,
  progress: 0,
  status: 'in_progress',
  timestamp: '2025-04-25T06:46:00.029Z'
}
[KYB API Debug] Retrieved responses: {
  responseCount: 30,
  fields: [
    { field: 'externalAudit', status: 'EMPTY', hasValue: false },
    { field: 'controlEnvironment', status: 'EMPTY', hasValue: false },
    { field: 'authorizedSigners', status: 'EMPTY', hasValue: false },
    { field: 'governmentOwnership', status: 'EMPTY', hasValue: false },
    {
      field: 'ultimateBeneficialOwners',
      status: 'EMPTY',
      hasValue: false
    },
    { field: 'directorsAndOfficers', status: 'EMPTY', hasValue: false },
    { field: 'contactEmail', status: 'EMPTY', hasValue: false },
    { field: 'marketCapitalization', status: 'EMPTY', hasValue: false },
    {
      field: 'lifetimeCustomerValue',
      status: 'EMPTY',
      hasValue: false
    },
    {
      field: 'annualRecurringRevenue',
      status: 'EMPTY',
      hasValue: false
    },
    {
      field: 'monthlyRecurringRevenue',
      status: 'EMPTY',
      hasValue: false
    },
    {
      field: 'investigationsIncidents',
      status: 'EMPTY',
      hasValue: false
    },
    { field: 'financialStatements', status: 'EMPTY', hasValue: false },
    { field: 'operationalPolicies', status: 'EMPTY', hasValue: false },
    { field: 'dataVolume', status: 'EMPTY', hasValue: false },
    { field: 'dataTypes', status: 'EMPTY', hasValue: false },
    { field: 'sanctionsCheck', status: 'EMPTY', hasValue: false },
    { field: 'dueDiligence', status: 'EMPTY', hasValue: false },
    { field: 'regulatoryActions', status: 'EMPTY', hasValue: false },
    { field: 'legalEntityName', status: 'EMPTY', hasValue: false },
    { field: 'registrationNumber', status: 'EMPTY', hasValue: false },
    { field: 'incorporationDate', status: 'EMPTY', hasValue: false },
    { field: 'businessType', status: 'EMPTY', hasValue: false },
    { field: 'jurisdiction', status: 'EMPTY', hasValue: false },
    { field: 'registeredAddress', status: 'EMPTY', hasValue: false },
    { field: 'companyPhone', status: 'EMPTY', hasValue: false },
    { field: 'priorNames', status: 'EMPTY', hasValue: false },
    { field: 'licenses', status: 'EMPTY', hasValue: false },
    { field: 'goodStanding', status: 'EMPTY', hasValue: false },
    {
      field: 'corporateRegistration',
      status: 'EMPTY',
      hasValue: false
    }
  ],
  timestamp: '2025-04-25T06:46:00.037Z'
}
[SERVER DEBUG] No savedFormData found in task table
[SERVER DEBUG] No KYB form file ID found in task metadata
[KYB API Debug] Retrieved task data: {
  id: 637,
  responseCount: 30,
  progress: 0,
  status: 'in_progress',
  formDataKeys: [
    'externalAudit',
    'controlEnvironment',
    'authorizedSigners',
    'governmentOwnership',
    'ultimateBeneficialOwners',
    'directorsAndOfficers',
    'contactEmail',
    'marketCapitalization',
    'lifetimeCustomerValue',
    'annualRecurringRevenue',
    'monthlyRecurringRevenue',
    'investigationsIncidents',
    'financialStatements',
    'operationalPolicies',
    'dataVolume',
    'dataTypes',
    'sanctionsCheck',
    'dueDiligence',
    'regulatoryActions',
    'legalEntityName',
    'registrationNumber',
    'incorporationDate',
    'businessType',
    'jurisdiction',
    'registeredAddress',
    'companyPhone',
    'priorNames',
    'licenses',
    'goodStanding',
    'corporateRegistration'
  ]
}
===============================================
[SERVER DEBUG] PREPARING GET RESPONSE at 2025-04-25T06:46:00.038Z
[SERVER DEBUG] Task ID: 637, Found 30 fields in database
===============================================
[SERVER DEBUG] Checking field corporateRegistration in retrieved data: ""
[SERVER DEBUG] Checking field goodStanding in retrieved data: ""
[SERVER DEBUG] Checking field regulatoryActions in retrieved data: ""
[SERVER DEBUG] Checking field investigationsIncidents in retrieved data: ""
[SERVER DEBUG] No fields with value "asdf" found in GET response data
[SERVER DEBUG] Sending GET response with 30 fields, status: in_progress, progress: 0%
===============================================
[Tasks Routes] Found 30 KYB responses for task 637 (special .json endpoint)
[Tasks Routes] Constructed form data with 30 fields (special .json endpoint)
[Tasks Routes] Task found by ID (special .json endpoint): {
  taskId: 637,
  title: '1. KYB Form: DevTest32',
  type: 'company_kyb',
  formDataFields: 30,
  timestamp: '2025-04-25T06:46:00.040Z'
}
6:46:00 AM [info] POST /api/tasks/637/update-progress 200 in 153ms :: {"success":true,"progress":0,"status":"in_progress","taskId":637}
6:46:00 AM [info] GET /api/kyb/progress/637 304 in 160ms :: {"formData":{"externalAudit":"","controlEnvironment":"","authorizedSigners":"...
6:46:00 AM [info] GET /api/tasks.json/637 200 in 122ms :: {"id":637,"title":"1. KYB Form: DevTest32","description":"Complete KYB verifi...
[KYB API Debug] Loading progress for task: 637
[Tasks Routes] Fetching task by ID (special .json endpoint): {
  taskId: 637,
  userCompanyId: 241,
  timestamp: '2025-04-25T06:46:00.221Z'
}
[Tasks Routes] Fetching latest KYB form data for task (special .json endpoint): 637
[TimestampHandler] Retrieved 31 timestamps for task 637
[TimestampAPI] Returning 31 timestamps for task 637
[Task Reconciliation] Found 30 responses for task 637 (type: company_kyb)
[STATUS DETERMINATION] Calculating status for task with: {
  progress: 0,
  currentStatus: 'in_progress',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  hasResponses: true,
  timestamp: '2025-04-25T06:46:00.279Z'
}
[STATUS DETERMINATION] Task has incomplete required fields, setting to IN_PROGRESS
[Task Reconciliation] Progress calculation: {
  taskId: 637,
  currentProgress: 0,
  calculatedProgress: 0,
  currentStatus: 'in_progress',
  calculatedStatus: 'in_progress',
  responseCount: 30,
  completeCount: 0
}
[Task Reconciliation] No updates needed for task 637
6:46:00 AM [info] GET /api/kyb/timestamps/637 200 in 72ms :: {"legalEntityName":1745563077383,"registrationNumber":1745563077383,"incorpor...
[KYB API Debug] Retrieved task: {
  taskId: 637,
  status: 'in_progress',
  progress: 0,
  metadata: [
    'locked',
    'company_id',
    'created_at',
    'statusFlow',
    'created_via',
    'lastUpdated',
    'status_flow',
    'company_name',
    'created_by_id',
    'prerequisite_for',
    'prerequisite_completed',
    'prerequisite_completed_at',
    'lastProgressReconciliation'
  ],
  timestamp: '2025-04-25T06:46:00.310Z'
}
[Tasks Routes] Found 30 KYB responses for task 637 (special .json endpoint)
[Tasks Routes] Constructed form data with 30 fields (special .json endpoint)
[Tasks Routes] Task found by ID (special .json endpoint): {
  taskId: 637,
  title: '1. KYB Form: DevTest32',
  type: 'company_kyb',
  formDataFields: 30,
  timestamp: '2025-04-25T06:46:00.312Z'
}
[KYB API Debug] Retrieved responses: {
  responseCount: 30,
  fields: [
    { field: 'externalAudit', status: 'EMPTY', hasValue: false },
    { field: 'controlEnvironment', status: 'EMPTY', hasValue: false },
    { field: 'authorizedSigners', status: 'EMPTY', hasValue: false },
    { field: 'governmentOwnership', status: 'EMPTY', hasValue: false },
    {
      field: 'ultimateBeneficialOwners',
      status: 'EMPTY',
      hasValue: false
    },
    { field: 'directorsAndOfficers', status: 'EMPTY', hasValue: false },
    { field: 'contactEmail', status: 'EMPTY', hasValue: false },
    { field: 'marketCapitalization', status: 'EMPTY', hasValue: false },
    {
      field: 'lifetimeCustomerValue',
      status: 'EMPTY',
      hasValue: false
    },
    {
      field: 'annualRecurringRevenue',
      status: 'EMPTY',
      hasValue: false
    },
    {
      field: 'monthlyRecurringRevenue',
      status: 'EMPTY',
      hasValue: false
    },
    {
      field: 'investigationsIncidents',
      status: 'EMPTY',
      hasValue: false
    },
    { field: 'financialStatements', status: 'EMPTY', hasValue: false },
    { field: 'operationalPolicies', status: 'EMPTY', hasValue: false },
    { field: 'dataVolume', status: 'EMPTY', hasValue: false },
    { field: 'dataTypes', status: 'EMPTY', hasValue: false },
    { field: 'sanctionsCheck', status: 'EMPTY', hasValue: false },
    { field: 'dueDiligence', status: 'EMPTY', hasValue: false },
    { field: 'regulatoryActions', status: 'EMPTY', hasValue: false },
    { field: 'legalEntityName', status: 'EMPTY', hasValue: false },
    { field: 'registrationNumber', status: 'EMPTY', hasValue: false },
    { field: 'incorporationDate', status: 'EMPTY', hasValue: false },
    { field: 'businessType', status: 'EMPTY', hasValue: false },
    { field: 'jurisdiction', status: 'EMPTY', hasValue: false },
    { field: 'registeredAddress', status: 'EMPTY', hasValue: false },
    { field: 'companyPhone', status: 'EMPTY', hasValue: false },
    { field: 'priorNames', status: 'EMPTY', hasValue: false },
    { field: 'licenses', status: 'EMPTY', hasValue: false },
    { field: 'goodStanding', status: 'EMPTY', hasValue: false },
    {
      field: 'corporateRegistration',
      status: 'EMPTY',
      hasValue: false
    }
  ],
  timestamp: '2025-04-25T06:46:00.340Z'
}
[SERVER DEBUG] No savedFormData found in task table
[SERVER DEBUG] No KYB form file ID found in task metadata
[KYB API Debug] Retrieved task data: {
  id: 637,
  responseCount: 30,
  progress: 0,
  status: 'in_progress',
  formDataKeys: [
    'externalAudit',
    'controlEnvironment',
    'authorizedSigners',
    'governmentOwnership',
    'ultimateBeneficialOwners',
    'directorsAndOfficers',
    'contactEmail',
    'marketCapitalization',
    'lifetimeCustomerValue',
    'annualRecurringRevenue',
    'monthlyRecurringRevenue',
    'investigationsIncidents',
    'financialStatements',
    'operationalPolicies',
    'dataVolume',
    'dataTypes',
    'sanctionsCheck',
    'dueDiligence',
    'regulatoryActions',
    'legalEntityName',
    'registrationNumber',
    'incorporationDate',
    'businessType',
    'jurisdiction',
    'registeredAddress',
    'companyPhone',
    'priorNames',
    'licenses',
    'goodStanding',
    'corporateRegistration'
  ]
}
===============================================
[SERVER DEBUG] PREPARING GET RESPONSE at 2025-04-25T06:46:00.341Z
[SERVER DEBUG] Task ID: 637, Found 30 fields in database
===============================================
[SERVER DEBUG] Checking field corporateRegistration in retrieved data: ""
[SERVER DEBUG] Checking field goodStanding in retrieved data: ""
[SERVER DEBUG] Checking field regulatoryActions in retrieved data: ""
[SERVER DEBUG] Checking field investigationsIncidents in retrieved data: ""
[SERVER DEBUG] No fields with value "asdf" found in GET response data
[SERVER DEBUG] Sending GET response with 30 fields, status: in_progress, progress: 0%
===============================================
6:46:00 AM [info] GET /api/tasks.json/637 200 in 123ms :: {"id":637,"title":"1. KYB Form: DevTest32","description":"Complete KYB verifi...
6:46:00 AM [info] GET /api/kyb/progress/637 304 in 154ms :: {"formData":{"externalAudit":"","controlEnvironment":"","authorizedSigners":"...
[KYB API Debug] Loading progress for task: 637
[TimestampHandler] Retrieved 31 timestamps for task 637
[TimestampAPI] Returning 31 timestamps for task 637
[Task Reconciliation] Found 30 responses for task 637 (type: company_kyb)
[STATUS DETERMINATION] Calculating status for task with: {
  progress: 0,
  currentStatus: 'in_progress',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  hasResponses: true,
  timestamp: '2025-04-25T06:46:00.578Z'
}
[STATUS DETERMINATION] Task has incomplete required fields, setting to IN_PROGRESS
[Task Reconciliation] Progress calculation: {
  taskId: 637,
  currentProgress: 0,
  calculatedProgress: 0,
  currentStatus: 'in_progress',
  calculatedStatus: 'in_progress',
  responseCount: 30,
  completeCount: 0
}
[Task Reconciliation] No updates needed for task 637
6:46:00 AM [info] GET /api/kyb/timestamps/637 304 in 63ms :: {"legalEntityName":1745563077383,"registrationNumber":1745563077383,"incorpor...
[KYB API Debug] Retrieved task: {
  taskId: 637,
  status: 'in_progress',
  progress: 0,
  metadata: [
    'locked',
    'company_id',
    'created_at',
    'statusFlow',
    'created_via',
    'lastUpdated',
    'status_flow',
    'company_name',
    'created_by_id',
    'prerequisite_for',
    'prerequisite_completed',
    'prerequisite_completed_at',
    'lastProgressReconciliation'
  ],
  timestamp: '2025-04-25T06:46:00.610Z'
}
[KYB API Debug] Retrieved responses: {
  responseCount: 30,
  fields: [
    { field: 'externalAudit', status: 'EMPTY', hasValue: false },
    { field: 'controlEnvironment', status: 'EMPTY', hasValue: false },
    { field: 'authorizedSigners', status: 'EMPTY', hasValue: false },
    { field: 'governmentOwnership', status: 'EMPTY', hasValue: false },
    {
      field: 'ultimateBeneficialOwners',
      status: 'EMPTY',
      hasValue: false
    },
    { field: 'directorsAndOfficers', status: 'EMPTY', hasValue: false },
    { field: 'contactEmail', status: 'EMPTY', hasValue: false },
    { field: 'marketCapitalization', status: 'EMPTY', hasValue: false },
    {
      field: 'lifetimeCustomerValue',
      status: 'EMPTY',
      hasValue: false
    },
    {
      field: 'annualRecurringRevenue',
      status: 'EMPTY',
      hasValue: false
    },
    {
      field: 'monthlyRecurringRevenue',
      status: 'EMPTY',
      hasValue: false
    },
    {
      field: 'investigationsIncidents',
      status: 'EMPTY',
      hasValue: false
    },
    { field: 'financialStatements', status: 'EMPTY', hasValue: false },
    { field: 'operationalPolicies', status: 'EMPTY', hasValue: false },
    { field: 'dataVolume', status: 'EMPTY', hasValue: false },
    { field: 'dataTypes', status: 'EMPTY', hasValue: false },
    { field: 'sanctionsCheck', status: 'EMPTY', hasValue: false },
    { field: 'dueDiligence', status: 'EMPTY', hasValue: false },
    { field: 'regulatoryActions', status: 'EMPTY', hasValue: false },
    { field: 'legalEntityName', status: 'EMPTY', hasValue: false },
    { field: 'registrationNumber', status: 'EMPTY', hasValue: false },
    { field: 'incorporationDate', status: 'EMPTY', hasValue: false },
    { field: 'businessType', status: 'EMPTY', hasValue: false },
    { field: 'jurisdiction', status: 'EMPTY', hasValue: false },
    { field: 'registeredAddress', status: 'EMPTY', hasValue: false },
    { field: 'companyPhone', status: 'EMPTY', hasValue: false },
    { field: 'priorNames', status: 'EMPTY', hasValue: false },
    { field: 'licenses', status: 'EMPTY', hasValue: false },
    { field: 'goodStanding', status: 'EMPTY', hasValue: false },
    {
      field: 'corporateRegistration',
      status: 'EMPTY',
      hasValue: false
    }
  ],
  timestamp: '2025-04-25T06:46:00.642Z'
}
[SERVER DEBUG] No savedFormData found in task table
[SERVER DEBUG] No KYB form file ID found in task metadata
[KYB API Debug] Retrieved task data: {
  id: 637,
  responseCount: 30,
  progress: 0,
  status: 'in_progress',
  formDataKeys: [
    'externalAudit',
    'controlEnvironment',
    'authorizedSigners',
    'governmentOwnership',
    'ultimateBeneficialOwners',
    'directorsAndOfficers',
    'contactEmail',
    'marketCapitalization',
    'lifetimeCustomerValue',
    'annualRecurringRevenue',
    'monthlyRecurringRevenue',
    'investigationsIncidents',
    'financialStatements',
    'operationalPolicies',
    'dataVolume',
    'dataTypes',
    'sanctionsCheck',
    'dueDiligence',
    'regulatoryActions',
    'legalEntityName',
    'registrationNumber',
    'incorporationDate',
    'businessType',
    'jurisdiction',
    'registeredAddress',
    'companyPhone',
    'priorNames',
    'licenses',
    'goodStanding',
    'corporateRegistration'
  ]
}
===============================================
[SERVER DEBUG] PREPARING GET RESPONSE at 2025-04-25T06:46:00.643Z
[SERVER DEBUG] Task ID: 637, Found 30 fields in database
===============================================
[SERVER DEBUG] Checking field corporateRegistration in retrieved data: ""
[SERVER DEBUG] Checking field goodStanding in retrieved data: ""
[SERVER DEBUG] Checking field regulatoryActions in retrieved data: ""
[SERVER DEBUG] Checking field investigationsIncidents in retrieved data: ""
[SERVER DEBUG] No fields with value "asdf" found in GET response data
[SERVER DEBUG] Sending GET response with 30 fields, status: in_progress, progress: 0%
===============================================
6:46:00 AM [info] GET /api/kyb/progress/637 304 in 156ms :: {"formData":{"externalAudit":"","controlEnvironment":"","authorizedSigners":"...
[KYB API Debug] Loading progress for task: 637
[TimestampHandler] Retrieved 31 timestamps for task 637
[TimestampAPI] Returning 31 timestamps for task 637
[Task Reconciliation] Found 30 responses for task 637 (type: company_kyb)
[STATUS DETERMINATION] Calculating status for task with: {
  progress: 0,
  currentStatus: 'in_progress',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  hasResponses: true,
  timestamp: '2025-04-25T06:46:00.881Z'
}
[STATUS DETERMINATION] Task has incomplete required fields, setting to IN_PROGRESS
[Task Reconciliation] Progress calculation: {
  taskId: 637,
  currentProgress: 0,
  calculatedProgress: 0,
  currentStatus: 'in_progress',
  calculatedStatus: 'in_progress',
  responseCount: 30,
  completeCount: 0
}
[Task Reconciliation] No updates needed for task 637
6:46:00 AM [info] GET /api/kyb/timestamps/637 304 in 63ms :: {"legalEntityName":1745563077383,"registrationNumber":1745563077383,"incorpor...
[KYB API Debug] Retrieved task: {
  taskId: 637,
  status: 'in_progress',
  progress: 0,
  metadata: [
    'locked',
    'company_id',
    'created_at',
    'statusFlow',
    'created_via',
    'lastUpdated',
    'status_flow',
    'company_name',
    'created_by_id',
    'prerequisite_for',
    'prerequisite_completed',
    'prerequisite_completed_at',
    'lastProgressReconciliation'
  ],
  timestamp: '2025-04-25T06:46:00.911Z'
}
[KYB API Debug] Retrieved responses: {
  responseCount: 30,
  fields: [
    { field: 'externalAudit', status: 'EMPTY', hasValue: false },
    { field: 'controlEnvironment', status: 'EMPTY', hasValue: false },
    { field: 'authorizedSigners', status: 'EMPTY', hasValue: false },
    { field: 'governmentOwnership', status: 'EMPTY', hasValue: false },
    {
      field: 'ultimateBeneficialOwners',
      status: 'EMPTY',
      hasValue: false
    },
    { field: 'directorsAndOfficers', status: 'EMPTY', hasValue: false },
    { field: 'contactEmail', status: 'EMPTY', hasValue: false },
    { field: 'marketCapitalization', status: 'EMPTY', hasValue: false },
    {
      field: 'lifetimeCustomerValue',
      status: 'EMPTY',
      hasValue: false
    },
    {
      field: 'annualRecurringRevenue',
      status: 'EMPTY',
      hasValue: false
    },
    {
      field: 'monthlyRecurringRevenue',
      status: 'EMPTY',
      hasValue: false
    },
    {
      field: 'investigationsIncidents',
      status: 'EMPTY',
      hasValue: false
    },
    { field: 'financialStatements', status: 'EMPTY', hasValue: false },
    { field: 'operationalPolicies', status: 'EMPTY', hasValue: false },
    { field: 'dataVolume', status: 'EMPTY', hasValue: false },
    { field: 'dataTypes', status: 'EMPTY', hasValue: false },
    { field: 'sanctionsCheck', status: 'EMPTY', hasValue: false },
    { field: 'dueDiligence', status: 'EMPTY', hasValue: false },
    { field: 'regulatoryActions', status: 'EMPTY', hasValue: false },
    { field: 'legalEntityName', status: 'EMPTY', hasValue: false },
    { field: 'registrationNumber', status: 'EMPTY', hasValue: false },
    { field: 'incorporationDate', status: 'EMPTY', hasValue: false },
    { field: 'businessType', status: 'EMPTY', hasValue: false },
    { field: 'jurisdiction', status: 'EMPTY', hasValue: false },
    { field: 'registeredAddress', status: 'EMPTY', hasValue: false },
    { field: 'companyPhone', status: 'EMPTY', hasValue: false },
    { field: 'priorNames', status: 'EMPTY', hasValue: false },
    { field: 'licenses', status: 'EMPTY', hasValue: false },
    { field: 'goodStanding', status: 'EMPTY', hasValue: false },
    {
      field: 'corporateRegistration',
      status: 'EMPTY',
      hasValue: false
    }
  ],
  timestamp: '2025-04-25T06:46:00.941Z'
}
[SERVER DEBUG] No savedFormData found in task table
[SERVER DEBUG] No KYB form file ID found in task metadata
[KYB API Debug] Retrieved task data: {
  id: 637,
  responseCount: 30,
  progress: 0,
  status: 'in_progress',
  formDataKeys: [
    'externalAudit',
    'controlEnvironment',
    'authorizedSigners',
    'governmentOwnership',
    'ultimateBeneficialOwners',
    'directorsAndOfficers',
    'contactEmail',
    'marketCapitalization',
    'lifetimeCustomerValue',
    'annualRecurringRevenue',
    'monthlyRecurringRevenue',
    'investigationsIncidents',
    'financialStatements',
    'operationalPolicies',
    'dataVolume',
    'dataTypes',
    'sanctionsCheck',
    'dueDiligence',
    'regulatoryActions',
    'legalEntityName',
    'registrationNumber',
    'incorporationDate',
    'businessType',
    'jurisdiction',
    'registeredAddress',
    'companyPhone',
    'priorNames',
    'licenses',
    'goodStanding',
    'corporateRegistration'
  ]
}
===============================================
[SERVER DEBUG] PREPARING GET RESPONSE at 2025-04-25T06:46:00.942Z
[SERVER DEBUG] Task ID: 637, Found 30 fields in database
===============================================
[SERVER DEBUG] Checking field corporateRegistration in retrieved data: ""
[SERVER DEBUG] Checking field goodStanding in retrieved data: ""
[SERVER DEBUG] Checking field regulatoryActions in retrieved data: ""
[SERVER DEBUG] Checking field investigationsIncidents in retrieved data: ""
[SERVER DEBUG] No fields with value "asdf" found in GET response data
[SERVER DEBUG] Sending GET response with 30 fields, status: in_progress, progress: 0%
===============================================
6:46:00 AM [info] GET /api/kyb/progress/637 304 in 151ms :: {"formData":{"externalAudit":"","controlEnvironment":"","authorizedSigners":"...
[TimestampHandler] Retrieved 31 timestamps for task 637
[TimestampAPI] Returning 31 timestamps for task 637
6:46:01 AM [info] GET /api/kyb/timestamps/637 304 in 61ms :: {"legalEntityName":1745563077383,"registrationNumber":1745563077383,"incorpor...
[Tasks Routes] Updating task progress: { taskId: 637, timestamp: '2025-04-25T06:46:01.334Z' }
[Task Reconciliation] Found 30 responses for task 637 (type: company_kyb)
[STATUS DETERMINATION] Calculating status for task with: {
  progress: 0,
  currentStatus: 'in_progress',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  hasResponses: true,
  timestamp: '2025-04-25T06:46:01.396Z'
}
[STATUS DETERMINATION] Task has incomplete required fields, setting to IN_PROGRESS
[Task Reconciliation] Progress calculation: {
  taskId: 637,
  currentProgress: 0,
  calculatedProgress: 0,
  currentStatus: 'in_progress',
  calculatedStatus: 'in_progress',
  responseCount: 30,
  completeCount: 0
}
[Task Reconciliation] Correcting task 637: {
  progressFrom: 0,
  progressTo: 0,
  statusFrom: 'in_progress',
  statusTo: 'in_progress',
  forceUpdate: true
}
[Progress Utils] Broadcasting task progress update: {
  taskId: 637,
  progress: 0,
  requestedStatus: 'in_progress',
  finalStatus: 'in_progress',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  timestamp: '2025-04-25T06:46:01.435Z'
}
[WebSocket] Broadcast "task_updated" sent to 3 clients {
  type: 'task_updated',
  dataKeys: [ 'id', 'status', 'progress', 'metadata', 'timestamp' ],
  timestamp: '2025-04-25T06:46:01.435Z',
  clientCount: 3
}
[Tasks Routes] Task progress reconciled: {
  taskId: 637,
  progress: 0,
  status: 'in_progress',
  timestamp: '2025-04-25T06:46:01.465Z'
}
6:46:01 AM [info] POST /api/tasks/637/update-progress 200 in 162ms :: {"success":true,"progress":0,"status":"in_progress","taskId":637}
[Tasks Routes] Fetching task by ID (special .json endpoint): {
  taskId: 637,
  userCompanyId: 241,
  timestamp: '2025-04-25T06:46:01.587Z'
}
[Tasks Routes] Fetching latest KYB form data for task (special .json endpoint): 637
[Tasks Routes] Found 30 KYB responses for task 637 (special .json endpoint)
[Tasks Routes] Constructed form data with 30 fields (special .json endpoint)
[Tasks Routes] Task found by ID (special .json endpoint): {
  taskId: 637,
  title: '1. KYB Form: DevTest32',
  type: 'company_kyb',
  formDataFields: 30,
  timestamp: '2025-04-25T06:46:01.677Z'
}
6:46:01 AM [info] GET /api/tasks.json/637 200 in 122ms :: {"id":637,"title":"1. KYB Form: DevTest32","description":"Complete KYB verifi...
Error in fix-demo-autofill endpoint: TypeError: db.select is not a function
    at <anonymous> (/home/runner/workspace/server/routes/fix-demo-autofill.ts:33:29)
    at Layer.handle [as handle_request] (/home/runner/workspace/server/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/runner/workspace/server/node_modules/express/lib/router/route.js:149:13)
    at requireAuth (/home/runner/workspace/server/middleware/auth.ts:24:3)
    at Layer.handle [as handle_request] (/home/runner/workspace/server/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/runner/workspace/server/node_modules/express/lib/router/route.js:149:13)
    at Route.dispatch (/home/runner/workspace/server/node_modules/express/lib/router/route.js:119:3)
    at Layer.handle [as handle_request] (/home/runner/workspace/server/node_modules/express/lib/router/layer.js:95:5)
    at /home/runner/workspace/server/node_modules/express/lib/router/index.js:284:15
    at param (/home/runner/workspace/server/node_modules/express/lib/router/index.js:365:14)
    at param (/home/runner/workspace/server/node_modules/express/lib/router/index.js:376:14)
    at Function.process_params (/home/runner/workspace/server/node_modules/express/lib/router/index.js:421:3)
    at next (/home/runner/workspace/server/node_modules/express/lib/router/index.js:280:10)
    at Function.handle (/home/runner/workspace/server/node_modules/express/lib/router/index.js:175:3)
    at router (/home/runner/workspace/server/node_modules/express/lib/router/index.js:47:12)
    at Layer.handle [as handle_request] (/home/runner/workspace/server/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/home/runner/workspace/server/node_modules/express/lib/router/index.js:328:13)
    at /home/runner/workspace/server/node_modules/express/lib/router/index.js:286:9
    at Function.process_params (/home/runner/workspace/server/node_modules/express/lib/router/index.js:346:12)
    at next (/home/runner/workspace/server/node_modules/express/lib/router/index.js:280:10)
    at /home/runner/workspace/server/node_modules/express/lib/router/index.js:646:15
    at next (/home/runner/workspace/server/node_modules/express/lib/router/index.js:265:14)
    at requireAuth (/home/runner/workspace/server/middleware/auth.ts:24:3)
    at Layer.handle [as handle_request] (/home/runner/workspace/server/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/home/runner/workspace/server/node_modules/express/lib/router/index.js:328:13)
    at /home/runner/workspace/server/node_modules/express/lib/router/index.js:286:9
    at Function.process_params (/home/runner/workspace/server/node_modules/express/lib/router/index.js:346:12)
    at next (/home/runner/workspace/server/node_modules/express/lib/router/index.js:280:10)
    at Function.handle (/home/runner/workspace/server/node_modules/express/lib/router/index.js:175:3)
    at router (/home/runner/workspace/server/node_modules/express/lib/router/index.js:47:12)
    at Layer.handle [as handle_request] (/home/runner/workspace/server/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/home/runner/workspace/server/node_modules/express/lib/router/index.js:328:13)
    at /home/runner/workspace/server/node_modules/express/lib/router/index.js:286:9
    at Function.process_params (/home/runner/workspace/server/node_modules/express/lib/router/index.js:346:12)
    at next (/home/runner/workspace/server/node_modules/express/lib/router/index.js:280:10)
    at /home/runner/workspace/server/node_modules/express/lib/router/index.js:646:15
    at next (/home/runner/workspace/server/node_modules/express/lib/router/index.js:265:14)
    at Function.handle (/home/runner/workspace/server/node_modules/express/lib/router/index.js:175:3)
    at router (/home/runner/workspace/server/node_modules/express/lib/router/index.js:47:12)
    at Layer.handle [as handle_request] (/home/runner/workspace/server/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/home/runner/workspace/server/node_modules/express/lib/router/index.js:328:13)
    at /home/runner/workspace/server/node_modules/express/lib/router/index.js:286:9
    at Function.process_params (/home/runner/workspace/server/node_modules/express/lib/router/index.js:346:12)
    at next (/home/runner/workspace/server/node_modules/express/lib/router/index.js:280:10)
    at /home/runner/workspace/server/node_modules/express/lib/router/index.js:646:15
    at next (/home/runner/workspace/server/node_modules/express/lib/router/index.js:265:14)
    at Function.handle (/home/runner/workspace/server/node_modules/express/lib/router/index.js:175:3)
    at router (/home/runner/workspace/server/node_modules/express/lib/router/index.js:47:12)
    at Layer.handle [as handle_request] (/home/runner/workspace/server/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/home/runner/workspace/server/node_modules/express/lib/router/index.js:328:13)
6:46:02 AM [error] POST /api/fix-demo-autofill/637 500 in 34ms :: {"success":false,"message":"db.select is not a function"}
[2025-04-25T06:46:02.705Z] [INFO] [KYBEnhancedDemoAutoFillRoutes] [KYB Enhanced Demo] Starting enhanced auto-fill for task 637
[2025-04-25T06:46:02.735Z] [ERROR] [KYBEnhancedDemoAutoFillRoutes] [KYB Enhanced Demo] Error: {"length":94,"name":"error","severity":"ERROR","code":"42P02","position":"51","file":"parse_expr.c","line":"900","routine":"transformParamRef"}
6:46:02 AM [error] POST /api/kyb/enhanced-demo-autofill/637 500 in 63ms :: {"success":false,"message":"there is no parameter $1"}
[2025-04-25T06:46:02.925Z] [INFO] [KYBRoutes] Demo auto-fill requested for KYB task (POST) {"taskId":637,"userId":283}
[2025-04-25T06:46:02.926Z] [INFO] [UniversalDemoAutoFillService] Applying demo data directly to database {"taskId":637,"formType":"kyb","userId":283}
[2025-04-25T06:46:02.926Z] [INFO] [UniversalDemoAutoFillService] Generating demo data {"taskId":637,"formType":"kyb","userId":283}
[2025-04-25T06:46:03.060Z] [INFO] [UniversalDemoAutoFillService] Retrieved fields for demo auto-fill {"count":30}
[2025-04-25T06:46:03.060Z] [INFO] [UniversalDemoAutoFillService] Using company name for legalEntityName: DevTest32
[2025-04-25T06:46:03.060Z] [INFO] [UniversalDemoAutoFillService] Using demo_autofill column value for registrationNumber: "12-3456789"
[2025-04-25T06:46:03.060Z] [INFO] [UniversalDemoAutoFillService] Using demo_autofill column value for incorporationDate: "5/12/2010"
[2025-04-25T06:46:03.060Z] [INFO] [UniversalDemoAutoFillService] Using demo_autofill column value for businessType: "Limited Liability Company (LLC)"
[2025-04-25T06:46:03.060Z] [INFO] [UniversalDemoAutoFillService] Using demo_autofill column value for jurisdiction: "Delaware, United States"
[2025-04-25T06:46:03.060Z] [INFO] [UniversalDemoAutoFillService] Using demo_autofill column value for registeredAddress: "123 Market Street, Wilmington, DE 19801"
[2025-04-25T06:46:03.060Z] [INFO] [UniversalDemoAutoFillService] Using demo_autofill column value for companyPhone: "(302) 555-1234"
[2025-04-25T06:46:03.060Z] [INFO] [UniversalDemoAutoFillService] Using demo_autofill column value for priorNames: "None"
[2025-04-25T06:46:03.060Z] [INFO] [UniversalDemoAutoFillService] Using demo_autofill column value for licenses: "Money Transmitter License #MT-12345, Financial Data Provider License #FDP-98765"
[2025-04-25T06:46:03.060Z] [INFO] [UniversalDemoAutoFillService] Using demo_autofill column value for goodStanding: "Yes"
[2025-04-25T06:46:03.060Z] [INFO] [UniversalDemoAutoFillService] Using demo_autofill column value for corporateRegistration: "Delaware State Filing Number 1234567, registered as FinTech Innovations LLC on 05/12/2010"
[2025-04-25T06:46:03.060Z] [INFO] [UniversalDemoAutoFillService] Using demo_autofill column value for externalAudit: "No"
[2025-04-25T06:46:03.060Z] [INFO] [UniversalDemoAutoFillService] Using demo_autofill column value for controlEnvironment: "Yes"
[2025-04-25T06:46:03.060Z] [INFO] [UniversalDemoAutoFillService] Using demo_autofill column value for authorizedSigners: "John Smith (CEO), Sarah Johnson (CFO), Michael Wong (COO)"
[2025-04-25T06:46:03.060Z] [INFO] [UniversalDemoAutoFillService] Using demo_autofill column value for governmentOwnership: "No"
[2025-04-25T06:46:03.060Z] [INFO] [UniversalDemoAutoFillService] Using demo_autofill column value for ultimateBeneficialOwners: "None"
[2025-04-25T06:46:03.060Z] [INFO] [UniversalDemoAutoFillService] Using demo_autofill column value for directorsAndOfficers: "John Smith (Chairman), Jane Doe (Director), Mike Johnson (Director)"
[2025-04-25T06:46:03.060Z] [INFO] [UniversalDemoAutoFillService] Using user email for contactEmail: 32@e.com
[2025-04-25T06:46:03.060Z] [INFO] [UniversalDemoAutoFillService] Using demo_autofill column value for marketCapitalization: "$75 million (privately held)"
[2025-04-25T06:46:03.060Z] [INFO] [UniversalDemoAutoFillService] Using demo_autofill column value for lifetimeCustomerValue: "$1,250"
[2025-04-25T06:46:03.060Z] [INFO] [UniversalDemoAutoFillService] Using demo_autofill column value for annualRecurringRevenue: "5,000,000"
[2025-04-25T06:46:03.061Z] [INFO] [UniversalDemoAutoFillService] Using demo_autofill column value for monthlyRecurringRevenue: "12,500,000"
[2025-04-25T06:46:03.061Z] [INFO] [UniversalDemoAutoFillService] Using demo_autofill column value for investigationsIncidents: "No significant incidents in the past 3 years"
[2025-04-25T06:46:03.061Z] [INFO] [UniversalDemoAutoFillService] Using demo_autofill column value for financialStatements: "Yes"
[2025-04-25T06:46:03.061Z] [INFO] [UniversalDemoAutoFillService] Using demo_autofill column value for operationalPolicies: "ISO 27001 certified, SOC 2 Type II compliant"
[2025-04-25T06:46:03.061Z] [INFO] [UniversalDemoAutoFillService] Using demo_autofill column value for dataVolume: "Approximately 2 million records per month"
[2025-04-25T06:46:03.061Z] [INFO] [UniversalDemoAutoFillService] Using demo_autofill column value for dataTypes: "Financial transaction data, Account balances, Customer KYC information"
[2025-04-25T06:46:03.061Z] [INFO] [UniversalDemoAutoFillService] Using demo_autofill column value for sanctionsCheck: "Approximately 2 million records per month"
[2025-04-25T06:46:03.061Z] [INFO] [UniversalDemoAutoFillService] Using demo_autofill column value for dueDiligence: "Yes"
[2025-04-25T06:46:03.061Z] [INFO] [UniversalDemoAutoFillService] Using demo_autofill column value for regulatoryActions: "Yes"
[2025-04-25T06:46:03.061Z] [INFO] [UniversalDemoAutoFillService] Successfully generated demo data {"taskId":637,"formType":"kyb","fieldCount":30}
[2025-04-25T06:46:03.061Z] [INFO] [UniversalDemoAutoFillService] Generated demo data with 30 fields {"taskId":637,"formType":"kyb","sampleKeys":["legalEntityName","registrationNumber","incorporationDate","businessType","jurisdiction"],"sampleValues":[{"key":"legalEntityName","value":"DevTest32","type":"string"},{"key":"registrationNumber","value":"12-3456789","type":"string"},{"key":"incorporationDate","value":"5/12/2010","type":"string"},{"key":"businessType","value":"Limited Liability Company (LLC)","type":"string"},{"key":"jurisdiction","value":"Delaware, United States","type":"string"}]}
[2025-04-25T06:46:03.126Z] [INFO] [UniversalDemoAutoFillService] Found existing responses {"count":30}
[2025-04-25T06:46:03.157Z] [INFO] [UniversalDemoAutoFillService] Found 30 field definitions for kyb {"taskId":637,"formType":"kyb"}
[2025-04-25T06:46:03.157Z] [INFO] [UniversalDemoAutoFillService] Processing 30 demo data fields {"taskId":637,"fieldKeys":["legalEntityName","registrationNumber","incorporationDate","businessType","jurisdiction","registeredAddress","companyPhone","priorNames","licenses","goodStanding"],"someValues":["legalEntityName: DevTest32","registrationNumber: 12-3456789","incorporationDate: 5/12/2010","businessType: Limited Liability Company (LLC)","jurisdiction: Delaware, United States"]}
[2025-04-25T06:46:03.157Z] [INFO] [UniversalDemoAutoFillService] Processing field legalEntityName: {"value":"DevTest32","valueType":"string","isEmpty":false,"fieldId":1}
[2025-04-25T06:46:03.157Z] [INFO] [UniversalDemoAutoFillService] Updating existing response for legalEntityName: {"value":"DevTest32","valueType":"string","valueLength":9,"status":"FILLED","responseId":3874}
[2025-04-25T06:46:03.220Z] [INFO] [UniversalDemoAutoFillService] Verified update for legalEntityName: {"expectedValue":"DevTest32","actualValue":"DevTest32","matched":true}
[2025-04-25T06:46:03.220Z] [INFO] [UniversalDemoAutoFillService] Processing field registrationNumber: {"value":"12-3456789","valueType":"string","isEmpty":false,"fieldId":2}
[2025-04-25T06:46:03.220Z] [INFO] [UniversalDemoAutoFillService] Updating existing response for registrationNumber: {"value":"12-3456789","valueType":"string","valueLength":10,"status":"FILLED","responseId":3875}
[2025-04-25T06:46:03.281Z] [INFO] [UniversalDemoAutoFillService] Verified update for registrationNumber: {"expectedValue":"12-3456789","actualValue":"12-3456789","matched":true}
[2025-04-25T06:46:03.281Z] [INFO] [UniversalDemoAutoFillService] Processing field incorporationDate: {"value":"5/12/2010","valueType":"string","isEmpty":false,"fieldId":3}
[2025-04-25T06:46:03.281Z] [INFO] [UniversalDemoAutoFillService] Updating existing response for incorporationDate: {"value":"5/12/2010","valueType":"string","valueLength":9,"status":"FILLED","responseId":3876}
[2025-04-25T06:46:03.343Z] [INFO] [UniversalDemoAutoFillService] Verified update for incorporationDate: {"expectedValue":"5/12/2010","actualValue":"5/12/2010","matched":true}
[2025-04-25T06:46:03.343Z] [INFO] [UniversalDemoAutoFillService] Processing field businessType: {"value":"Limited Liability Company (LLC)","valueType":"string","isEmpty":false,"fieldId":4}
[2025-04-25T06:46:03.343Z] [INFO] [UniversalDemoAutoFillService] Updating existing response for businessType: {"value":"Limited Liability Company (LLC)","valueType":"string","valueLength":31,"status":"FILLED","responseId":3877}
[2025-04-25T06:46:03.404Z] [INFO] [UniversalDemoAutoFillService] Verified update for businessType: {"expectedValue":"Limited Liability Company (LLC)","actualValue":"Limited Liability Company (LLC)","matched":true}
[2025-04-25T06:46:03.404Z] [INFO] [UniversalDemoAutoFillService] Processing field jurisdiction: {"value":"Delaware, United States","valueType":"string","isEmpty":false,"fieldId":5}
[2025-04-25T06:46:03.404Z] [INFO] [UniversalDemoAutoFillService] Updating existing response for jurisdiction: {"value":"Delaware, United States","valueType":"string","valueLength":23,"status":"FILLED","responseId":3878}
[2025-04-25T06:46:03.466Z] [INFO] [UniversalDemoAutoFillService] Verified update for jurisdiction: {"expectedValue":"Delaware, United States","actualValue":"Delaware, United States","matched":true}
[2025-04-25T06:46:03.466Z] [INFO] [UniversalDemoAutoFillService] Processing field registeredAddress: {"value":"123 Market Street, Wilmington, DE 19801","valueType":"string","isEmpty":false,"fieldId":6}
[2025-04-25T06:46:03.466Z] [INFO] [UniversalDemoAutoFillService] Updating existing response for registeredAddress: {"value":"123 Market Street, Wilmington, DE 19801","valueType":"string","valueLength":39,"status":"FILLED","responseId":3849}
[2025-04-25T06:46:03.528Z] [INFO] [UniversalDemoAutoFillService] Verified update for registeredAddress: {"expectedValue":"123 Market Street, Wilmington, DE 19801","actualValue":"123 Market Street, Wilmington, DE 19801","matched":true}
[2025-04-25T06:46:03.528Z] [INFO] [UniversalDemoAutoFillService] Processing field companyPhone: {"value":"(302) 555-1234","valueType":"string","isEmpty":false,"fieldId":7}
[2025-04-25T06:46:03.528Z] [INFO] [UniversalDemoAutoFillService] Updating existing response for companyPhone: {"value":"(302) 555-1234","valueType":"string","valueLength":14,"status":"FILLED","responseId":3850}
[2025-04-25T06:46:03.590Z] [INFO] [UniversalDemoAutoFillService] Verified update for companyPhone: {"expectedValue":"(302) 555-1234","actualValue":"(302) 555-1234","matched":true}
[2025-04-25T06:46:03.590Z] [INFO] [UniversalDemoAutoFillService] Processing field priorNames: {"value":"None","valueType":"string","isEmpty":false,"fieldId":8}
[2025-04-25T06:46:03.590Z] [INFO] [UniversalDemoAutoFillService] Updating existing response for priorNames: {"value":"None","valueType":"string","valueLength":4,"status":"FILLED","responseId":3851}
[2025-04-25T06:46:03.653Z] [INFO] [UniversalDemoAutoFillService] Verified update for priorNames: {"expectedValue":"None","actualValue":"None","matched":true}
[2025-04-25T06:46:03.653Z] [INFO] [UniversalDemoAutoFillService] Processing field licenses: {"value":"Money Transmitter License #MT-12345, Financial Data Provider License #FDP-98765","valueType":"string","isEmpty":false,"fieldId":9}
[2025-04-25T06:46:03.653Z] [INFO] [UniversalDemoAutoFillService] Updating existing response for licenses: {"value":"Money Transmitter License #MT-12345, Financial Data Provider License #FDP-98765","valueType":"string","valueLength":79,"status":"FILLED","responseId":3852}
[2025-04-25T06:46:03.715Z] [INFO] [UniversalDemoAutoFillService] Verified update for licenses: {"expectedValue":"Money Transmitter License #MT-12345, Financial Data Provider License #FDP-98765","actualValue":"Money Transmitter License #MT-12345, Financial Data Provider License #FDP-98765","matched":true}
[2025-04-25T06:46:03.715Z] [INFO] [UniversalDemoAutoFillService] Processing field goodStanding: {"value":"Yes","valueType":"string","isEmpty":false,"fieldId":10}
[2025-04-25T06:46:03.715Z] [INFO] [UniversalDemoAutoFillService] Updating existing response for goodStanding: {"value":"Yes","valueType":"string","valueLength":3,"status":"FILLED","responseId":3853}
[2025-04-25T06:46:03.777Z] [INFO] [UniversalDemoAutoFillService] Verified update for goodStanding: {"expectedValue":"Yes","actualValue":"Yes","matched":true}
[2025-04-25T06:46:03.777Z] [INFO] [UniversalDemoAutoFillService] Processing field corporateRegistration: {"value":"Delaware State Filing Number 1234567, registered as FinTech Innovations LLC on 05/12/2010","valueType":"string","isEmpty":false,"fieldId":11}
[2025-04-25T06:46:03.777Z] [INFO] [UniversalDemoAutoFillService] Updating existing response for corporateRegistration: {"value":"Delaware State Filing Number 1234567, registered as FinTech Innovations LLC on 05/12/2010","valueType":"string","valueLength":89,"status":"FILLED","responseId":3854}
[2025-04-25T06:46:03.840Z] [INFO] [UniversalDemoAutoFillService] Verified update for corporateRegistration: {"expectedValue":"Delaware State Filing Number 1234567, registered as FinTech Innovations LLC on 05/12/2010","actualValue":"Delaware State Filing Number 1234567, registered as FinTech Innovations LLC on 05/12/2010","matched":true}
[2025-04-25T06:46:03.840Z] [INFO] [UniversalDemoAutoFillService] Processing field externalAudit: {"value":"No","valueType":"string","isEmpty":false,"fieldId":12}
[2025-04-25T06:46:03.840Z] [INFO] [UniversalDemoAutoFillService] Updating existing response for externalAudit: {"value":"No","valueType":"string","valueLength":2,"status":"FILLED","responseId":3855}
[2025-04-25T06:46:03.902Z] [INFO] [UniversalDemoAutoFillService] Verified update for externalAudit: {"expectedValue":"No","actualValue":"No","matched":true}
[2025-04-25T06:46:03.902Z] [INFO] [UniversalDemoAutoFillService] Processing field controlEnvironment: {"value":"Yes","valueType":"string","isEmpty":false,"fieldId":13}
[2025-04-25T06:46:03.902Z] [INFO] [UniversalDemoAutoFillService] Updating existing response for controlEnvironment: {"value":"Yes","valueType":"string","valueLength":3,"status":"FILLED","responseId":3856}
[2025-04-25T06:46:03.963Z] [INFO] [UniversalDemoAutoFillService] Verified update for controlEnvironment: {"expectedValue":"Yes","actualValue":"Yes","matched":true}
[2025-04-25T06:46:03.963Z] [INFO] [UniversalDemoAutoFillService] Processing field authorizedSigners: {"value":"John Smith (CEO), Sarah Johnson (CFO), Michael Wong (COO)","valueType":"string","isEmpty":false,"fieldId":14}
[2025-04-25T06:46:03.963Z] [INFO] [UniversalDemoAutoFillService] Updating existing response for authorizedSigners: {"value":"John Smith (CEO), Sarah Johnson (CFO), Michael Wong (COO)","valueType":"string","valueLength":57,"status":"FILLED","responseId":3857}
[2025-04-25T06:46:04.024Z] [INFO] [UniversalDemoAutoFillService] Verified update for authorizedSigners: {"expectedValue":"John Smith (CEO), Sarah Johnson (CFO), Michael Wong (COO)","actualValue":"John Smith (CEO), Sarah Johnson (CFO), Michael Wong (COO)","matched":true}
[2025-04-25T06:46:04.024Z] [INFO] [UniversalDemoAutoFillService] Processing field governmentOwnership: {"value":"No","valueType":"string","isEmpty":false,"fieldId":15}
[2025-04-25T06:46:04.024Z] [INFO] [UniversalDemoAutoFillService] Updating existing response for governmentOwnership: {"value":"No","valueType":"string","valueLength":2,"status":"FILLED","responseId":3858}
[2025-04-25T06:46:04.086Z] [INFO] [UniversalDemoAutoFillService] Verified update for governmentOwnership: {"expectedValue":"No","actualValue":"No","matched":true}
[2025-04-25T06:46:04.086Z] [INFO] [UniversalDemoAutoFillService] Processing field ultimateBeneficialOwners: {"value":"None","valueType":"string","isEmpty":false,"fieldId":16}
[2025-04-25T06:46:04.086Z] [INFO] [UniversalDemoAutoFillService] Updating existing response for ultimateBeneficialOwners: {"value":"None","valueType":"string","valueLength":4,"status":"FILLED","responseId":3859}
[2025-04-25T06:46:04.148Z] [INFO] [UniversalDemoAutoFillService] Verified update for ultimateBeneficialOwners: {"expectedValue":"None","actualValue":"None","matched":true}
[2025-04-25T06:46:04.148Z] [INFO] [UniversalDemoAutoFillService] Processing field directorsAndOfficers: {"value":"John Smith (Chairman), Jane Doe (Director), Mike Johnson (Director)","valueType":"string","isEmpty":false,"fieldId":17}
[2025-04-25T06:46:04.148Z] [INFO] [UniversalDemoAutoFillService] Updating existing response for directorsAndOfficers: {"value":"John Smith (Chairman), Jane Doe (Director), Mike Johnson (Director)","valueType":"string","valueLength":67,"status":"FILLED","responseId":3860}
[2025-04-25T06:46:04.211Z] [INFO] [UniversalDemoAutoFillService] Verified update for directorsAndOfficers: {"expectedValue":"John Smith (Chairman), Jane Doe (Director), Mike Johnson (Director)","actualValue":"John Smith (Chairman), Jane Doe (Director), Mike Johnson (Director)","matched":true}
[2025-04-25T06:46:04.211Z] [INFO] [UniversalDemoAutoFillService] Processing field contactEmail: {"value":"32@e.com","valueType":"string","isEmpty":false,"fieldId":18}
[2025-04-25T06:46:04.211Z] [INFO] [UniversalDemoAutoFillService] Updating existing response for contactEmail: {"value":"32@e.com","valueType":"string","valueLength":8,"status":"FILLED","responseId":3861}
[2025-04-25T06:46:04.326Z] [INFO] [UniversalDemoAutoFillService] Verified update for contactEmail: {"expectedValue":"32@e.com","actualValue":"32@e.com","matched":true}
[2025-04-25T06:46:04.326Z] [INFO] [UniversalDemoAutoFillService] Processing field marketCapitalization: {"value":"$75 million (privately held)","valueType":"string","isEmpty":false,"fieldId":19}
[2025-04-25T06:46:04.326Z] [INFO] [UniversalDemoAutoFillService] Updating existing response for marketCapitalization: {"value":"$75 million (privately held)","valueType":"string","valueLength":28,"status":"FILLED","responseId":3862}
[2025-04-25T06:46:04.395Z] [INFO] [UniversalDemoAutoFillService] Verified update for marketCapitalization: {"expectedValue":"$75 million (privately held)","actualValue":"$75 million (privately held)","matched":true}
[2025-04-25T06:46:04.395Z] [INFO] [UniversalDemoAutoFillService] Processing field lifetimeCustomerValue: {"value":"$1,250","valueType":"string","isEmpty":false,"fieldId":20}
[2025-04-25T06:46:04.395Z] [INFO] [UniversalDemoAutoFillService] Updating existing response for lifetimeCustomerValue: {"value":"$1,250","valueType":"string","valueLength":6,"status":"FILLED","responseId":3863}
[2025-04-25T06:46:04.460Z] [INFO] [UniversalDemoAutoFillService] Verified update for lifetimeCustomerValue: {"expectedValue":"$1,250","actualValue":"$1,250","matched":true}
[2025-04-25T06:46:04.460Z] [INFO] [UniversalDemoAutoFillService] Processing field annualRecurringRevenue: {"value":"5,000,000","valueType":"string","isEmpty":false,"fieldId":21}
[2025-04-25T06:46:04.460Z] [INFO] [UniversalDemoAutoFillService] Updating existing response for annualRecurringRevenue: {"value":"5,000,000","valueType":"string","valueLength":9,"status":"FILLED","responseId":3864}
[2025-04-25T06:46:04.522Z] [INFO] [UniversalDemoAutoFillService] Verified update for annualRecurringRevenue: {"expectedValue":"5,000,000","actualValue":"5,000,000","matched":true}
[2025-04-25T06:46:04.522Z] [INFO] [UniversalDemoAutoFillService] Processing field monthlyRecurringRevenue: {"value":"12,500,000","valueType":"string","isEmpty":false,"fieldId":22}
[2025-04-25T06:46:04.522Z] [INFO] [UniversalDemoAutoFillService] Updating existing response for monthlyRecurringRevenue: {"value":"12,500,000","valueType":"string","valueLength":10,"status":"FILLED","responseId":3865}
[2025-04-25T06:46:04.588Z] [INFO] [UniversalDemoAutoFillService] Verified update for monthlyRecurringRevenue: {"expectedValue":"12,500,000","actualValue":"12,500,000","matched":true}
[2025-04-25T06:46:04.588Z] [INFO] [UniversalDemoAutoFillService] Processing field investigationsIncidents: {"value":"No significant incidents in the past 3 years","valueType":"string","isEmpty":false,"fieldId":23}
[2025-04-25T06:46:04.588Z] [INFO] [UniversalDemoAutoFillService] Updating existing response for investigationsIncidents: {"value":"No significant incidents in the past 3 years","valueType":"string","valueLength":44,"status":"FILLED","responseId":3866}
[2025-04-25T06:46:04.650Z] [INFO] [UniversalDemoAutoFillService] Verified update for investigationsIncidents: {"expectedValue":"No significant incidents in the past 3 years","actualValue":"No significant incidents in the past 3 years","matched":true}
[2025-04-25T06:46:04.650Z] [INFO] [UniversalDemoAutoFillService] Processing field financialStatements: {"value":"Yes","valueType":"string","isEmpty":false,"fieldId":24}
[2025-04-25T06:46:04.650Z] [INFO] [UniversalDemoAutoFillService] Updating existing response for financialStatements: {"value":"Yes","valueType":"string","valueLength":3,"status":"FILLED","responseId":3867}
[2025-04-25T06:46:04.712Z] [INFO] [UniversalDemoAutoFillService] Verified update for financialStatements: {"expectedValue":"Yes","actualValue":"Yes","matched":true}
[2025-04-25T06:46:04.712Z] [INFO] [UniversalDemoAutoFillService] Processing field operationalPolicies: {"value":"ISO 27001 certified, SOC 2 Type II compliant","valueType":"string","isEmpty":false,"fieldId":25}
[2025-04-25T06:46:04.712Z] [INFO] [UniversalDemoAutoFillService] Updating existing response for operationalPolicies: {"value":"ISO 27001 certified, SOC 2 Type II compliant","valueType":"string","valueLength":44,"status":"FILLED","responseId":3868}
[2025-04-25T06:46:04.774Z] [INFO] [UniversalDemoAutoFillService] Verified update for operationalPolicies: {"expectedValue":"ISO 27001 certified, SOC 2 Type II compliant","actualValue":"ISO 27001 certified, SOC 2 Type II compliant","matched":true}
[2025-04-25T06:46:04.774Z] [INFO] [UniversalDemoAutoFillService] Processing field dataVolume: {"value":"Approximately 2 million records per month","valueType":"string","isEmpty":false,"fieldId":26}
[2025-04-25T06:46:04.774Z] [INFO] [UniversalDemoAutoFillService] Updating existing response for dataVolume: {"value":"Approximately 2 million records per month","valueType":"string","valueLength":41,"status":"FILLED","responseId":3869}
[2025-04-25T06:46:04.844Z] [INFO] [UniversalDemoAutoFillService] Verified update for dataVolume: {"expectedValue":"Approximately 2 million records per month","actualValue":"Approximately 2 million records per month","matched":true}
[2025-04-25T06:46:04.844Z] [INFO] [UniversalDemoAutoFillService] Processing field dataTypes: {"value":"Financial transaction data, Account balances, Customer KYC information","valueType":"string","isEmpty":false,"fieldId":27}
[2025-04-25T06:46:04.844Z] [INFO] [UniversalDemoAutoFillService] Updating existing response for dataTypes: {"value":"Financial transaction data, Account balances, Customer KYC information","valueType":"string","valueLength":70,"status":"FILLED","responseId":3870}
[2025-04-25T06:46:04.906Z] [INFO] [UniversalDemoAutoFillService] Verified update for dataTypes: {"expectedValue":"Financial transaction data, Account balances, Customer KYC information","actualValue":"Financial transaction data, Account balances, Customer KYC information","matched":true}
[2025-04-25T06:46:04.906Z] [INFO] [UniversalDemoAutoFillService] Processing field sanctionsCheck: {"value":"Approximately 2 million records per month","valueType":"string","isEmpty":false,"fieldId":28}
[2025-04-25T06:46:04.906Z] [INFO] [UniversalDemoAutoFillService] Updating existing response for sanctionsCheck: {"value":"Approximately 2 million records per month","valueType":"string","valueLength":41,"status":"FILLED","responseId":3871}
[2025-04-25T06:46:04.967Z] [INFO] [UniversalDemoAutoFillService] Verified update for sanctionsCheck: {"expectedValue":"Approximately 2 million records per month","actualValue":"Approximately 2 million records per month","matched":true}
[2025-04-25T06:46:04.967Z] [INFO] [UniversalDemoAutoFillService] Processing field dueDiligence: {"value":"Yes","valueType":"string","isEmpty":false,"fieldId":29}
[2025-04-25T06:46:04.967Z] [INFO] [UniversalDemoAutoFillService] Updating existing response for dueDiligence: {"value":"Yes","valueType":"string","valueLength":3,"status":"FILLED","responseId":3872}
[2025-04-25T06:46:05.029Z] [INFO] [UniversalDemoAutoFillService] Verified update for dueDiligence: {"expectedValue":"Yes","actualValue":"Yes","matched":true}
[2025-04-25T06:46:05.029Z] [INFO] [UniversalDemoAutoFillService] Processing field regulatoryActions: {"value":"Yes","valueType":"string","isEmpty":false,"fieldId":30}
[2025-04-25T06:46:05.029Z] [INFO] [UniversalDemoAutoFillService] Updating existing response for regulatoryActions: {"value":"Yes","valueType":"string","valueLength":3,"status":"FILLED","responseId":3873}
[2025-04-25T06:46:05.092Z] [INFO] [UniversalDemoAutoFillService] Verified update for regulatoryActions: {"expectedValue":"Yes","actualValue":"Yes","matched":true}
[2025-04-25T06:46:05.123Z] [INFO] [UniversalDemoAutoFillService] Determining task status {"taskId":637,"fieldsWithValues":30,"fieldsWithEmptyValues":0,"originalStatus":"in_progress","updatedStatus":"in_progress","timestamp":"2025-04-25T06:46:03.157Z"}
[WebSocket] Broadcast "task_updated" sent to 3 clients {
  type: 'task_updated',
  dataKeys: [ 'id', 'progress', 'status', 'updated_at', 'timestamp' ],
  timestamp: '2025-04-25T06:46:05.154Z',
  clientCount: 3
}
[2025-04-25T06:46:05.154Z] [INFO] [UniversalDemoAutoFillService] Demo data application completed {"taskId":637,"formType":"kyb","inserted":0,"updated":30,"errors":0,"progress":100,"fieldsWithValues":30,"fieldsWithEmptyValues":0,"valuesRatio":"30/30"}
[2025-04-25T06:46:05.154Z] [INFO] [KYBRoutes] Applied demo data for KYB auto-fill using universal service {"fieldCount":30,"taskId":637}
6:46:05 AM [info] POST /api/kyb/demo-autofill/637 200 in 2261ms :: {"success":true,"message":"Successfully applied demo data to 30 fields","fiel...
[Tasks Routes] Fetching task by ID (special .json endpoint): {
  taskId: 637,
  userCompanyId: 241,
  timestamp: '2025-04-25T06:46:05.305Z'
}
[Tasks Routes] Fetching latest KYB form data for task (special .json endpoint): 637
[Tasks Routes] Found 30 KYB responses for task 637 (special .json endpoint)
[Tasks Routes] Constructed form data with 30 fields (special .json endpoint)
[Tasks Routes] Task found by ID (special .json endpoint): {
  taskId: 637,
  title: '1. KYB Form: DevTest32',
  type: 'company_kyb',
  formDataFields: 30,
  timestamp: '2025-04-25T06:46:05.401Z'
}
6:46:05 AM [info] GET /api/tasks.json/637 200 in 127ms :: {"id":637,"title":"1. KYB Form: DevTest32","description":"Complete KYB verifi...
[Tasks Routes] Fetching task by ID (special .json endpoint): {
  taskId: 637,
  userCompanyId: 241,
  timestamp: '2025-04-25T06:46:05.634Z'
}
[Tasks Routes] Fetching latest KYB form data for task (special .json endpoint): 637
[Tasks Routes] Found 30 KYB responses for task 637 (special .json endpoint)
[Tasks Routes] Constructed form data with 30 fields (special .json endpoint)
[Tasks Routes] Task found by ID (special .json endpoint): {
  taskId: 637,
  title: '1. KYB Form: DevTest32',
  type: 'company_kyb',
  formDataFields: 30,
  timestamp: '2025-04-25T06:46:05.728Z'
}
6:46:05 AM [info] GET /api/tasks.json/637 304 in 125ms :: {"id":637,"title":"1. KYB Form: DevTest32","description":"Complete KYB verifi...
[Tasks Routes] Updating task progress: { taskId: 637, timestamp: '2025-04-25T06:46:05.908Z' }
[Tasks Routes] Updating task progress: { taskId: 637, timestamp: '2025-04-25T06:46:05.923Z' }
[Task Reconciliation] Found 30 responses for task 637 (type: company_kyb)
[STATUS DETERMINATION] Calculating status for task with: {
  progress: 100,
  currentStatus: 'in_progress',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  hasResponses: true,
  timestamp: '2025-04-25T06:46:05.972Z'
}
[STATUS DETERMINATION] Task has 100% progress, setting to READY_FOR_SUBMISSION
[Task Reconciliation] Progress calculation: {
  taskId: 637,
  currentProgress: 100,
  calculatedProgress: 100,
  currentStatus: 'in_progress',
  calculatedStatus: 'ready_for_submission',
  responseCount: 30,
  completeCount: 30
}
[Task Reconciliation] Correcting task 637: {
  progressFrom: 100,
  progressTo: 100,
  statusFrom: 'in_progress',
  statusTo: 'ready_for_submission',
  forceUpdate: true
}
[Task Reconciliation] Found 30 responses for task 637 (type: company_kyb)
[STATUS DETERMINATION] Calculating status for task with: {
  progress: 100,
  currentStatus: 'in_progress',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  hasResponses: true,
  timestamp: '2025-04-25T06:46:05.986Z'
}
[STATUS DETERMINATION] Task has 100% progress, setting to READY_FOR_SUBMISSION
[Task Reconciliation] Progress calculation: {
  taskId: 637,
  currentProgress: 100,
  calculatedProgress: 100,
  currentStatus: 'in_progress',
  calculatedStatus: 'ready_for_submission',
  responseCount: 30,
  completeCount: 30
}
[Task Reconciliation] Correcting task 637: {
  progressFrom: 100,
  progressTo: 100,
  statusFrom: 'in_progress',
  statusTo: 'ready_for_submission',
  forceUpdate: true
}
[Progress Utils] Broadcasting task progress update: {
  taskId: 637,
  progress: 100,
  requestedStatus: 'ready_for_submission',
  finalStatus: 'ready_for_submission',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  timestamp: '2025-04-25T06:46:06.004Z'
}
[WebSocket] Broadcast "task_updated" sent to 3 clients {
  type: 'task_updated',
  dataKeys: [ 'id', 'status', 'progress', 'metadata', 'timestamp' ],
  timestamp: '2025-04-25T06:46:06.004Z',
  clientCount: 3
}
[Progress Utils] Broadcasting task progress update: {
  taskId: 637,
  progress: 100,
  requestedStatus: 'ready_for_submission',
  finalStatus: 'ready_for_submission',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  timestamp: '2025-04-25T06:46:06.019Z'
}
[WebSocket] Broadcast "task_updated" sent to 3 clients {
  type: 'task_updated',
  dataKeys: [ 'id', 'status', 'progress', 'metadata', 'timestamp' ],
  timestamp: '2025-04-25T06:46:06.019Z',
  clientCount: 3
}
[Tasks Routes] Task progress reconciled: {
  taskId: 637,
  progress: 100,
  status: 'ready_for_submission',
  timestamp: '2025-04-25T06:46:06.039Z'
}
[Tasks Routes] Task progress reconciled: {
  taskId: 637,
  progress: 100,
  status: 'ready_for_submission',
  timestamp: '2025-04-25T06:46:06.049Z'
}
6:46:06 AM [info] POST /api/tasks/637/update-progress 200 in 171ms :: {"success":true,"progress":100,"status":"ready_for_submission","taskId":637}
6:46:06 AM [info] POST /api/tasks/637/update-progress 200 in 159ms :: {"success":true,"progress":100,"status":"ready_for_submission","taskId":637}
[Tasks Routes] Fetching task by ID (special .json endpoint): {
  taskId: 637,
  userCompanyId: 241,
  timestamp: '2025-04-25T06:46:06.227Z'
}
[Tasks Routes] Fetching latest KYB form data for task (special .json endpoint): 637
[Tasks Routes] Found 30 KYB responses for task 637 (special .json endpoint)
[Tasks Routes] Constructed form data with 30 fields (special .json endpoint)
[Tasks Routes] Task found by ID (special .json endpoint): {
  taskId: 637,
  title: '1. KYB Form: DevTest32',
  type: 'company_kyb',
  formDataFields: 30,
  timestamp: '2025-04-25T06:46:06.320Z'
}
6:46:06 AM [info] GET /api/tasks.json/637 200 in 123ms :: {"id":637,"title":"1. KYB Form: DevTest32","description":"Complete KYB verifi...
[Tasks Routes] Fetching task by ID (special .json endpoint): {
  taskId: 637,
  userCompanyId: 241,
  timestamp: '2025-04-25T06:46:06.505Z'
}
[Tasks Routes] Fetching latest KYB form data for task (special .json endpoint): 637
[Tasks Routes] Found 30 KYB responses for task 637 (special .json endpoint)
[Tasks Routes] Constructed form data with 30 fields (special .json endpoint)
[Tasks Routes] Task found by ID (special .json endpoint): {
  taskId: 637,
  title: '1. KYB Form: DevTest32',
  type: 'company_kyb',
  formDataFields: 30,
  timestamp: '2025-04-25T06:46:06.597Z'
}
6:46:06 AM [info] GET /api/tasks.json/637 304 in 123ms :: {"id":637,"title":"1. KYB Form: DevTest32","description":"Complete KYB verifi...
[TimestampHandler] Saving 30 timestamps for task 637
[TimestampHandler] Successfully saved timestamps for task 637
[TimestampAPI] Saved 30 timestamps for task 637
6:46:06 AM [info] POST /api/kyb/timestamps/637 200 in 70ms :: {"message":"Timestamps saved successfully","count":30}
===============================================
[SERVER DEBUG] KYB PROGRESS SAVE REQUEST RECEIVED at 2025-04-25T06:46:07.125Z
===============================================
Task ID: 637
Progress: 83
Status: in_progress
Field count: 30
Sample form data values:
- externalAudit: "No" (string)
- controlEnvironment: "Yes" (string)
- authorizedSigners: "John Smith (CEO), Sarah Johnson (CFO), Michael Wong (COO)" (string)
- governmentOwnership: "No" (string)
- ultimateBeneficialOwners: "None" (string)
Request details:
- Method: POST
- Content-Type: application/json
- Content-Length: 2337
===============================================
===============================================
[SERVER DEBUG] PROCESSING FORM DATA FIELDS AT 2025-04-25T06:46:07.185Z
[SERVER DEBUG] Task ID: 637, Field count: 30
===============================================
[SERVER DEBUG] COMPLETE FORM DATA DUMP:
[SERVER DEBUG] externalAudit: "No" (string)
[SERVER DEBUG] controlEnvironment: "Yes" (string)
[SERVER DEBUG] authorizedSigners: "John Smith (CEO), Sarah Johnson (CFO), Michael Wong (COO)" (string)
[SERVER DEBUG] governmentOwnership: "No" (string)
[SERVER DEBUG] ultimateBeneficialOwners: "None" (string)
[SERVER DEBUG] directorsAndOfficers: "John Smith (Chairman), Jane Doe (Director), Mike Johnson (Director)" (string)
[SERVER DEBUG] contactEmail: "32@e.com" (string)
[SERVER DEBUG] marketCapitalization: "$75 million (privately held)" (string)
[SERVER DEBUG] lifetimeCustomerValue: "$1,250" (string)
[SERVER DEBUG] annualRecurringRevenue: "5,000,000" (string)
[SERVER DEBUG] monthlyRecurringRevenue: "12,500,000" (string)
[SERVER DEBUG] investigationsIncidents: "No significant incidents in the past 3 years" (string)
[SERVER DEBUG] financialStatements: "Yes" (string)
[SERVER DEBUG] operationalPolicies: "ISO 27001 certified, SOC 2 Type II compliant" (string)
[SERVER DEBUG] dataVolume: "Approximately 2 million records per month" (string)
[SERVER DEBUG] dataTypes: "Financial transaction data, Account balances, Customer KYC information" (string)
[SERVER DEBUG] sanctionsCheck: "Approximately 2 million records per month" (string)
[SERVER DEBUG] dueDiligence: "Yes" (string)
[SERVER DEBUG] regulatoryActions: "Yes" (string)
[SERVER DEBUG] legalEntityName: "DevTest32" (string)
[SERVER DEBUG] registrationNumber: "12-3456789" (string)
[SERVER DEBUG] incorporationDate: "5/12/2010" (string)
[SERVER DEBUG] businessType: "Limited Liability Company (LLC)" (string)
[SERVER DEBUG] jurisdiction: "" (string)
[SERVER DEBUG] registeredAddress: "" (string)
[SERVER DEBUG] companyPhone: "" (string)
[SERVER DEBUG] priorNames: "" (string)
[SERVER DEBUG] licenses: "" (string)
[SERVER DEBUG] goodStanding: "Yes" (string)
[SERVER DEBUG] corporateRegistration: "Delaware State Filing Number 1234567, registered as FinTech Innovations LLC on 05/12/2010" (string)
[SERVER DEBUG] END OF FORM DATA DUMP
[SERVER DEBUG] No fields with value "asdf" found in incoming data
[SERVER DEBUG] Processing field: "externalAudit" (ID: 12)
[SERVER DEBUG] Original value: No
[SERVER DEBUG] Normalized value: "No" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "externalAudit" in database
[SERVER DEBUG] - Old value: "No" (string)
[SERVER DEBUG] - New value: "No" (string)
[SERVER DEBUG] - Old status: FILLED, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: externalAudit
[SERVER DEBUG] - field_id: 12
[SERVER DEBUG] - response_value: "No"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "externalAudit":
[SERVER DEBUG] - Expected: "No"
[SERVER DEBUG] - Actual: "No"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "externalAudit" (ID: 3855)
[SERVER DEBUG] --- Finished processing field "externalAudit" ---

[SERVER DEBUG] Processing field: "controlEnvironment" (ID: 13)
[SERVER DEBUG] Original value: Yes
[SERVER DEBUG] Normalized value: "Yes" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "controlEnvironment" in database
[SERVER DEBUG] - Old value: "Yes" (string)
[SERVER DEBUG] - New value: "Yes" (string)
[SERVER DEBUG] - Old status: FILLED, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: controlEnvironment
[SERVER DEBUG] - field_id: 13
[SERVER DEBUG] - response_value: "Yes"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "controlEnvironment":
[SERVER DEBUG] - Expected: "Yes"
[SERVER DEBUG] - Actual: "Yes"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "controlEnvironment" (ID: 3856)
[SERVER DEBUG] --- Finished processing field "controlEnvironment" ---

[SERVER DEBUG] Processing field: "authorizedSigners" (ID: 14)
[SERVER DEBUG] Original value: John Smith (CEO), Sarah Johnson (CFO), Michael Wong (COO)
[SERVER DEBUG] Normalized value: "John Smith (CEO), Sarah Johnson (CFO), Michael Wong (COO)" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "authorizedSigners" in database
[SERVER DEBUG] - Old value: "John Smith (CEO), Sarah Johnson (CFO), Michael Wong (COO)" (string)
[SERVER DEBUG] - New value: "John Smith (CEO), Sarah Johnson (CFO), Michael Wong (COO)" (string)
[SERVER DEBUG] - Old status: FILLED, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: authorizedSigners
[SERVER DEBUG] - field_id: 14
[SERVER DEBUG] - response_value: "John Smith (CEO), Sarah Johnson (CFO), Michael Wong (COO)"
[Tasks Routes] Updating task progress: { taskId: 637, timestamp: '2025-04-25T06:46:07.424Z' }
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "authorizedSigners":
[SERVER DEBUG] - Expected: "John Smith (CEO), Sarah Johnson (CFO), Michael Wong (COO)"
[SERVER DEBUG] - Actual: "John Smith (CEO), Sarah Johnson (CFO), Michael Wong (COO)"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "authorizedSigners" (ID: 3857)
[SERVER DEBUG] --- Finished processing field "authorizedSigners" ---

[SERVER DEBUG] Processing field: "governmentOwnership" (ID: 15)
[SERVER DEBUG] Original value: No
[SERVER DEBUG] Normalized value: "No" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "governmentOwnership" in database
[SERVER DEBUG] - Old value: "No" (string)
[SERVER DEBUG] - New value: "No" (string)
[SERVER DEBUG] - Old status: FILLED, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: governmentOwnership
[SERVER DEBUG] - field_id: 15
[SERVER DEBUG] - response_value: "No"
[Task Reconciliation] Found 30 responses for task 637 (type: company_kyb)
[STATUS DETERMINATION] Calculating status for task with: {
  progress: 100,
  currentStatus: 'ready_for_submission',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  hasResponses: true,
  timestamp: '2025-04-25T06:46:07.485Z'
}
[STATUS DETERMINATION] Task has 100% progress, setting to READY_FOR_SUBMISSION
[Task Reconciliation] Progress calculation: {
  taskId: 637,
  currentProgress: 100,
  calculatedProgress: 100,
  currentStatus: 'ready_for_submission',
  calculatedStatus: 'ready_for_submission',
  responseCount: 30,
  completeCount: 30
}
[Task Reconciliation] Correcting task 637: {
  progressFrom: 100,
  progressTo: 100,
  statusFrom: 'ready_for_submission',
  statusTo: 'ready_for_submission',
  forceUpdate: true
}
[Progress Utils] Broadcasting task progress update: {
  taskId: 637,
  progress: 100,
  requestedStatus: 'ready_for_submission',
  finalStatus: 'ready_for_submission',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  timestamp: '2025-04-25T06:46:07.516Z'
}
[WebSocket] Broadcast "task_updated" sent to 3 clients {
  type: 'task_updated',
  dataKeys: [ 'id', 'status', 'progress', 'metadata', 'timestamp' ],
  timestamp: '2025-04-25T06:46:07.516Z',
  clientCount: 3
}
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "governmentOwnership":
[SERVER DEBUG] - Expected: "No"
[SERVER DEBUG] - Actual: "No"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "governmentOwnership" (ID: 3858)
[SERVER DEBUG] --- Finished processing field "governmentOwnership" ---

[SERVER DEBUG] Processing field: "ultimateBeneficialOwners" (ID: 16)
[SERVER DEBUG] Original value: None
[SERVER DEBUG] Normalized value: "None" (string)
[SERVER DEBUG] Field status: COMPLETE
[Tasks Routes] Task progress reconciled: {
  taskId: 637,
  progress: 100,
  status: 'ready_for_submission',
  timestamp: '2025-04-25T06:46:07.547Z'
}
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "ultimateBeneficialOwners" in database
[SERVER DEBUG] - Old value: "None" (string)
[SERVER DEBUG] - New value: "None" (string)
[SERVER DEBUG] - Old status: FILLED, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: ultimateBeneficialOwners
[SERVER DEBUG] - field_id: 16
[SERVER DEBUG] - response_value: "None"
6:46:07 AM [info] POST /api/tasks/637/update-progress 200 in 156ms :: {"success":true,"progress":100,"status":"ready_for_submission","taskId":637}
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "ultimateBeneficialOwners":
[SERVER DEBUG] - Expected: "None"
[SERVER DEBUG] - Actual: "None"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "ultimateBeneficialOwners" (ID: 3859)
[SERVER DEBUG] --- Finished processing field "ultimateBeneficialOwners" ---

[SERVER DEBUG] Processing field: "directorsAndOfficers" (ID: 17)
[SERVER DEBUG] Original value: John Smith (Chairman), Jane Doe (Director), Mike Johnson (Director)
[SERVER DEBUG] Normalized value: "John Smith (Chairman), Jane Doe (Director), Mike Johnson (Director)" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "directorsAndOfficers" in database
[SERVER DEBUG] - Old value: "John Smith (Chairman), Jane Doe (Director), Mike Johnson (Director)" (string)
[SERVER DEBUG] - New value: "John Smith (Chairman), Jane Doe (Director), Mike Johnson (Director)" (string)
[SERVER DEBUG] - Old status: FILLED, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: directorsAndOfficers
[SERVER DEBUG] - field_id: 17
[SERVER DEBUG] - response_value: "John Smith (Chairman), Jane Doe (Director), Mike Johnson (Director)"
[Auth] Using cached user data: 283
[Tasks Routes] Fetching task by ID (special .json endpoint): {
  taskId: 637,
  userCompanyId: 241,
  timestamp: '2025-04-25T06:46:07.663Z'
}
[Tasks Routes] Fetching latest KYB form data for task (special .json endpoint): 637
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "directorsAndOfficers":
[SERVER DEBUG] - Expected: "John Smith (Chairman), Jane Doe (Director), Mike Johnson (Director)"
[SERVER DEBUG] - Actual: "John Smith (Chairman), Jane Doe (Director), Mike Johnson (Director)"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "directorsAndOfficers" (ID: 3860)
[SERVER DEBUG] --- Finished processing field "directorsAndOfficers" ---

[SERVER DEBUG] Processing field: "contactEmail" (ID: 18)
[SERVER DEBUG] Original value: 32@e.com
[SERVER DEBUG] Normalized value: "32@e.com" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "contactEmail" in database
[SERVER DEBUG] - Old value: "32@e.com" (string)
[SERVER DEBUG] - New value: "32@e.com" (string)
[SERVER DEBUG] - Old status: FILLED, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: contactEmail
[SERVER DEBUG] - field_id: 18
[SERVER DEBUG] - response_value: "32@e.com"
[Tasks Routes] Found 30 KYB responses for task 637 (special .json endpoint)
[Tasks Routes] Constructed form data with 30 fields (special .json endpoint)
[Tasks Routes] Task found by ID (special .json endpoint): {
  taskId: 637,
  title: '1. KYB Form: DevTest32',
  type: 'company_kyb',
  formDataFields: 30,
  timestamp: '2025-04-25T06:46:07.756Z'
}
6:46:07 AM [info] GET /api/tasks.json/637 200 in 125ms :: {"id":637,"title":"1. KYB Form: DevTest32","description":"Complete KYB verifi...
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "contactEmail":
[SERVER DEBUG] - Expected: "32@e.com"
[SERVER DEBUG] - Actual: "32@e.com"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "contactEmail" (ID: 3861)
[SERVER DEBUG] --- Finished processing field "contactEmail" ---

[SERVER DEBUG] Processing field: "marketCapitalization" (ID: 19)
[SERVER DEBUG] Original value: $75 million (privately held)
[SERVER DEBUG] Normalized value: "$75 million (privately held)" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "marketCapitalization" in database
[SERVER DEBUG] - Old value: "$75 million (privately held)" (string)
[SERVER DEBUG] - New value: "$75 million (privately held)" (string)
[SERVER DEBUG] - Old status: FILLED, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: marketCapitalization
[SERVER DEBUG] - field_id: 19
[SERVER DEBUG] - response_value: "$75 million (privately held)"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "marketCapitalization":
[SERVER DEBUG] - Expected: "$75 million (privately held)"
[SERVER DEBUG] - Actual: "$75 million (privately held)"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "marketCapitalization" (ID: 3862)
[SERVER DEBUG] --- Finished processing field "marketCapitalization" ---

[SERVER DEBUG] Processing field: "lifetimeCustomerValue" (ID: 20)
[SERVER DEBUG] Original value: $1,250
[SERVER DEBUG] Normalized value: "$1,250" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "lifetimeCustomerValue" in database
[SERVER DEBUG] - Old value: "$1,250" (string)
[SERVER DEBUG] - New value: "$1,250" (string)
[SERVER DEBUG] - Old status: FILLED, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: lifetimeCustomerValue
[SERVER DEBUG] - field_id: 20
[SERVER DEBUG] - response_value: "$1,250"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "lifetimeCustomerValue":
[SERVER DEBUG] - Expected: "$1,250"
[SERVER DEBUG] - Actual: "$1,250"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "lifetimeCustomerValue" (ID: 3863)
[SERVER DEBUG] --- Finished processing field "lifetimeCustomerValue" ---

[SERVER DEBUG] Processing field: "annualRecurringRevenue" (ID: 21)
[SERVER DEBUG] Original value: 5,000,000
[SERVER DEBUG] Normalized value: "5,000,000" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "annualRecurringRevenue" in database
[SERVER DEBUG] - Old value: "5,000,000" (string)
[SERVER DEBUG] - New value: "5,000,000" (string)
[SERVER DEBUG] - Old status: FILLED, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: annualRecurringRevenue
[SERVER DEBUG] - field_id: 21
[SERVER DEBUG] - response_value: "5,000,000"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "annualRecurringRevenue":
[SERVER DEBUG] - Expected: "5,000,000"
[SERVER DEBUG] - Actual: "5,000,000"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "annualRecurringRevenue" (ID: 3864)
[SERVER DEBUG] --- Finished processing field "annualRecurringRevenue" ---

[SERVER DEBUG] Processing field: "monthlyRecurringRevenue" (ID: 22)
[SERVER DEBUG] Original value: 12,500,000
[SERVER DEBUG] Normalized value: "12,500,000" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "monthlyRecurringRevenue" in database
[SERVER DEBUG] - Old value: "12,500,000" (string)
[SERVER DEBUG] - New value: "12,500,000" (string)
[SERVER DEBUG] - Old status: FILLED, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: monthlyRecurringRevenue
[SERVER DEBUG] - field_id: 22
[SERVER DEBUG] - response_value: "12,500,000"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "monthlyRecurringRevenue":
[SERVER DEBUG] - Expected: "12,500,000"
[SERVER DEBUG] - Actual: "12,500,000"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "monthlyRecurringRevenue" (ID: 3865)
[SERVER DEBUG] --- Finished processing field "monthlyRecurringRevenue" ---

[SERVER DEBUG] Processing field: "investigationsIncidents" (ID: 23)
[SERVER DEBUG] Original value: No significant incidents in the past 3 years
[SERVER DEBUG] Normalized value: "No significant incidents in the past 3 years" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "investigationsIncidents" in database
[SERVER DEBUG] - Old value: "No significant incidents in the past 3 years" (string)
[SERVER DEBUG] - New value: "No significant incidents in the past 3 years" (string)
[SERVER DEBUG] - Old status: FILLED, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: investigationsIncidents
[SERVER DEBUG] - field_id: 23
[SERVER DEBUG] - response_value: "No significant incidents in the past 3 years"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "investigationsIncidents":
[SERVER DEBUG] - Expected: "No significant incidents in the past 3 years"
[SERVER DEBUG] - Actual: "No significant incidents in the past 3 years"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "investigationsIncidents" (ID: 3866)
[SERVER DEBUG] --- Finished processing field "investigationsIncidents" ---

[SERVER DEBUG] Processing field: "financialStatements" (ID: 24)
[SERVER DEBUG] Original value: Yes
[SERVER DEBUG] Normalized value: "Yes" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "financialStatements" in database
[SERVER DEBUG] - Old value: "Yes" (string)
[SERVER DEBUG] - New value: "Yes" (string)
[SERVER DEBUG] - Old status: FILLED, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: financialStatements
[SERVER DEBUG] - field_id: 24
[SERVER DEBUG] - response_value: "Yes"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "financialStatements":
[SERVER DEBUG] - Expected: "Yes"
[SERVER DEBUG] - Actual: "Yes"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "financialStatements" (ID: 3867)
[SERVER DEBUG] --- Finished processing field "financialStatements" ---

[SERVER DEBUG] Processing field: "operationalPolicies" (ID: 25)
[SERVER DEBUG] Original value: ISO 27001 certified, SOC 2 Type II compliant
[SERVER DEBUG] Normalized value: "ISO 27001 certified, SOC 2 Type II compliant" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "operationalPolicies" in database
[SERVER DEBUG] - Old value: "ISO 27001 certified, SOC 2 Type II compliant" (string)
[SERVER DEBUG] - New value: "ISO 27001 certified, SOC 2 Type II compliant" (string)
[SERVER DEBUG] - Old status: FILLED, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: operationalPolicies
[SERVER DEBUG] - field_id: 25
[SERVER DEBUG] - response_value: "ISO 27001 certified, SOC 2 Type II compliant"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "operationalPolicies":
[SERVER DEBUG] - Expected: "ISO 27001 certified, SOC 2 Type II compliant"
[SERVER DEBUG] - Actual: "ISO 27001 certified, SOC 2 Type II compliant"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "operationalPolicies" (ID: 3868)
[SERVER DEBUG] --- Finished processing field "operationalPolicies" ---

[SERVER DEBUG] Processing field: "dataVolume" (ID: 26)
[SERVER DEBUG] Original value: Approximately 2 million records per month
[SERVER DEBUG] Normalized value: "Approximately 2 million records per month" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "dataVolume" in database
[SERVER DEBUG] - Old value: "Approximately 2 million records per month" (string)
[SERVER DEBUG] - New value: "Approximately 2 million records per month" (string)
[SERVER DEBUG] - Old status: FILLED, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: dataVolume
[SERVER DEBUG] - field_id: 26
[SERVER DEBUG] - response_value: "Approximately 2 million records per month"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "dataVolume":
[SERVER DEBUG] - Expected: "Approximately 2 million records per month"
[SERVER DEBUG] - Actual: "Approximately 2 million records per month"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "dataVolume" (ID: 3869)
[SERVER DEBUG] --- Finished processing field "dataVolume" ---

[SERVER DEBUG] Processing field: "dataTypes" (ID: 27)
[SERVER DEBUG] Original value: Financial transaction data, Account balances, Customer KYC information
[SERVER DEBUG] Normalized value: "Financial transaction data, Account balances, Customer KYC information" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "dataTypes" in database
[SERVER DEBUG] - Old value: "Financial transaction data, Account balances, Customer KYC information" (string)
[SERVER DEBUG] - New value: "Financial transaction data, Account balances, Customer KYC information" (string)
[SERVER DEBUG] - Old status: FILLED, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: dataTypes
[SERVER DEBUG] - field_id: 27
[SERVER DEBUG] - response_value: "Financial transaction data, Account balances, Customer KYC information"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "dataTypes":
[SERVER DEBUG] - Expected: "Financial transaction data, Account balances, Customer KYC information"
[SERVER DEBUG] - Actual: "Financial transaction data, Account balances, Customer KYC information"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "dataTypes" (ID: 3870)
[SERVER DEBUG] --- Finished processing field "dataTypes" ---

[SERVER DEBUG] Processing field: "sanctionsCheck" (ID: 28)
[SERVER DEBUG] Original value: Approximately 2 million records per month
[SERVER DEBUG] Normalized value: "Approximately 2 million records per month" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "sanctionsCheck" in database
[SERVER DEBUG] - Old value: "Approximately 2 million records per month" (string)
[SERVER DEBUG] - New value: "Approximately 2 million records per month" (string)
[SERVER DEBUG] - Old status: FILLED, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: sanctionsCheck
[SERVER DEBUG] - field_id: 28
[SERVER DEBUG] - response_value: "Approximately 2 million records per month"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "sanctionsCheck":
[SERVER DEBUG] - Expected: "Approximately 2 million records per month"
[SERVER DEBUG] - Actual: "Approximately 2 million records per month"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "sanctionsCheck" (ID: 3871)
[SERVER DEBUG] --- Finished processing field "sanctionsCheck" ---

[SERVER DEBUG] Processing field: "dueDiligence" (ID: 29)
[SERVER DEBUG] Original value: Yes
[SERVER DEBUG] Normalized value: "Yes" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "dueDiligence" in database
[SERVER DEBUG] - Old value: "Yes" (string)
[SERVER DEBUG] - New value: "Yes" (string)
[SERVER DEBUG] - Old status: FILLED, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: dueDiligence
[SERVER DEBUG] - field_id: 29
[SERVER DEBUG] - response_value: "Yes"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "dueDiligence":
[SERVER DEBUG] - Expected: "Yes"
[SERVER DEBUG] - Actual: "Yes"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "dueDiligence" (ID: 3872)
[SERVER DEBUG] --- Finished processing field "dueDiligence" ---

[SERVER DEBUG] Processing field: "regulatoryActions" (ID: 30)
[SERVER DEBUG] Original value: Yes
[SERVER DEBUG] Normalized value: "Yes" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "regulatoryActions" in database
[SERVER DEBUG] - Old value: "Yes" (string)
[SERVER DEBUG] - New value: "Yes" (string)
[SERVER DEBUG] - Old status: FILLED, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: regulatoryActions
[SERVER DEBUG] - field_id: 30
[SERVER DEBUG] - response_value: "Yes"
[Tasks Routes] Updating task progress: { taskId: 637, timestamp: '2025-04-25T06:46:08.922Z' }
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "regulatoryActions":
[SERVER DEBUG] - Expected: "Yes"
[SERVER DEBUG] - Actual: "Yes"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "regulatoryActions" (ID: 3873)
[SERVER DEBUG] --- Finished processing field "regulatoryActions" ---

[SERVER DEBUG] Processing field: "legalEntityName" (ID: 1)
[SERVER DEBUG] Original value: DevTest32
[SERVER DEBUG] Normalized value: "DevTest32" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "legalEntityName" in database
[SERVER DEBUG] - Old value: "DevTest32" (string)
[SERVER DEBUG] - New value: "DevTest32" (string)
[SERVER DEBUG] - Old status: FILLED, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: legalEntityName
[SERVER DEBUG] - field_id: 1
[SERVER DEBUG] - response_value: "DevTest32"
[Task Reconciliation] Found 30 responses for task 637 (type: company_kyb)
[STATUS DETERMINATION] Calculating status for task with: {
  progress: 100,
  currentStatus: 'ready_for_submission',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  hasResponses: true,
  timestamp: '2025-04-25T06:46:08.993Z'
}
[STATUS DETERMINATION] Task has 100% progress, setting to READY_FOR_SUBMISSION
[Task Reconciliation] Progress calculation: {
  taskId: 637,
  currentProgress: 100,
  calculatedProgress: 100,
  currentStatus: 'ready_for_submission',
  calculatedStatus: 'ready_for_submission',
  responseCount: 30,
  completeCount: 30
}
[Task Reconciliation] Correcting task 637: {
  progressFrom: 100,
  progressTo: 100,
  statusFrom: 'ready_for_submission',
  statusTo: 'ready_for_submission',
  forceUpdate: true
}
[Progress Utils] Broadcasting task progress update: {
  taskId: 637,
  progress: 100,
  requestedStatus: 'ready_for_submission',
  finalStatus: 'ready_for_submission',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  timestamp: '2025-04-25T06:46:09.026Z'
}
[WebSocket] Broadcast "task_updated" sent to 3 clients {
  type: 'task_updated',
  dataKeys: [ 'id', 'status', 'progress', 'metadata', 'timestamp' ],
  timestamp: '2025-04-25T06:46:09.026Z',
  clientCount: 3
}
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "legalEntityName":
[SERVER DEBUG] - Expected: "DevTest32"
[SERVER DEBUG] - Actual: "DevTest32"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "legalEntityName" (ID: 3874)
[SERVER DEBUG] Broadcasting legalEntityName update via WebSocket: "DevTest32"
[WebSocket] Broadcast "field_update" sent to 3 clients {
  type: 'field_update',
  dataKeys: [
    '0',       '1',
    '2',       '3',
    '4',       '5',
    '6',       '7',
    '8',       'taskId',
    'fieldId', 'timestamp'
  ],
  timestamp: '2025-04-25T06:46:09.029Z',
  clientCount: 3
}
[SERVER DEBUG] --- Finished processing field "legalEntityName" ---

[SERVER DEBUG] Processing field: "registrationNumber" (ID: 2)
[SERVER DEBUG] Original value: 12-3456789
[SERVER DEBUG] Normalized value: "12-3456789" (string)
[SERVER DEBUG] Field status: COMPLETE
[Tasks Routes] Task progress reconciled: {
  taskId: 637,
  progress: 100,
  status: 'ready_for_submission',
  timestamp: '2025-04-25T06:46:09.059Z'
}
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "registrationNumber" in database
[SERVER DEBUG] - Old value: "12-3456789" (string)
[SERVER DEBUG] - New value: "12-3456789" (string)
[SERVER DEBUG] - Old status: FILLED, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: registrationNumber
[SERVER DEBUG] - field_id: 2
[SERVER DEBUG] - response_value: "12-3456789"
6:46:09 AM [info] POST /api/tasks/637/update-progress 200 in 171ms :: {"success":true,"progress":100,"status":"ready_for_submission","taskId":637}
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "registrationNumber":
[SERVER DEBUG] - Expected: "12-3456789"
[SERVER DEBUG] - Actual: "12-3456789"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "registrationNumber" (ID: 3875)
[SERVER DEBUG] --- Finished processing field "registrationNumber" ---

[SERVER DEBUG] Processing field: "incorporationDate" (ID: 3)
[SERVER DEBUG] Original value: 5/12/2010
[SERVER DEBUG] Normalized value: "5/12/2010" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "incorporationDate" in database
[SERVER DEBUG] - Old value: "5/12/2010" (string)
[SERVER DEBUG] - New value: "5/12/2010" (string)
[SERVER DEBUG] - Old status: FILLED, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: incorporationDate
[SERVER DEBUG] - field_id: 3
[SERVER DEBUG] - response_value: "5/12/2010"
[Tasks Routes] Fetching task by ID (special .json endpoint): {
  taskId: 637,
  userCompanyId: 241,
  timestamp: '2025-04-25T06:46:09.173Z'
}
[Tasks Routes] Fetching latest KYB form data for task (special .json endpoint): 637
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "incorporationDate":
[SERVER DEBUG] - Expected: "5/12/2010"
[SERVER DEBUG] - Actual: "5/12/2010"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "incorporationDate" (ID: 3876)
[SERVER DEBUG] --- Finished processing field "incorporationDate" ---

[SERVER DEBUG] Processing field: "businessType" (ID: 4)
[SERVER DEBUG] Original value: Limited Liability Company (LLC)
[SERVER DEBUG] Normalized value: "Limited Liability Company (LLC)" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "businessType" in database
[SERVER DEBUG] - Old value: "Limited Liability Company (LLC)" (string)
[SERVER DEBUG] - New value: "Limited Liability Company (LLC)" (string)
[SERVER DEBUG] - Old status: FILLED, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: businessType
[SERVER DEBUG] - field_id: 4
[SERVER DEBUG] - response_value: "Limited Liability Company (LLC)"
[Tasks Routes] Found 30 KYB responses for task 637 (special .json endpoint)
[Tasks Routes] Constructed form data with 30 fields (special .json endpoint)
[Tasks Routes] Task found by ID (special .json endpoint): {
  taskId: 637,
  title: '1. KYB Form: DevTest32',
  type: 'company_kyb',
  formDataFields: 30,
  timestamp: '2025-04-25T06:46:09.265Z'
}
6:46:09 AM [info] GET /api/tasks.json/637 200 in 124ms :: {"id":637,"title":"1. KYB Form: DevTest32","description":"Complete KYB verifi...
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "businessType":
[SERVER DEBUG] - Expected: "Limited Liability Company (LLC)"
[SERVER DEBUG] - Actual: "Limited Liability Company (LLC)"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "businessType" (ID: 3877)
[SERVER DEBUG] --- Finished processing field "businessType" ---

[SERVER DEBUG] Processing field: "jurisdiction" (ID: 5)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "jurisdiction" in database
[SERVER DEBUG] - Old value: "Delaware, United States" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: FILLED, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: jurisdiction
[SERVER DEBUG] - field_id: 5
[SERVER DEBUG] - response_value: ""
Suppressing further connection logs. Pool size: 3
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "jurisdiction":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "jurisdiction" (ID: 3878)
[SERVER DEBUG] --- Finished processing field "jurisdiction" ---

[SERVER DEBUG] Processing field: "registeredAddress" (ID: 6)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "registeredAddress" in database
[SERVER DEBUG] - Old value: "123 Market Street, Wilmington, DE 19801" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: FILLED, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: registeredAddress
[SERVER DEBUG] - field_id: 6
[SERVER DEBUG] - response_value: ""
6:46:09 AM [info] GET /api/companies/current 304 in 32ms :: {"id":241,"name":"DevTest32","category":"FinTech","is_demo":true,"revenue_tie...
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "registeredAddress":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "registeredAddress" (ID: 3849)
[SERVER DEBUG] --- Finished processing field "registeredAddress" ---

[SERVER DEBUG] Processing field: "companyPhone" (ID: 7)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "companyPhone" in database
[SERVER DEBUG] - Old value: "(302) 555-1234" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: FILLED, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: companyPhone
[SERVER DEBUG] - field_id: 7
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "companyPhone":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "companyPhone" (ID: 3850)
[SERVER DEBUG] --- Finished processing field "companyPhone" ---

[SERVER DEBUG] Processing field: "priorNames" (ID: 8)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "priorNames" in database
[SERVER DEBUG] - Old value: "None" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: FILLED, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: priorNames
[SERVER DEBUG] - field_id: 8
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "priorNames":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "priorNames" (ID: 3851)
[SERVER DEBUG] --- Finished processing field "priorNames" ---

[SERVER DEBUG] Processing field: "licenses" (ID: 9)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "licenses" in database
[SERVER DEBUG] - Old value: "Money Transmitter License #MT-12345, Financial Data Provider License #FDP-98765" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: FILLED, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: licenses
[SERVER DEBUG] - field_id: 9
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "licenses":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "licenses" (ID: 3852)
[SERVER DEBUG] --- Finished processing field "licenses" ---

[SERVER DEBUG] Processing field: "goodStanding" (ID: 10)
[SERVER DEBUG] Original value: Yes
[SERVER DEBUG] Normalized value: "Yes" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "goodStanding" in database
[SERVER DEBUG] - Old value: "Yes" (string)
[SERVER DEBUG] - New value: "Yes" (string)
[SERVER DEBUG] - Old status: FILLED, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: goodStanding
[SERVER DEBUG] - field_id: 10
[SERVER DEBUG] - response_value: "Yes"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "goodStanding":
[SERVER DEBUG] - Expected: "Yes"
[SERVER DEBUG] - Actual: "Yes"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "goodStanding" (ID: 3853)
[SERVER DEBUG] --- Finished processing field "goodStanding" ---

[SERVER DEBUG] Processing field: "corporateRegistration" (ID: 11)
[SERVER DEBUG] Original value: Delaware State Filing Number 1234567, registered as FinTech Innovations LLC on 05/12/2010
[SERVER DEBUG] Normalized value: "Delaware State Filing Number 1234567, registered as FinTech Innovations LLC on 05/12/2010" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "corporateRegistration" in database
[SERVER DEBUG] - Old value: "Delaware State Filing Number 1234567, registered as FinTech Innovations LLC on 05/12/2010" (string)
[SERVER DEBUG] - New value: "Delaware State Filing Number 1234567, registered as FinTech Innovations LLC on 05/12/2010" (string)
[SERVER DEBUG] - Old status: FILLED, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: corporateRegistration
[SERVER DEBUG] - field_id: 11
[SERVER DEBUG] - response_value: "Delaware State Filing Number 1234567, registered as FinTech Innovations LLC on 05/12/2010"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "corporateRegistration":
[SERVER DEBUG] - Expected: "Delaware State Filing Number 1234567, registered as FinTech Innovations LLC on 05/12/2010"
[SERVER DEBUG] - Actual: "Delaware State Filing Number 1234567, registered as FinTech Innovations LLC on 05/12/2010"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "corporateRegistration" (ID: 3854)
[SERVER DEBUG] --- Finished processing field "corporateRegistration" ---

[KYB API Debug] Using client-provided status: in_progress
[WebSocket] Broadcasting task update for task 637: progress=83, status=in_progress
[WebSocket] Broadcast "task_updated" sent to 3 clients {
  type: 'task_updated',
  dataKeys: [ 'id', 'status', 'progress', 'metadata', 'timestamp' ],
  timestamp: '2025-04-25T06:46:09.968Z',
  clientCount: 3
}
===============================================
[SERVER DEBUG] PREPARING RESPONSE at 2025-04-25T06:46:09.998Z
[SERVER DEBUG] Found 30 fields in database after update
===============================================
[SERVER DEBUG] Checking field corporateRegistration in updated data: "Delaware State Filing Number 1234567, registered as FinTech Innovations LLC on 05/12/2010"
[SERVER DEBUG] Checking field goodStanding in updated data: "Yes"
[SERVER DEBUG] Checking field regulatoryActions in updated data: "Yes"
[SERVER DEBUG] Checking field investigationsIncidents in updated data: "No significant incidents in the past 3 years"
[SERVER DEBUG] No fields with value "asdf" found in response data
[SERVER DEBUG] Sending response with 30 fields, status: in_progress, progress: 83%
[SERVER DEBUG] Updating task.savedFormData to ensure persistence across navigation
[SERVER DEBUG] ✅ Successfully updated task.savedFormData with latest form data
===============================================
6:46:10 AM [info] POST /api/kyb/progress 200 in 2936ms :: {"success":true,"savedData":{"progress":83,"status":"in_progress","formData":...
[Tasks Routes] Fetching task by ID (special .json endpoint): {
  taskId: 637,
  userCompanyId: 241,
  timestamp: '2025-04-25T06:46:10.116Z'
}
[Tasks Routes] Fetching latest KYB form data for task (special .json endpoint): 637
[Tasks Routes] Found 30 KYB responses for task 637 (special .json endpoint)
[Tasks Routes] Constructed form data with 30 fields (special .json endpoint)
[Tasks Routes] Task found by ID (special .json endpoint): {
  taskId: 637,
  title: '1. KYB Form: DevTest32',
  type: 'company_kyb',
  formDataFields: 30,
  timestamp: '2025-04-25T06:46:10.203Z'
}
6:46:10 AM [info] GET /api/tasks.json/637 200 in 118ms :: {"id":637,"title":"1. KYB Form: DevTest32","description":"Complete KYB verifi...
[Tasks Routes] Updating task progress: { taskId: 637, timestamp: '2025-04-25T06:46:10.421Z' }
[Task Reconciliation] Found 30 responses for task 637 (type: company_kyb)
[STATUS DETERMINATION] Calculating status for task with: {
  progress: 83,
  currentStatus: 'in_progress',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  hasResponses: true,
  timestamp: '2025-04-25T06:46:10.482Z'
}
[STATUS DETERMINATION] Task has incomplete required fields, setting to IN_PROGRESS
[Task Reconciliation] Progress calculation: {
  taskId: 637,
  currentProgress: 83,
  calculatedProgress: 83,
  currentStatus: 'in_progress',
  calculatedStatus: 'in_progress',
  responseCount: 30,
  completeCount: 25
}
[Task Reconciliation] Correcting task 637: {
  progressFrom: 83,
  progressTo: 83,
  statusFrom: 'in_progress',
  statusTo: 'in_progress',
  forceUpdate: true
}
[Progress Utils] Broadcasting task progress update: {
  taskId: 637,
  progress: 83,
  requestedStatus: 'in_progress',
  finalStatus: 'in_progress',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  timestamp: '2025-04-25T06:46:10.519Z'
}
[WebSocket] Broadcast "task_updated" sent to 3 clients {
  type: 'task_updated',
  dataKeys: [ 'id', 'status', 'progress', 'metadata', 'timestamp' ],
  timestamp: '2025-04-25T06:46:10.519Z',
  clientCount: 3
}
[Tasks Routes] Task progress reconciled: {
  taskId: 637,
  progress: 83,
  status: 'in_progress',
  timestamp: '2025-04-25T06:46:10.558Z'
}
6:46:10 AM [info] POST /api/tasks/637/update-progress 200 in 171ms :: {"success":true,"progress":83,"status":"in_progress","taskId":637}
[Tasks Routes] Fetching task by ID (special .json endpoint): {
  taskId: 637,
  userCompanyId: 241,
  timestamp: '2025-04-25T06:46:10.686Z'
}
[Tasks Routes] Fetching latest KYB form data for task (special .json endpoint): 637
[Tasks Routes] Found 30 KYB responses for task 637 (special .json endpoint)
[Tasks Routes] Constructed form data with 30 fields (special .json endpoint)
[Tasks Routes] Task found by ID (special .json endpoint): {
  taskId: 637,
  title: '1. KYB Form: DevTest32',
  type: 'company_kyb',
  formDataFields: 30,
  timestamp: '2025-04-25T06:46:10.778Z'
}
6:46:10 AM [info] GET /api/tasks.json/637 200 in 129ms :: {"id":637,"title":"1. KYB Form: DevTest32","description":"Complete KYB verifi...
[TimestampHandler] Saving 30 timestamps for task 637
[TimestampHandler] Successfully saved timestamps for task 637
[TimestampAPI] Saved 30 timestamps for task 637
6:46:10 AM [info] POST /api/kyb/timestamps/637 200 in 67ms :: {"message":"Timestamps saved successfully","count":30}
===============================================
[SERVER DEBUG] KYB PROGRESS SAVE REQUEST RECEIVED at 2025-04-25T06:46:11.132Z
===============================================
Task ID: 637
Progress: 0
Status: not_started
Field count: 30
Sample form data values:
- externalAudit: "" (string)
- controlEnvironment: "" (string)
- authorizedSigners: "" (string)
- governmentOwnership: "" (string)
- ultimateBeneficialOwners: "" (string)
Request details:
- Method: POST
- Content-Type: application/json
- Content-Length: 1740
===============================================
===============================================
[SERVER DEBUG] PROCESSING FORM DATA FIELDS AT 2025-04-25T06:46:11.191Z
[SERVER DEBUG] Task ID: 637, Field count: 30
===============================================
[SERVER DEBUG] COMPLETE FORM DATA DUMP:
[SERVER DEBUG] externalAudit: "" (string)
[SERVER DEBUG] controlEnvironment: "" (string)
[SERVER DEBUG] authorizedSigners: "" (string)
[SERVER DEBUG] governmentOwnership: "" (string)
[SERVER DEBUG] ultimateBeneficialOwners: "" (string)
[SERVER DEBUG] directorsAndOfficers: "" (string)
[SERVER DEBUG] contactEmail: "" (string)
[SERVER DEBUG] marketCapitalization: "" (string)
[SERVER DEBUG] lifetimeCustomerValue: "" (string)
[SERVER DEBUG] annualRecurringRevenue: "" (string)
[SERVER DEBUG] monthlyRecurringRevenue: "" (string)
[SERVER DEBUG] investigationsIncidents: "" (string)
[SERVER DEBUG] financialStatements: "" (string)
[SERVER DEBUG] operationalPolicies: "" (string)
[SERVER DEBUG] dataVolume: "" (string)
[SERVER DEBUG] dataTypes: "" (string)
[SERVER DEBUG] sanctionsCheck: "" (string)
[SERVER DEBUG] dueDiligence: "" (string)
[SERVER DEBUG] regulatoryActions: "" (string)
[SERVER DEBUG] legalEntityName: "" (string)
[SERVER DEBUG] registrationNumber: "" (string)
[SERVER DEBUG] incorporationDate: "" (string)
[SERVER DEBUG] businessType: "" (string)
[SERVER DEBUG] jurisdiction: "" (string)
[SERVER DEBUG] registeredAddress: "" (string)
[SERVER DEBUG] companyPhone: "" (string)
[SERVER DEBUG] priorNames: "" (string)
[SERVER DEBUG] licenses: "" (string)
[SERVER DEBUG] goodStanding: "" (string)
[SERVER DEBUG] corporateRegistration: "" (string)
[SERVER DEBUG] END OF FORM DATA DUMP
[SERVER DEBUG] No fields with value "asdf" found in incoming data
[SERVER DEBUG] Processing field: "externalAudit" (ID: 12)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "externalAudit" in database
[SERVER DEBUG] - Old value: "No" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: externalAudit
[SERVER DEBUG] - field_id: 12
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "externalAudit":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "externalAudit" (ID: 3855)
[SERVER DEBUG] --- Finished processing field "externalAudit" ---

[SERVER DEBUG] Processing field: "controlEnvironment" (ID: 13)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "controlEnvironment" in database
[SERVER DEBUG] - Old value: "Yes" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: controlEnvironment
[SERVER DEBUG] - field_id: 13
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "controlEnvironment":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "controlEnvironment" (ID: 3856)
[SERVER DEBUG] --- Finished processing field "controlEnvironment" ---

[SERVER DEBUG] Processing field: "authorizedSigners" (ID: 14)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "authorizedSigners" in database
[SERVER DEBUG] - Old value: "John Smith (CEO), Sarah Johnson (CFO), Michael Wong (COO)" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: authorizedSigners
[SERVER DEBUG] - field_id: 14
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "authorizedSigners":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "authorizedSigners" (ID: 3857)
[SERVER DEBUG] --- Finished processing field "authorizedSigners" ---

[SERVER DEBUG] Processing field: "governmentOwnership" (ID: 15)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "governmentOwnership" in database
[SERVER DEBUG] - Old value: "No" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: governmentOwnership
[SERVER DEBUG] - field_id: 15
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "governmentOwnership":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "governmentOwnership" (ID: 3858)
[SERVER DEBUG] --- Finished processing field "governmentOwnership" ---

[SERVER DEBUG] Processing field: "ultimateBeneficialOwners" (ID: 16)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "ultimateBeneficialOwners" in database
[SERVER DEBUG] - Old value: "None" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: ultimateBeneficialOwners
[SERVER DEBUG] - field_id: 16
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "ultimateBeneficialOwners":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "ultimateBeneficialOwners" (ID: 3859)
[SERVER DEBUG] --- Finished processing field "ultimateBeneficialOwners" ---

[SERVER DEBUG] Processing field: "directorsAndOfficers" (ID: 17)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "directorsAndOfficers" in database
[SERVER DEBUG] - Old value: "John Smith (Chairman), Jane Doe (Director), Mike Johnson (Director)" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: directorsAndOfficers
[SERVER DEBUG] - field_id: 17
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "directorsAndOfficers":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "directorsAndOfficers" (ID: 3860)
[SERVER DEBUG] --- Finished processing field "directorsAndOfficers" ---

[SERVER DEBUG] Processing field: "contactEmail" (ID: 18)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "contactEmail" in database
[SERVER DEBUG] - Old value: "32@e.com" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: contactEmail
[SERVER DEBUG] - field_id: 18
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "contactEmail":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "contactEmail" (ID: 3861)
[SERVER DEBUG] --- Finished processing field "contactEmail" ---

[SERVER DEBUG] Processing field: "marketCapitalization" (ID: 19)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "marketCapitalization" in database
[SERVER DEBUG] - Old value: "$75 million (privately held)" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: marketCapitalization
[SERVER DEBUG] - field_id: 19
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "marketCapitalization":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "marketCapitalization" (ID: 3862)
[SERVER DEBUG] --- Finished processing field "marketCapitalization" ---

[SERVER DEBUG] Processing field: "lifetimeCustomerValue" (ID: 20)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[Tasks Routes] Updating task progress: { taskId: 637, timestamp: '2025-04-25T06:46:11.952Z' }
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "lifetimeCustomerValue" in database
[SERVER DEBUG] - Old value: "$1,250" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: lifetimeCustomerValue
[SERVER DEBUG] - field_id: 20
[SERVER DEBUG] - response_value: ""
[Task Reconciliation] Found 30 responses for task 637 (type: company_kyb)
[STATUS DETERMINATION] Calculating status for task with: {
  progress: 53,
  currentStatus: 'in_progress',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  hasResponses: true,
  timestamp: '2025-04-25T06:46:12.015Z'
}
[STATUS DETERMINATION] Task has incomplete required fields, setting to IN_PROGRESS
[Task Reconciliation] Progress calculation: {
  taskId: 637,
  currentProgress: 83,
  calculatedProgress: 53,
  currentStatus: 'in_progress',
  calculatedStatus: 'in_progress',
  responseCount: 30,
  completeCount: 16
}
[Task Reconciliation] Correcting task 637: {
  progressFrom: 83,
  progressTo: 53,
  statusFrom: 'in_progress',
  statusTo: 'in_progress',
  forceUpdate: true
}
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "lifetimeCustomerValue":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "lifetimeCustomerValue" (ID: 3863)
[SERVER DEBUG] --- Finished processing field "lifetimeCustomerValue" ---

[SERVER DEBUG] Processing field: "annualRecurringRevenue" (ID: 21)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[Progress Utils] Broadcasting task progress update: {
  taskId: 637,
  progress: 53,
  requestedStatus: 'in_progress',
  finalStatus: 'in_progress',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  timestamp: '2025-04-25T06:46:12.056Z'
}
[WebSocket] Broadcast "task_updated" sent to 3 clients {
  type: 'task_updated',
  dataKeys: [ 'id', 'status', 'progress', 'metadata', 'timestamp' ],
  timestamp: '2025-04-25T06:46:12.056Z',
  clientCount: 3
}
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "annualRecurringRevenue" in database
[SERVER DEBUG] - Old value: "5,000,000" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: annualRecurringRevenue
[SERVER DEBUG] - field_id: 21
[SERVER DEBUG] - response_value: ""
[Tasks Routes] Task progress reconciled: {
  taskId: 637,
  progress: 53,
  status: 'in_progress',
  timestamp: '2025-04-25T06:46:12.089Z'
}
6:46:12 AM [info] POST /api/tasks/637/update-progress 200 in 175ms :: {"success":true,"progress":53,"status":"in_progress","taskId":637}
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "annualRecurringRevenue":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "annualRecurringRevenue" (ID: 3864)
[SERVER DEBUG] --- Finished processing field "annualRecurringRevenue" ---

[SERVER DEBUG] Processing field: "monthlyRecurringRevenue" (ID: 22)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "monthlyRecurringRevenue" in database
[SERVER DEBUG] - Old value: "12,500,000" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: monthlyRecurringRevenue
[SERVER DEBUG] - field_id: 22
[SERVER DEBUG] - response_value: ""
[Tasks Routes] Fetching task by ID (special .json endpoint): {
  taskId: 637,
  userCompanyId: 241,
  timestamp: '2025-04-25T06:46:12.213Z'
}
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "monthlyRecurringRevenue":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "monthlyRecurringRevenue" (ID: 3865)
[SERVER DEBUG] --- Finished processing field "monthlyRecurringRevenue" ---

[SERVER DEBUG] Processing field: "investigationsIncidents" (ID: 23)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[Tasks Routes] Fetching latest KYB form data for task (special .json endpoint): 637
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "investigationsIncidents" in database
[SERVER DEBUG] - Old value: "No significant incidents in the past 3 years" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: investigationsIncidents
[SERVER DEBUG] - field_id: 23
[SERVER DEBUG] - response_value: ""
[Tasks Routes] Found 30 KYB responses for task 637 (special .json endpoint)
[Tasks Routes] Constructed form data with 30 fields (special .json endpoint)
[Tasks Routes] Task found by ID (special .json endpoint): {
  taskId: 637,
  title: '1. KYB Form: DevTest32',
  type: 'company_kyb',
  formDataFields: 30,
  timestamp: '2025-04-25T06:46:12.307Z'
}
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "investigationsIncidents":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "investigationsIncidents" (ID: 3866)
[SERVER DEBUG] --- Finished processing field "investigationsIncidents" ---

[SERVER DEBUG] Processing field: "financialStatements" (ID: 24)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "financialStatements" in database
[SERVER DEBUG] - Old value: "Yes" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: financialStatements
[SERVER DEBUG] - field_id: 24
[SERVER DEBUG] - response_value: ""
6:46:12 AM [info] GET /api/tasks.json/637 200 in 134ms :: {"id":637,"title":"1. KYB Form: DevTest32","description":"Complete KYB verifi...
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "financialStatements":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "financialStatements" (ID: 3867)
[SERVER DEBUG] --- Finished processing field "financialStatements" ---

[SERVER DEBUG] Processing field: "operationalPolicies" (ID: 25)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "operationalPolicies" in database
[SERVER DEBUG] - Old value: "ISO 27001 certified, SOC 2 Type II compliant" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: operationalPolicies
[SERVER DEBUG] - field_id: 25
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "operationalPolicies":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "operationalPolicies" (ID: 3868)
[SERVER DEBUG] --- Finished processing field "operationalPolicies" ---

[SERVER DEBUG] Processing field: "dataVolume" (ID: 26)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "dataVolume" in database
[SERVER DEBUG] - Old value: "Approximately 2 million records per month" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: dataVolume
[SERVER DEBUG] - field_id: 26
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "dataVolume":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "dataVolume" (ID: 3869)
[SERVER DEBUG] --- Finished processing field "dataVolume" ---

[SERVER DEBUG] Processing field: "dataTypes" (ID: 27)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "dataTypes" in database
[SERVER DEBUG] - Old value: "Financial transaction data, Account balances, Customer KYC information" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: dataTypes
[SERVER DEBUG] - field_id: 27
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "dataTypes":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "dataTypes" (ID: 3870)
[SERVER DEBUG] --- Finished processing field "dataTypes" ---

[SERVER DEBUG] Processing field: "sanctionsCheck" (ID: 28)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "sanctionsCheck" in database
[SERVER DEBUG] - Old value: "Approximately 2 million records per month" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: sanctionsCheck
[SERVER DEBUG] - field_id: 28
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "sanctionsCheck":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "sanctionsCheck" (ID: 3871)
[SERVER DEBUG] --- Finished processing field "sanctionsCheck" ---

[SERVER DEBUG] Processing field: "dueDiligence" (ID: 29)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "dueDiligence" in database
[SERVER DEBUG] - Old value: "Yes" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: dueDiligence
[SERVER DEBUG] - field_id: 29
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "dueDiligence":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "dueDiligence" (ID: 3872)
[SERVER DEBUG] --- Finished processing field "dueDiligence" ---

[SERVER DEBUG] Processing field: "regulatoryActions" (ID: 30)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "regulatoryActions" in database
[SERVER DEBUG] - Old value: "Yes" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: regulatoryActions
[SERVER DEBUG] - field_id: 30
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "regulatoryActions":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "regulatoryActions" (ID: 3873)
[SERVER DEBUG] --- Finished processing field "regulatoryActions" ---

[SERVER DEBUG] Processing field: "legalEntityName" (ID: 1)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "legalEntityName" in database
[SERVER DEBUG] - Old value: "DevTest32" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: legalEntityName
[SERVER DEBUG] - field_id: 1
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "legalEntityName":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "legalEntityName" (ID: 3874)
[SERVER DEBUG] Broadcasting legalEntityName update via WebSocket: ""
[WebSocket] Broadcast "field_update" sent to 3 clients {
  type: 'field_update',
  dataKeys: [ 'taskId', 'fieldId', 'timestamp' ],
  timestamp: '2025-04-25T06:46:13.060Z',
  clientCount: 3
}
[SERVER DEBUG] --- Finished processing field "legalEntityName" ---

[SERVER DEBUG] Processing field: "registrationNumber" (ID: 2)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "registrationNumber" in database
[SERVER DEBUG] - Old value: "12-3456789" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: registrationNumber
[SERVER DEBUG] - field_id: 2
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "registrationNumber":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "registrationNumber" (ID: 3875)
[SERVER DEBUG] --- Finished processing field "registrationNumber" ---

[SERVER DEBUG] Processing field: "incorporationDate" (ID: 3)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "incorporationDate" in database
[SERVER DEBUG] - Old value: "5/12/2010" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: incorporationDate
[SERVER DEBUG] - field_id: 3
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "incorporationDate":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "incorporationDate" (ID: 3876)
[SERVER DEBUG] --- Finished processing field "incorporationDate" ---

[SERVER DEBUG] Processing field: "businessType" (ID: 4)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "businessType" in database
[SERVER DEBUG] - Old value: "Limited Liability Company (LLC)" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: businessType
[SERVER DEBUG] - field_id: 4
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "businessType":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "businessType" (ID: 3877)
[SERVER DEBUG] --- Finished processing field "businessType" ---

[SERVER DEBUG] Processing field: "jurisdiction" (ID: 5)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "jurisdiction" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: jurisdiction
[SERVER DEBUG] - field_id: 5
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "jurisdiction":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "jurisdiction" (ID: 3878)
[SERVER DEBUG] --- Finished processing field "jurisdiction" ---

[SERVER DEBUG] Processing field: "registeredAddress" (ID: 6)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[Auth] Using cached user data: 283
[Tasks Routes] Updating task progress: { taskId: 637, timestamp: '2025-04-25T06:46:13.426Z' }
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "registeredAddress" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: registeredAddress
[SERVER DEBUG] - field_id: 6
[SERVER DEBUG] - response_value: ""
[Task Reconciliation] Found 30 responses for task 637 (type: company_kyb)
[STATUS DETERMINATION] Calculating status for task with: {
  progress: 6,
  currentStatus: 'in_progress',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  hasResponses: true,
  timestamp: '2025-04-25T06:46:13.486Z'
}
[STATUS DETERMINATION] Task has incomplete required fields, setting to IN_PROGRESS
[Task Reconciliation] Progress calculation: {
  taskId: 637,
  currentProgress: 53,
  calculatedProgress: 6,
  currentStatus: 'in_progress',
  calculatedStatus: 'in_progress',
  responseCount: 30,
  completeCount: 2
}
[Task Reconciliation] Correcting task 637: {
  progressFrom: 53,
  progressTo: 6,
  statusFrom: 'in_progress',
  statusTo: 'in_progress',
  forceUpdate: true
}
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "registeredAddress":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "registeredAddress" (ID: 3849)
[SERVER DEBUG] --- Finished processing field "registeredAddress" ---

[SERVER DEBUG] Processing field: "companyPhone" (ID: 7)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[Progress Utils] Broadcasting task progress update: {
  taskId: 637,
  progress: 6,
  requestedStatus: 'in_progress',
  finalStatus: 'in_progress',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  timestamp: '2025-04-25T06:46:13.517Z'
}
[WebSocket] Broadcast "task_updated" sent to 3 clients {
  type: 'task_updated',
  dataKeys: [ 'id', 'status', 'progress', 'metadata', 'timestamp' ],
  timestamp: '2025-04-25T06:46:13.517Z',
  clientCount: 3
}
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "companyPhone" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: companyPhone
[SERVER DEBUG] - field_id: 7
[SERVER DEBUG] - response_value: ""
[Tasks Routes] Task progress reconciled: {
  taskId: 637,
  progress: 6,
  status: 'in_progress',
  timestamp: '2025-04-25T06:46:13.547Z'
}
6:46:13 AM [info] POST /api/tasks/637/update-progress 200 in 153ms :: {"success":true,"progress":6,"status":"in_progress","taskId":637}
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "companyPhone":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "companyPhone" (ID: 3850)
[SERVER DEBUG] --- Finished processing field "companyPhone" ---

[SERVER DEBUG] Processing field: "priorNames" (ID: 8)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "priorNames" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: priorNames
[SERVER DEBUG] - field_id: 8
[SERVER DEBUG] - response_value: ""
[Tasks Routes] Fetching task by ID (special .json endpoint): {
  taskId: 637,
  userCompanyId: 241,
  timestamp: '2025-04-25T06:46:13.673Z'
}
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "priorNames":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "priorNames" (ID: 3851)
[SERVER DEBUG] --- Finished processing field "priorNames" ---

[SERVER DEBUG] Processing field: "licenses" (ID: 9)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[Tasks Routes] Fetching latest KYB form data for task (special .json endpoint): 637
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "licenses" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: licenses
[SERVER DEBUG] - field_id: 9
[SERVER DEBUG] - response_value: ""
[Tasks Routes] Found 30 KYB responses for task 637 (special .json endpoint)
[Tasks Routes] Constructed form data with 30 fields (special .json endpoint)
[Tasks Routes] Task found by ID (special .json endpoint): {
  taskId: 637,
  title: '1. KYB Form: DevTest32',
  type: 'company_kyb',
  formDataFields: 30,
  timestamp: '2025-04-25T06:46:13.762Z'
}
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "licenses":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "licenses" (ID: 3852)
[SERVER DEBUG] --- Finished processing field "licenses" ---

[SERVER DEBUG] Processing field: "goodStanding" (ID: 10)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
6:46:13 AM [info] GET /api/tasks.json/637 200 in 121ms :: {"id":637,"title":"1. KYB Form: DevTest32","description":"Complete KYB verifi...
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "goodStanding" in database
[SERVER DEBUG] - Old value: "Yes" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: goodStanding
[SERVER DEBUG] - field_id: 10
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "goodStanding":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "goodStanding" (ID: 3853)
[SERVER DEBUG] --- Finished processing field "goodStanding" ---

[SERVER DEBUG] Processing field: "corporateRegistration" (ID: 11)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "corporateRegistration" in database
[SERVER DEBUG] - Old value: "Delaware State Filing Number 1234567, registered as FinTech Innovations LLC on 05/12/2010" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: corporateRegistration
[SERVER DEBUG] - field_id: 11
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "corporateRegistration":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "corporateRegistration" (ID: 3854)
[SERVER DEBUG] --- Finished processing field "corporateRegistration" ---

[KYB API Debug] Using client-provided status: not_started
[WebSocket] Broadcasting task update for task 637: progress=0, status=not_started
[WebSocket] Broadcast "task_updated" sent to 3 clients {
  type: 'task_updated',
  dataKeys: [ 'id', 'status', 'progress', 'metadata', 'timestamp' ],
  timestamp: '2025-04-25T06:46:14.038Z',
  clientCount: 3
}
===============================================
[SERVER DEBUG] PREPARING RESPONSE at 2025-04-25T06:46:14.068Z
[SERVER DEBUG] Found 30 fields in database after update
===============================================
[SERVER DEBUG] Checking field corporateRegistration in updated data: ""
[SERVER DEBUG] Checking field goodStanding in updated data: ""
[SERVER DEBUG] Checking field regulatoryActions in updated data: ""
[SERVER DEBUG] Checking field investigationsIncidents in updated data: ""
[SERVER DEBUG] No fields with value "asdf" found in response data
[SERVER DEBUG] Sending response with 30 fields, status: not_started, progress: 0%
[SERVER DEBUG] Updating task.savedFormData to ensure persistence across navigation
[SERVER DEBUG] ✅ Successfully updated task.savedFormData with latest form data
===============================================
6:46:14 AM [info] POST /api/kyb/progress 200 in 3000ms :: {"success":true,"savedData":{"progress":0,"status":"not_started","formData":{...
[Tasks Routes] Fetching task by ID (special .json endpoint): {
  taskId: 637,
  userCompanyId: 241,
  timestamp: '2025-04-25T06:46:14.187Z'
}
[Tasks Routes] Fetching latest KYB form data for task (special .json endpoint): 637
[Tasks Routes] Found 30 KYB responses for task 637 (special .json endpoint)
[Tasks Routes] Constructed form data with 30 fields (special .json endpoint)
[Tasks Routes] Task found by ID (special .json endpoint): {
  taskId: 637,
  title: '1. KYB Form: DevTest32',
  type: 'company_kyb',
  formDataFields: 30,
  timestamp: '2025-04-25T06:46:14.276Z'
}
6:46:14 AM [info] GET /api/tasks.json/637 200 in 122ms :: {"id":637,"title":"1. KYB Form: DevTest32","description":"Complete KYB verifi...
[Auth] Using cached user data: 283
[TimestampHandler] Saving 30 timestamps for task 637
[TimestampHandler] Successfully saved timestamps for task 637
[TimestampAPI] Saved 30 timestamps for task 637
[Tasks Routes] Updating task progress: { taskId: 637, timestamp: '2025-04-25T06:46:14.931Z' }
6:46:14 AM [info] POST /api/kyb/timestamps/637 200 in 67ms :: {"message":"Timestamps saved successfully","count":30}
[Task Reconciliation] Found 30 responses for task 637 (type: company_kyb)
[STATUS DETERMINATION] Calculating status for task with: {
  progress: 0,
  currentStatus: 'not_started',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  hasResponses: true,
  timestamp: '2025-04-25T06:46:15.098Z'
}
[STATUS DETERMINATION] Task has incomplete required fields, setting to IN_PROGRESS
[Task Reconciliation] Progress calculation: {
  taskId: 637,
  currentProgress: 0,
  calculatedProgress: 0,
  currentStatus: 'not_started',
  calculatedStatus: 'in_progress',
  responseCount: 30,
  completeCount: 0
}
[Task Reconciliation] Correcting task 637: {
  progressFrom: 0,
  progressTo: 0,
  statusFrom: 'not_started',
  statusTo: 'in_progress',
  forceUpdate: true
}
[Progress Utils] Broadcasting task progress update: {
  taskId: 637,
  progress: 0,
  requestedStatus: 'in_progress',
  finalStatus: 'in_progress',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  timestamp: '2025-04-25T06:46:15.128Z'
}
[WebSocket] Broadcast "task_updated" sent to 3 clients {
  type: 'task_updated',
  dataKeys: [ 'id', 'status', 'progress', 'metadata', 'timestamp' ],
  timestamp: '2025-04-25T06:46:15.128Z',
  clientCount: 3
}
[Tasks Routes] Task progress reconciled: {
  taskId: 637,
  progress: 0,
  status: 'in_progress',
  timestamp: '2025-04-25T06:46:15.158Z'
}
6:46:15 AM [info] POST /api/tasks/637/update-progress 200 in 258ms :: {"success":true,"progress":0,"status":"in_progress","taskId":637}
===============================================
[SERVER DEBUG] KYB PROGRESS SAVE REQUEST RECEIVED at 2025-04-25T06:46:15.231Z
===============================================
Task ID: 637
Progress: 0
Status: not_started
Field count: 30
Sample form data values:
- externalAudit: "" (string)
- controlEnvironment: "" (string)
- authorizedSigners: "" (string)
- governmentOwnership: "" (string)
- ultimateBeneficialOwners: "" (string)
Request details:
- Method: POST
- Content-Type: application/json
- Content-Length: 1740
===============================================
[Tasks Routes] Fetching task by ID (special .json endpoint): {
  taskId: 637,
  userCompanyId: 241,
  timestamp: '2025-04-25T06:46:15.276Z'
}
[Tasks Routes] Fetching latest KYB form data for task (special .json endpoint): 637
===============================================
[SERVER DEBUG] PROCESSING FORM DATA FIELDS AT 2025-04-25T06:46:15.318Z
[SERVER DEBUG] Task ID: 637, Field count: 30
===============================================
[SERVER DEBUG] COMPLETE FORM DATA DUMP:
[SERVER DEBUG] externalAudit: "" (string)
[SERVER DEBUG] controlEnvironment: "" (string)
[SERVER DEBUG] authorizedSigners: "" (string)
[SERVER DEBUG] governmentOwnership: "" (string)
[SERVER DEBUG] ultimateBeneficialOwners: "" (string)
[SERVER DEBUG] directorsAndOfficers: "" (string)
[SERVER DEBUG] contactEmail: "" (string)
[SERVER DEBUG] marketCapitalization: "" (string)
[SERVER DEBUG] lifetimeCustomerValue: "" (string)
[SERVER DEBUG] annualRecurringRevenue: "" (string)
[SERVER DEBUG] monthlyRecurringRevenue: "" (string)
[SERVER DEBUG] investigationsIncidents: "" (string)
[SERVER DEBUG] financialStatements: "" (string)
[SERVER DEBUG] operationalPolicies: "" (string)
[SERVER DEBUG] dataVolume: "" (string)
[SERVER DEBUG] dataTypes: "" (string)
[SERVER DEBUG] sanctionsCheck: "" (string)
[SERVER DEBUG] dueDiligence: "" (string)
[SERVER DEBUG] regulatoryActions: "" (string)
[SERVER DEBUG] legalEntityName: "" (string)
[SERVER DEBUG] registrationNumber: "" (string)
[SERVER DEBUG] incorporationDate: "" (string)
[SERVER DEBUG] businessType: "" (string)
[SERVER DEBUG] jurisdiction: "" (string)
[SERVER DEBUG] registeredAddress: "" (string)
[SERVER DEBUG] companyPhone: "" (string)
[SERVER DEBUG] priorNames: "" (string)
[SERVER DEBUG] licenses: "" (string)
[SERVER DEBUG] goodStanding: "" (string)
[SERVER DEBUG] corporateRegistration: "" (string)
[SERVER DEBUG] END OF FORM DATA DUMP
[SERVER DEBUG] No fields with value "asdf" found in incoming data
[SERVER DEBUG] Processing field: "externalAudit" (ID: 12)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "externalAudit" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: externalAudit
[SERVER DEBUG] - field_id: 12
[SERVER DEBUG] - response_value: ""
[Tasks Routes] Found 30 KYB responses for task 637 (special .json endpoint)
[Tasks Routes] Constructed form data with 30 fields (special .json endpoint)
[Tasks Routes] Task found by ID (special .json endpoint): {
  taskId: 637,
  title: '1. KYB Form: DevTest32',
  type: 'company_kyb',
  formDataFields: 30,
  timestamp: '2025-04-25T06:46:15.368Z'
}
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "externalAudit":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "externalAudit" (ID: 3855)
[SERVER DEBUG] --- Finished processing field "externalAudit" ---

[SERVER DEBUG] Processing field: "controlEnvironment" (ID: 13)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
6:46:15 AM [info] GET /api/tasks.json/637 200 in 144ms :: {"id":637,"title":"1. KYB Form: DevTest32","description":"Complete KYB verifi...
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "controlEnvironment" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: controlEnvironment
[SERVER DEBUG] - field_id: 13
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "controlEnvironment":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "controlEnvironment" (ID: 3856)
[SERVER DEBUG] --- Finished processing field "controlEnvironment" ---

[SERVER DEBUG] Processing field: "authorizedSigners" (ID: 14)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "authorizedSigners" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: authorizedSigners
[SERVER DEBUG] - field_id: 14
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "authorizedSigners":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "authorizedSigners" (ID: 3857)
[SERVER DEBUG] --- Finished processing field "authorizedSigners" ---

[SERVER DEBUG] Processing field: "governmentOwnership" (ID: 15)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "governmentOwnership" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: governmentOwnership
[SERVER DEBUG] - field_id: 15
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "governmentOwnership":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "governmentOwnership" (ID: 3858)
[SERVER DEBUG] --- Finished processing field "governmentOwnership" ---

[SERVER DEBUG] Processing field: "ultimateBeneficialOwners" (ID: 16)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "ultimateBeneficialOwners" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: ultimateBeneficialOwners
[SERVER DEBUG] - field_id: 16
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "ultimateBeneficialOwners":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "ultimateBeneficialOwners" (ID: 3859)
[SERVER DEBUG] --- Finished processing field "ultimateBeneficialOwners" ---

[SERVER DEBUG] Processing field: "directorsAndOfficers" (ID: 17)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "directorsAndOfficers" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: directorsAndOfficers
[SERVER DEBUG] - field_id: 17
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "directorsAndOfficers":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "directorsAndOfficers" (ID: 3860)
[SERVER DEBUG] --- Finished processing field "directorsAndOfficers" ---

[SERVER DEBUG] Processing field: "contactEmail" (ID: 18)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "contactEmail" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: contactEmail
[SERVER DEBUG] - field_id: 18
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "contactEmail":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "contactEmail" (ID: 3861)
[SERVER DEBUG] --- Finished processing field "contactEmail" ---

[SERVER DEBUG] Processing field: "marketCapitalization" (ID: 19)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "marketCapitalization" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: marketCapitalization
[SERVER DEBUG] - field_id: 19
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "marketCapitalization":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "marketCapitalization" (ID: 3862)
[SERVER DEBUG] --- Finished processing field "marketCapitalization" ---

[SERVER DEBUG] Processing field: "lifetimeCustomerValue" (ID: 20)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "lifetimeCustomerValue" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: lifetimeCustomerValue
[SERVER DEBUG] - field_id: 20
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "lifetimeCustomerValue":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "lifetimeCustomerValue" (ID: 3863)
[SERVER DEBUG] --- Finished processing field "lifetimeCustomerValue" ---

[SERVER DEBUG] Processing field: "annualRecurringRevenue" (ID: 21)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "annualRecurringRevenue" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: annualRecurringRevenue
[SERVER DEBUG] - field_id: 21
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "annualRecurringRevenue":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "annualRecurringRevenue" (ID: 3864)
[SERVER DEBUG] --- Finished processing field "annualRecurringRevenue" ---

[SERVER DEBUG] Processing field: "monthlyRecurringRevenue" (ID: 22)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "monthlyRecurringRevenue" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: monthlyRecurringRevenue
[SERVER DEBUG] - field_id: 22
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "monthlyRecurringRevenue":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "monthlyRecurringRevenue" (ID: 3865)
[SERVER DEBUG] --- Finished processing field "monthlyRecurringRevenue" ---

[SERVER DEBUG] Processing field: "investigationsIncidents" (ID: 23)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "investigationsIncidents" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: investigationsIncidents
[SERVER DEBUG] - field_id: 23
[SERVER DEBUG] - response_value: ""
[Tasks Routes] Updating task progress: { taskId: 637, timestamp: '2025-04-25T06:46:16.424Z' }
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "investigationsIncidents":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "investigationsIncidents" (ID: 3866)
[SERVER DEBUG] --- Finished processing field "investigationsIncidents" ---

[SERVER DEBUG] Processing field: "financialStatements" (ID: 24)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "financialStatements" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: financialStatements
[SERVER DEBUG] - field_id: 24
[SERVER DEBUG] - response_value: ""
[Task Reconciliation] Found 30 responses for task 637 (type: company_kyb)
[STATUS DETERMINATION] Calculating status for task with: {
  progress: 0,
  currentStatus: 'in_progress',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  hasResponses: true,
  timestamp: '2025-04-25T06:46:16.482Z'
}
[STATUS DETERMINATION] Task has incomplete required fields, setting to IN_PROGRESS
[Task Reconciliation] Progress calculation: {
  taskId: 637,
  currentProgress: 0,
  calculatedProgress: 0,
  currentStatus: 'in_progress',
  calculatedStatus: 'in_progress',
  responseCount: 30,
  completeCount: 0
}
[Task Reconciliation] Correcting task 637: {
  progressFrom: 0,
  progressTo: 0,
  statusFrom: 'in_progress',
  statusTo: 'in_progress',
  forceUpdate: true
}
[Progress Utils] Broadcasting task progress update: {
  taskId: 637,
  progress: 0,
  requestedStatus: 'in_progress',
  finalStatus: 'in_progress',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  timestamp: '2025-04-25T06:46:16.512Z'
}
[WebSocket] Broadcast "task_updated" sent to 3 clients {
  type: 'task_updated',
  dataKeys: [ 'id', 'status', 'progress', 'metadata', 'timestamp' ],
  timestamp: '2025-04-25T06:46:16.512Z',
  clientCount: 3
}
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "financialStatements":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "financialStatements" (ID: 3867)
[SERVER DEBUG] --- Finished processing field "financialStatements" ---

[SERVER DEBUG] Processing field: "operationalPolicies" (ID: 25)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[Tasks Routes] Task progress reconciled: {
  taskId: 637,
  progress: 0,
  status: 'in_progress',
  timestamp: '2025-04-25T06:46:16.541Z'
}
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "operationalPolicies" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: operationalPolicies
[SERVER DEBUG] - field_id: 25
[SERVER DEBUG] - response_value: ""
6:46:16 AM [info] POST /api/tasks/637/update-progress 200 in 147ms :: {"success":true,"progress":0,"status":"in_progress","taskId":637}
[Tasks Routes] Fetching task by ID (special .json endpoint): {
  taskId: 637,
  userCompanyId: 241,
  timestamp: '2025-04-25T06:46:16.663Z'
}
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "operationalPolicies":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "operationalPolicies" (ID: 3868)
[SERVER DEBUG] --- Finished processing field "operationalPolicies" ---

[SERVER DEBUG] Processing field: "dataVolume" (ID: 26)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[Tasks Routes] Fetching latest KYB form data for task (special .json endpoint): 637
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "dataVolume" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: dataVolume
[SERVER DEBUG] - field_id: 26
[SERVER DEBUG] - response_value: ""
[Tasks Routes] Found 30 KYB responses for task 637 (special .json endpoint)
[Tasks Routes] Constructed form data with 30 fields (special .json endpoint)
[Tasks Routes] Task found by ID (special .json endpoint): {
  taskId: 637,
  title: '1. KYB Form: DevTest32',
  type: 'company_kyb',
  formDataFields: 30,
  timestamp: '2025-04-25T06:46:16.749Z'
}
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "dataVolume":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "dataVolume" (ID: 3869)
[SERVER DEBUG] --- Finished processing field "dataVolume" ---

[SERVER DEBUG] Processing field: "dataTypes" (ID: 27)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
6:46:16 AM [info] GET /api/tasks.json/637 200 in 117ms :: {"id":637,"title":"1. KYB Form: DevTest32","description":"Complete KYB verifi...
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "dataTypes" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: dataTypes
[SERVER DEBUG] - field_id: 27
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "dataTypes":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "dataTypes" (ID: 3870)
[SERVER DEBUG] --- Finished processing field "dataTypes" ---

[SERVER DEBUG] Processing field: "sanctionsCheck" (ID: 28)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "sanctionsCheck" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: sanctionsCheck
[SERVER DEBUG] - field_id: 28
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "sanctionsCheck":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "sanctionsCheck" (ID: 3871)
[SERVER DEBUG] --- Finished processing field "sanctionsCheck" ---

[SERVER DEBUG] Processing field: "dueDiligence" (ID: 29)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "dueDiligence" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: dueDiligence
[SERVER DEBUG] - field_id: 29
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "dueDiligence":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "dueDiligence" (ID: 3872)
[SERVER DEBUG] --- Finished processing field "dueDiligence" ---

[SERVER DEBUG] Processing field: "regulatoryActions" (ID: 30)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "regulatoryActions" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: regulatoryActions
[SERVER DEBUG] - field_id: 30
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "regulatoryActions":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "regulatoryActions" (ID: 3873)
[SERVER DEBUG] --- Finished processing field "regulatoryActions" ---

[SERVER DEBUG] Processing field: "legalEntityName" (ID: 1)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "legalEntityName" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: legalEntityName
[SERVER DEBUG] - field_id: 1
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "legalEntityName":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "legalEntityName" (ID: 3874)
[SERVER DEBUG] Broadcasting legalEntityName update via WebSocket: ""
[WebSocket] Broadcast "field_update" sent to 3 clients {
  type: 'field_update',
  dataKeys: [ 'taskId', 'fieldId', 'timestamp' ],
  timestamp: '2025-04-25T06:46:17.241Z',
  clientCount: 3
}
[SERVER DEBUG] --- Finished processing field "legalEntityName" ---

[SERVER DEBUG] Processing field: "registrationNumber" (ID: 2)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "registrationNumber" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: registrationNumber
[SERVER DEBUG] - field_id: 2
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "registrationNumber":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "registrationNumber" (ID: 3875)
[SERVER DEBUG] --- Finished processing field "registrationNumber" ---

[SERVER DEBUG] Processing field: "incorporationDate" (ID: 3)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "incorporationDate" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: incorporationDate
[SERVER DEBUG] - field_id: 3
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "incorporationDate":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "incorporationDate" (ID: 3876)
[SERVER DEBUG] --- Finished processing field "incorporationDate" ---

[SERVER DEBUG] Processing field: "businessType" (ID: 4)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "businessType" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: businessType
[SERVER DEBUG] - field_id: 4
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "businessType":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "businessType" (ID: 3877)
[SERVER DEBUG] --- Finished processing field "businessType" ---

[SERVER DEBUG] Processing field: "jurisdiction" (ID: 5)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "jurisdiction" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: jurisdiction
[SERVER DEBUG] - field_id: 5
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "jurisdiction":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "jurisdiction" (ID: 3878)
[SERVER DEBUG] --- Finished processing field "jurisdiction" ---

[SERVER DEBUG] Processing field: "registeredAddress" (ID: 6)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "registeredAddress" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: registeredAddress
[SERVER DEBUG] - field_id: 6
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "registeredAddress":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "registeredAddress" (ID: 3849)
[SERVER DEBUG] --- Finished processing field "registeredAddress" ---

[SERVER DEBUG] Processing field: "companyPhone" (ID: 7)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "companyPhone" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: companyPhone
[SERVER DEBUG] - field_id: 7
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "companyPhone":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "companyPhone" (ID: 3850)
[SERVER DEBUG] --- Finished processing field "companyPhone" ---

[SERVER DEBUG] Processing field: "priorNames" (ID: 8)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "priorNames" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: priorNames
[SERVER DEBUG] - field_id: 8
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "priorNames":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "priorNames" (ID: 3851)
[SERVER DEBUG] --- Finished processing field "priorNames" ---

[SERVER DEBUG] Processing field: "licenses" (ID: 9)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "licenses" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: licenses
[SERVER DEBUG] - field_id: 9
[SERVER DEBUG] - response_value: ""
[Tasks Routes] Updating task progress: { taskId: 637, timestamp: '2025-04-25T06:46:17.926Z' }
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "licenses":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "licenses" (ID: 3852)
[SERVER DEBUG] --- Finished processing field "licenses" ---

[SERVER DEBUG] Processing field: "goodStanding" (ID: 10)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[Task Reconciliation] Found 30 responses for task 637 (type: company_kyb)
[STATUS DETERMINATION] Calculating status for task with: {
  progress: 0,
  currentStatus: 'in_progress',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  hasResponses: true,
  timestamp: '2025-04-25T06:46:17.984Z'
}
[STATUS DETERMINATION] Task has incomplete required fields, setting to IN_PROGRESS
[Task Reconciliation] Progress calculation: {
  taskId: 637,
  currentProgress: 0,
  calculatedProgress: 0,
  currentStatus: 'in_progress',
  calculatedStatus: 'in_progress',
  responseCount: 30,
  completeCount: 0
}
[Task Reconciliation] Correcting task 637: {
  progressFrom: 0,
  progressTo: 0,
  statusFrom: 'in_progress',
  statusTo: 'in_progress',
  forceUpdate: true
}
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "goodStanding" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: goodStanding
[SERVER DEBUG] - field_id: 10
[SERVER DEBUG] - response_value: ""
[Progress Utils] Broadcasting task progress update: {
  taskId: 637,
  progress: 0,
  requestedStatus: 'in_progress',
  finalStatus: 'in_progress',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  timestamp: '2025-04-25T06:46:18.013Z'
}
[WebSocket] Broadcast "task_updated" sent to 3 clients {
  type: 'task_updated',
  dataKeys: [ 'id', 'status', 'progress', 'metadata', 'timestamp' ],
  timestamp: '2025-04-25T06:46:18.013Z',
  clientCount: 3
}
[Tasks Routes] Task progress reconciled: {
  taskId: 637,
  progress: 0,
  status: 'in_progress',
  timestamp: '2025-04-25T06:46:18.042Z'
}
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "goodStanding":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "goodStanding" (ID: 3853)
[SERVER DEBUG] --- Finished processing field "goodStanding" ---

[SERVER DEBUG] Processing field: "corporateRegistration" (ID: 11)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
6:46:18 AM [info] POST /api/tasks/637/update-progress 200 in 146ms :: {"success":true,"progress":0,"status":"in_progress","taskId":637}
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "corporateRegistration" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: corporateRegistration
[SERVER DEBUG] - field_id: 11
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "corporateRegistration":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "corporateRegistration" (ID: 3854)
[SERVER DEBUG] --- Finished processing field "corporateRegistration" ---

[Tasks Routes] Fetching task by ID (special .json endpoint): {
  taskId: 637,
  userCompanyId: 241,
  timestamp: '2025-04-25T06:46:18.162Z'
}
[KYB API Debug] Using client-provided status: not_started
[Tasks Routes] Fetching latest KYB form data for task (special .json endpoint): 637
[WebSocket] Received ping
[WebSocket] Broadcasting task update for task 637: progress=0, status=not_started
[WebSocket] Broadcast "task_updated" sent to 3 clients {
  type: 'task_updated',
  dataKeys: [ 'id', 'status', 'progress', 'metadata', 'timestamp' ],
  timestamp: '2025-04-25T06:46:18.222Z',
  clientCount: 3
}
[Tasks Routes] Found 30 KYB responses for task 637 (special .json endpoint)
[Tasks Routes] Constructed form data with 30 fields (special .json endpoint)
[Tasks Routes] Task found by ID (special .json endpoint): {
  taskId: 637,
  title: '1. KYB Form: DevTest32',
  type: 'company_kyb',
  formDataFields: 30,
  timestamp: '2025-04-25T06:46:18.250Z'
}
===============================================
[SERVER DEBUG] PREPARING RESPONSE at 2025-04-25T06:46:18.256Z
[SERVER DEBUG] Found 30 fields in database after update
===============================================
[SERVER DEBUG] Checking field corporateRegistration in updated data: ""
[SERVER DEBUG] Checking field goodStanding in updated data: ""
[SERVER DEBUG] Checking field regulatoryActions in updated data: ""
[SERVER DEBUG] Checking field investigationsIncidents in updated data: ""
[SERVER DEBUG] No fields with value "asdf" found in response data
[SERVER DEBUG] Sending response with 30 fields, status: not_started, progress: 0%
[SERVER DEBUG] Updating task.savedFormData to ensure persistence across navigation
6:46:18 AM [info] GET /api/tasks.json/637 200 in 120ms :: {"id":637,"title":"1. KYB Form: DevTest32","description":"Complete KYB verifi...
[SERVER DEBUG] ✅ Successfully updated task.savedFormData with latest form data
===============================================
6:46:18 AM [info] POST /api/kyb/progress 200 in 3090ms :: {"success":true,"savedData":{"progress":0,"status":"not_started","formData":{...
[Tasks Routes] Fetching task by ID (special .json endpoint): {
  taskId: 637,
  userCompanyId: 241,
  timestamp: '2025-04-25T06:46:18.436Z'
}
[Tasks Routes] Fetching latest KYB form data for task (special .json endpoint): 637
[Tasks Routes] Found 30 KYB responses for task 637 (special .json endpoint)
[Tasks Routes] Constructed form data with 30 fields (special .json endpoint)
[Tasks Routes] Task found by ID (special .json endpoint): {
  taskId: 637,
  title: '1. KYB Form: DevTest32',
  type: 'company_kyb',
  formDataFields: 30,
  timestamp: '2025-04-25T06:46:18.555Z'
}
6:46:18 AM [info] GET /api/tasks.json/637 200 in 152ms :: {"id":637,"title":"1. KYB Form: DevTest32","description":"Complete KYB verifi...
[TimestampHandler] Saving 30 timestamps for task 637
[TimestampHandler] Successfully saved timestamps for task 637
[TimestampAPI] Saved 30 timestamps for task 637
6:46:19 AM [info] POST /api/kyb/timestamps/637 200 in 68ms :: {"message":"Timestamps saved successfully","count":30}
===============================================
[SERVER DEBUG] KYB PROGRESS SAVE REQUEST RECEIVED at 2025-04-25T06:46:19.182Z
===============================================
Task ID: 637
Progress: 0
Status: not_started
Field count: 30
Sample form data values:
- externalAudit: "" (string)
- controlEnvironment: "" (string)
- authorizedSigners: "" (string)
- governmentOwnership: "" (string)
- ultimateBeneficialOwners: "" (string)
Request details:
- Method: POST
- Content-Type: application/json
- Content-Length: 1740
===============================================
===============================================
[SERVER DEBUG] PROCESSING FORM DATA FIELDS AT 2025-04-25T06:46:19.269Z
[SERVER DEBUG] Task ID: 637, Field count: 30
===============================================
[SERVER DEBUG] COMPLETE FORM DATA DUMP:
[SERVER DEBUG] externalAudit: "" (string)
[SERVER DEBUG] controlEnvironment: "" (string)
[SERVER DEBUG] authorizedSigners: "" (string)
[SERVER DEBUG] governmentOwnership: "" (string)
[SERVER DEBUG] ultimateBeneficialOwners: "" (string)
[SERVER DEBUG] directorsAndOfficers: "" (string)
[SERVER DEBUG] contactEmail: "" (string)
[SERVER DEBUG] marketCapitalization: "" (string)
[SERVER DEBUG] lifetimeCustomerValue: "" (string)
[SERVER DEBUG] annualRecurringRevenue: "" (string)
[SERVER DEBUG] monthlyRecurringRevenue: "" (string)
[SERVER DEBUG] investigationsIncidents: "" (string)
[SERVER DEBUG] financialStatements: "" (string)
[SERVER DEBUG] operationalPolicies: "" (string)
[SERVER DEBUG] dataVolume: "" (string)
[SERVER DEBUG] dataTypes: "" (string)
[SERVER DEBUG] sanctionsCheck: "" (string)
[SERVER DEBUG] dueDiligence: "" (string)
[SERVER DEBUG] regulatoryActions: "" (string)
[SERVER DEBUG] legalEntityName: "" (string)
[SERVER DEBUG] registrationNumber: "" (string)
[SERVER DEBUG] incorporationDate: "" (string)
[SERVER DEBUG] businessType: "" (string)
[SERVER DEBUG] jurisdiction: "" (string)
[SERVER DEBUG] registeredAddress: "" (string)
[SERVER DEBUG] companyPhone: "" (string)
[SERVER DEBUG] priorNames: "" (string)
[SERVER DEBUG] licenses: "" (string)
[SERVER DEBUG] goodStanding: "" (string)
[SERVER DEBUG] corporateRegistration: "" (string)
[SERVER DEBUG] END OF FORM DATA DUMP
[SERVER DEBUG] No fields with value "asdf" found in incoming data
[SERVER DEBUG] Processing field: "externalAudit" (ID: 12)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "externalAudit" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: externalAudit
[SERVER DEBUG] - field_id: 12
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "externalAudit":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "externalAudit" (ID: 3855)
[SERVER DEBUG] --- Finished processing field "externalAudit" ---

[SERVER DEBUG] Processing field: "controlEnvironment" (ID: 13)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "controlEnvironment" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: controlEnvironment
[SERVER DEBUG] - field_id: 13
[SERVER DEBUG] - response_value: ""
[Tasks Routes] Updating task progress: { taskId: 637, timestamp: '2025-04-25T06:46:19.436Z' }
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "controlEnvironment":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "controlEnvironment" (ID: 3856)
[SERVER DEBUG] --- Finished processing field "controlEnvironment" ---

[SERVER DEBUG] Processing field: "authorizedSigners" (ID: 14)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "authorizedSigners" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: authorizedSigners
[SERVER DEBUG] - field_id: 14
[SERVER DEBUG] - response_value: ""
[Task Reconciliation] Found 30 responses for task 637 (type: company_kyb)
[STATUS DETERMINATION] Calculating status for task with: {
  progress: 0,
  currentStatus: 'not_started',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  hasResponses: true,
  timestamp: '2025-04-25T06:46:19.494Z'
}
[STATUS DETERMINATION] Task has incomplete required fields, setting to IN_PROGRESS
[Task Reconciliation] Progress calculation: {
  taskId: 637,
  currentProgress: 0,
  calculatedProgress: 0,
  currentStatus: 'not_started',
  calculatedStatus: 'in_progress',
  responseCount: 30,
  completeCount: 0
}
[Task Reconciliation] Correcting task 637: {
  progressFrom: 0,
  progressTo: 0,
  statusFrom: 'not_started',
  statusTo: 'in_progress',
  forceUpdate: true
}
[Progress Utils] Broadcasting task progress update: {
  taskId: 637,
  progress: 0,
  requestedStatus: 'in_progress',
  finalStatus: 'in_progress',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  timestamp: '2025-04-25T06:46:19.524Z'
}
[WebSocket] Broadcast "task_updated" sent to 3 clients {
  type: 'task_updated',
  dataKeys: [ 'id', 'status', 'progress', 'metadata', 'timestamp' ],
  timestamp: '2025-04-25T06:46:19.525Z',
  clientCount: 3
}
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "authorizedSigners":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "authorizedSigners" (ID: 3857)
[SERVER DEBUG] --- Finished processing field "authorizedSigners" ---

[SERVER DEBUG] Processing field: "governmentOwnership" (ID: 15)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[Tasks Routes] Task progress reconciled: {
  taskId: 637,
  progress: 0,
  status: 'in_progress',
  timestamp: '2025-04-25T06:46:19.554Z'
}
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "governmentOwnership" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: governmentOwnership
[SERVER DEBUG] - field_id: 15
[SERVER DEBUG] - response_value: ""
6:46:19 AM [info] POST /api/tasks/637/update-progress 200 in 147ms :: {"success":true,"progress":0,"status":"in_progress","taskId":637}
[Current Company] Fetching company for user: { userId: 283, companyId: 241 }
[Current Company] Found company: {
  id: 241,
  name: 'DevTest32',
  onboardingCompleted: false,
  riskScore: null,
  chosenScore: null,
  isDemo: true
}
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "governmentOwnership":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "governmentOwnership" (ID: 3858)
[SERVER DEBUG] --- Finished processing field "governmentOwnership" ---

[SERVER DEBUG] Processing field: "ultimateBeneficialOwners" (ID: 16)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
6:46:19 AM [info] GET /api/companies/current 304 in 63ms :: {"id":241,"name":"DevTest32","category":"FinTech","is_demo":true,"revenue_tie...
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "ultimateBeneficialOwners" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: ultimateBeneficialOwners
[SERVER DEBUG] - field_id: 16
[SERVER DEBUG] - response_value: ""
[Auth] Using cached user data: 283
[Tasks Routes] Fetching task by ID (special .json endpoint): {
  taskId: 637,
  userCompanyId: 241,
  timestamp: '2025-04-25T06:46:19.670Z'
}
[Tasks Routes] Fetching latest KYB form data for task (special .json endpoint): 637
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "ultimateBeneficialOwners":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "ultimateBeneficialOwners" (ID: 3859)
[SERVER DEBUG] --- Finished processing field "ultimateBeneficialOwners" ---

[SERVER DEBUG] Processing field: "directorsAndOfficers" (ID: 17)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "directorsAndOfficers" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: directorsAndOfficers
[SERVER DEBUG] - field_id: 17
[SERVER DEBUG] - response_value: ""
[Tasks Routes] Found 30 KYB responses for task 637 (special .json endpoint)
[Tasks Routes] Constructed form data with 30 fields (special .json endpoint)
[Tasks Routes] Task found by ID (special .json endpoint): {
  taskId: 637,
  title: '1. KYB Form: DevTest32',
  type: 'company_kyb',
  formDataFields: 30,
  timestamp: '2025-04-25T06:46:19.758Z'
}
6:46:19 AM [info] GET /api/tasks.json/637 200 in 118ms :: {"id":637,"title":"1. KYB Form: DevTest32","description":"Complete KYB verifi...
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "directorsAndOfficers":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "directorsAndOfficers" (ID: 3860)
[SERVER DEBUG] --- Finished processing field "directorsAndOfficers" ---

[SERVER DEBUG] Processing field: "contactEmail" (ID: 18)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "contactEmail" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: contactEmail
[SERVER DEBUG] - field_id: 18
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "contactEmail":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "contactEmail" (ID: 3861)
[SERVER DEBUG] --- Finished processing field "contactEmail" ---

[SERVER DEBUG] Processing field: "marketCapitalization" (ID: 19)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "marketCapitalization" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: marketCapitalization
[SERVER DEBUG] - field_id: 19
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "marketCapitalization":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "marketCapitalization" (ID: 3862)
[SERVER DEBUG] --- Finished processing field "marketCapitalization" ---

[SERVER DEBUG] Processing field: "lifetimeCustomerValue" (ID: 20)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "lifetimeCustomerValue" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: lifetimeCustomerValue
[SERVER DEBUG] - field_id: 20
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "lifetimeCustomerValue":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "lifetimeCustomerValue" (ID: 3863)
[SERVER DEBUG] --- Finished processing field "lifetimeCustomerValue" ---

[SERVER DEBUG] Processing field: "annualRecurringRevenue" (ID: 21)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "annualRecurringRevenue" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: annualRecurringRevenue
[SERVER DEBUG] - field_id: 21
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "annualRecurringRevenue":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "annualRecurringRevenue" (ID: 3864)
[SERVER DEBUG] --- Finished processing field "annualRecurringRevenue" ---

[SERVER DEBUG] Processing field: "monthlyRecurringRevenue" (ID: 22)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "monthlyRecurringRevenue" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: monthlyRecurringRevenue
[SERVER DEBUG] - field_id: 22
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "monthlyRecurringRevenue":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "monthlyRecurringRevenue" (ID: 3865)
[SERVER DEBUG] --- Finished processing field "monthlyRecurringRevenue" ---

[SERVER DEBUG] Processing field: "investigationsIncidents" (ID: 23)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "investigationsIncidents" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: investigationsIncidents
[SERVER DEBUG] - field_id: 23
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "investigationsIncidents":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "investigationsIncidents" (ID: 3866)
[SERVER DEBUG] --- Finished processing field "investigationsIncidents" ---

[SERVER DEBUG] Processing field: "financialStatements" (ID: 24)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "financialStatements" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: financialStatements
[SERVER DEBUG] - field_id: 24
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "financialStatements":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "financialStatements" (ID: 3867)
[SERVER DEBUG] --- Finished processing field "financialStatements" ---

[SERVER DEBUG] Processing field: "operationalPolicies" (ID: 25)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "operationalPolicies" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: operationalPolicies
[SERVER DEBUG] - field_id: 25
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "operationalPolicies":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "operationalPolicies" (ID: 3868)
[SERVER DEBUG] --- Finished processing field "operationalPolicies" ---

[SERVER DEBUG] Processing field: "dataVolume" (ID: 26)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "dataVolume" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: dataVolume
[SERVER DEBUG] - field_id: 26
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "dataVolume":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "dataVolume" (ID: 3869)
[SERVER DEBUG] --- Finished processing field "dataVolume" ---

[SERVER DEBUG] Processing field: "dataTypes" (ID: 27)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "dataTypes" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: dataTypes
[SERVER DEBUG] - field_id: 27
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "dataTypes":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "dataTypes" (ID: 3870)
[SERVER DEBUG] --- Finished processing field "dataTypes" ---

[SERVER DEBUG] Processing field: "sanctionsCheck" (ID: 28)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "sanctionsCheck" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: sanctionsCheck
[SERVER DEBUG] - field_id: 28
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "sanctionsCheck":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "sanctionsCheck" (ID: 3871)
[SERVER DEBUG] --- Finished processing field "sanctionsCheck" ---

[SERVER DEBUG] Processing field: "dueDiligence" (ID: 29)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[Tasks Routes] Updating task progress: { taskId: 637, timestamp: '2025-04-25T06:46:20.929Z' }
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "dueDiligence" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: dueDiligence
[SERVER DEBUG] - field_id: 29
[SERVER DEBUG] - response_value: ""
[Task Reconciliation] Found 30 responses for task 637 (type: company_kyb)
[STATUS DETERMINATION] Calculating status for task with: {
  progress: 0,
  currentStatus: 'in_progress',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  hasResponses: true,
  timestamp: '2025-04-25T06:46:20.987Z'
}
[STATUS DETERMINATION] Task has incomplete required fields, setting to IN_PROGRESS
[Task Reconciliation] Progress calculation: {
  taskId: 637,
  currentProgress: 0,
  calculatedProgress: 0,
  currentStatus: 'in_progress',
  calculatedStatus: 'in_progress',
  responseCount: 30,
  completeCount: 0
}
[Task Reconciliation] Correcting task 637: {
  progressFrom: 0,
  progressTo: 0,
  statusFrom: 'in_progress',
  statusTo: 'in_progress',
  forceUpdate: true
}
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "dueDiligence":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "dueDiligence" (ID: 3872)
[SERVER DEBUG] --- Finished processing field "dueDiligence" ---

[SERVER DEBUG] Processing field: "regulatoryActions" (ID: 30)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[Progress Utils] Broadcasting task progress update: {
  taskId: 637,
  progress: 0,
  requestedStatus: 'in_progress',
  finalStatus: 'in_progress',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  timestamp: '2025-04-25T06:46:21.017Z'
}
[WebSocket] Broadcast "task_updated" sent to 3 clients {
  type: 'task_updated',
  dataKeys: [ 'id', 'status', 'progress', 'metadata', 'timestamp' ],
  timestamp: '2025-04-25T06:46:21.017Z',
  clientCount: 3
}
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "regulatoryActions" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: regulatoryActions
[SERVER DEBUG] - field_id: 30
[SERVER DEBUG] - response_value: ""
[Tasks Routes] Task progress reconciled: {
  taskId: 637,
  progress: 0,
  status: 'in_progress',
  timestamp: '2025-04-25T06:46:21.046Z'
}
6:46:21 AM [info] POST /api/tasks/637/update-progress 200 in 148ms :: {"success":true,"progress":0,"status":"in_progress","taskId":637}
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "regulatoryActions":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "regulatoryActions" (ID: 3873)
[SERVER DEBUG] --- Finished processing field "regulatoryActions" ---

[SERVER DEBUG] Processing field: "legalEntityName" (ID: 1)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "legalEntityName" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: legalEntityName
[SERVER DEBUG] - field_id: 1
[SERVER DEBUG] - response_value: ""
[Tasks Routes] Fetching task by ID (special .json endpoint): {
  taskId: 637,
  userCompanyId: 241,
  timestamp: '2025-04-25T06:46:21.168Z'
}
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "legalEntityName":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "legalEntityName" (ID: 3874)
[SERVER DEBUG] Broadcasting legalEntityName update via WebSocket: ""
[WebSocket] Broadcast "field_update" sent to 3 clients {
  type: 'field_update',
  dataKeys: [ 'taskId', 'fieldId', 'timestamp' ],
  timestamp: '2025-04-25T06:46:21.175Z',
  clientCount: 3
}
[SERVER DEBUG] --- Finished processing field "legalEntityName" ---

[SERVER DEBUG] Processing field: "registrationNumber" (ID: 2)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[Tasks Routes] Fetching latest KYB form data for task (special .json endpoint): 637
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "registrationNumber" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: registrationNumber
[SERVER DEBUG] - field_id: 2
[SERVER DEBUG] - response_value: ""
[Tasks Routes] Found 30 KYB responses for task 637 (special .json endpoint)
[Tasks Routes] Constructed form data with 30 fields (special .json endpoint)
[Tasks Routes] Task found by ID (special .json endpoint): {
  taskId: 637,
  title: '1. KYB Form: DevTest32',
  type: 'company_kyb',
  formDataFields: 30,
  timestamp: '2025-04-25T06:46:21.255Z'
}
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "registrationNumber":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "registrationNumber" (ID: 3875)
[SERVER DEBUG] --- Finished processing field "registrationNumber" ---

[SERVER DEBUG] Processing field: "incorporationDate" (ID: 3)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
6:46:21 AM [info] GET /api/tasks.json/637 200 in 117ms :: {"id":637,"title":"1. KYB Form: DevTest32","description":"Complete KYB verifi...
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "incorporationDate" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: incorporationDate
[SERVER DEBUG] - field_id: 3
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "incorporationDate":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "incorporationDate" (ID: 3876)
[SERVER DEBUG] --- Finished processing field "incorporationDate" ---

[SERVER DEBUG] Processing field: "businessType" (ID: 4)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "businessType" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: businessType
[SERVER DEBUG] - field_id: 4
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "businessType":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "businessType" (ID: 3877)
[SERVER DEBUG] --- Finished processing field "businessType" ---

[SERVER DEBUG] Processing field: "jurisdiction" (ID: 5)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "jurisdiction" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: jurisdiction
[SERVER DEBUG] - field_id: 5
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "jurisdiction":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "jurisdiction" (ID: 3878)
[SERVER DEBUG] --- Finished processing field "jurisdiction" ---

[SERVER DEBUG] Processing field: "registeredAddress" (ID: 6)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "registeredAddress" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: registeredAddress
[SERVER DEBUG] - field_id: 6
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "registeredAddress":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "registeredAddress" (ID: 3849)
[SERVER DEBUG] --- Finished processing field "registeredAddress" ---

[SERVER DEBUG] Processing field: "companyPhone" (ID: 7)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "companyPhone" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: companyPhone
[SERVER DEBUG] - field_id: 7
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "companyPhone":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "companyPhone" (ID: 3850)
[SERVER DEBUG] --- Finished processing field "companyPhone" ---

[SERVER DEBUG] Processing field: "priorNames" (ID: 8)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "priorNames" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: priorNames
[SERVER DEBUG] - field_id: 8
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "priorNames":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "priorNames" (ID: 3851)
[SERVER DEBUG] --- Finished processing field "priorNames" ---

[SERVER DEBUG] Processing field: "licenses" (ID: 9)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "licenses" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: licenses
[SERVER DEBUG] - field_id: 9
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "licenses":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "licenses" (ID: 3852)
[SERVER DEBUG] --- Finished processing field "licenses" ---

[SERVER DEBUG] Processing field: "goodStanding" (ID: 10)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "goodStanding" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: goodStanding
[SERVER DEBUG] - field_id: 10
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "goodStanding":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "goodStanding" (ID: 3853)
[SERVER DEBUG] --- Finished processing field "goodStanding" ---

[SERVER DEBUG] Processing field: "corporateRegistration" (ID: 11)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "corporateRegistration" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: corporateRegistration
[SERVER DEBUG] - field_id: 11
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "corporateRegistration":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "corporateRegistration" (ID: 3854)
[SERVER DEBUG] --- Finished processing field "corporateRegistration" ---

[KYB API Debug] Using client-provided status: not_started
[WebSocket] Broadcasting task update for task 637: progress=0, status=not_started
[WebSocket] Broadcast "task_updated" sent to 3 clients {
  type: 'task_updated',
  dataKeys: [ 'id', 'status', 'progress', 'metadata', 'timestamp' ],
  timestamp: '2025-04-25T06:46:22.156Z',
  clientCount: 3
}
===============================================
[SERVER DEBUG] PREPARING RESPONSE at 2025-04-25T06:46:22.190Z
[SERVER DEBUG] Found 30 fields in database after update
===============================================
[SERVER DEBUG] Checking field corporateRegistration in updated data: ""
[SERVER DEBUG] Checking field goodStanding in updated data: ""
[SERVER DEBUG] Checking field regulatoryActions in updated data: ""
[SERVER DEBUG] Checking field investigationsIncidents in updated data: ""
[SERVER DEBUG] No fields with value "asdf" found in response data
[SERVER DEBUG] Sending response with 30 fields, status: not_started, progress: 0%
[SERVER DEBUG] Updating task.savedFormData to ensure persistence across navigation
[SERVER DEBUG] ✅ Successfully updated task.savedFormData with latest form data
===============================================
6:46:22 AM [info] POST /api/kyb/progress 200 in 3075ms :: {"success":true,"savedData":{"progress":0,"status":"not_started","formData":{...
[Tasks Routes] Fetching task by ID (special .json endpoint): {
  taskId: 637,
  userCompanyId: 241,
  timestamp: '2025-04-25T06:46:22.306Z'
}
[Tasks Routes] Fetching latest KYB form data for task (special .json endpoint): 637
[Tasks Routes] Updating task progress: { taskId: 637, timestamp: '2025-04-25T06:46:22.431Z' }
[Tasks Routes] Found 30 KYB responses for task 637 (special .json endpoint)
[Tasks Routes] Constructed form data with 30 fields (special .json endpoint)
[Tasks Routes] Task found by ID (special .json endpoint): {
  taskId: 637,
  title: '1. KYB Form: DevTest32',
  type: 'company_kyb',
  formDataFields: 30,
  timestamp: '2025-04-25T06:46:22.435Z'
}
6:46:22 AM [info] GET /api/tasks.json/637 200 in 160ms :: {"id":637,"title":"1. KYB Form: DevTest32","description":"Complete KYB verifi...
[Task Reconciliation] Found 30 responses for task 637 (type: company_kyb)
[STATUS DETERMINATION] Calculating status for task with: {
  progress: 0,
  currentStatus: 'not_started',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  hasResponses: true,
  timestamp: '2025-04-25T06:46:22.488Z'
}
[STATUS DETERMINATION] Task has incomplete required fields, setting to IN_PROGRESS
[Task Reconciliation] Progress calculation: {
  taskId: 637,
  currentProgress: 0,
  calculatedProgress: 0,
  currentStatus: 'not_started',
  calculatedStatus: 'in_progress',
  responseCount: 30,
  completeCount: 0
}
[Task Reconciliation] Correcting task 637: {
  progressFrom: 0,
  progressTo: 0,
  statusFrom: 'not_started',
  statusTo: 'in_progress',
  forceUpdate: true
}
[Progress Utils] Broadcasting task progress update: {
  taskId: 637,
  progress: 0,
  requestedStatus: 'in_progress',
  finalStatus: 'in_progress',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  timestamp: '2025-04-25T06:46:22.518Z'
}
[WebSocket] Broadcast "task_updated" sent to 3 clients {
  type: 'task_updated',
  dataKeys: [ 'id', 'status', 'progress', 'metadata', 'timestamp' ],
  timestamp: '2025-04-25T06:46:22.518Z',
  clientCount: 3
}
[Tasks Routes] Task progress reconciled: {
  taskId: 637,
  progress: 0,
  status: 'in_progress',
  timestamp: '2025-04-25T06:46:22.547Z'
}
6:46:22 AM [info] POST /api/tasks/637/update-progress 200 in 147ms :: {"success":true,"progress":0,"status":"in_progress","taskId":637}
[Tasks Routes] Fetching task by ID (special .json endpoint): {
  taskId: 637,
  userCompanyId: 241,
  timestamp: '2025-04-25T06:46:22.665Z'
}
[Tasks Routes] Fetching latest KYB form data for task (special .json endpoint): 637
[Tasks Routes] Found 30 KYB responses for task 637 (special .json endpoint)
[Tasks Routes] Constructed form data with 30 fields (special .json endpoint)
[Tasks Routes] Task found by ID (special .json endpoint): {
  taskId: 637,
  title: '1. KYB Form: DevTest32',
  type: 'company_kyb',
  formDataFields: 30,
  timestamp: '2025-04-25T06:46:22.750Z'
}
6:46:22 AM [info] GET /api/tasks.json/637 200 in 116ms :: {"id":637,"title":"1. KYB Form: DevTest32","description":"Complete KYB verifi...
[TimestampHandler] Saving 30 timestamps for task 637
[TimestampHandler] Successfully saved timestamps for task 637
[TimestampAPI] Saved 30 timestamps for task 637
6:46:22 AM [info] POST /api/kyb/timestamps/637 200 in 61ms :: {"message":"Timestamps saved successfully","count":30}
===============================================
[SERVER DEBUG] KYB PROGRESS SAVE REQUEST RECEIVED at 2025-04-25T06:46:23.131Z
===============================================
Task ID: 637
Progress: 0
Status: not_started
Field count: 30
Sample form data values:
- externalAudit: "" (string)
- controlEnvironment: "" (string)
- authorizedSigners: "" (string)
- governmentOwnership: "" (string)
- ultimateBeneficialOwners: "" (string)
Request details:
- Method: POST
- Content-Type: application/json
- Content-Length: 1740
===============================================
===============================================
[SERVER DEBUG] PROCESSING FORM DATA FIELDS AT 2025-04-25T06:46:23.189Z
[SERVER DEBUG] Task ID: 637, Field count: 30
===============================================
[SERVER DEBUG] COMPLETE FORM DATA DUMP:
[SERVER DEBUG] externalAudit: "" (string)
[SERVER DEBUG] controlEnvironment: "" (string)
[SERVER DEBUG] authorizedSigners: "" (string)
[SERVER DEBUG] governmentOwnership: "" (string)
[SERVER DEBUG] ultimateBeneficialOwners: "" (string)
[SERVER DEBUG] directorsAndOfficers: "" (string)
[SERVER DEBUG] contactEmail: "" (string)
[SERVER DEBUG] marketCapitalization: "" (string)
[SERVER DEBUG] lifetimeCustomerValue: "" (string)
[SERVER DEBUG] annualRecurringRevenue: "" (string)
[SERVER DEBUG] monthlyRecurringRevenue: "" (string)
[SERVER DEBUG] investigationsIncidents: "" (string)
[SERVER DEBUG] financialStatements: "" (string)
[SERVER DEBUG] operationalPolicies: "" (string)
[SERVER DEBUG] dataVolume: "" (string)
[SERVER DEBUG] dataTypes: "" (string)
[SERVER DEBUG] sanctionsCheck: "" (string)
[SERVER DEBUG] dueDiligence: "" (string)
[SERVER DEBUG] regulatoryActions: "" (string)
[SERVER DEBUG] legalEntityName: "" (string)
[SERVER DEBUG] registrationNumber: "" (string)
[SERVER DEBUG] incorporationDate: "" (string)
[SERVER DEBUG] businessType: "" (string)
[SERVER DEBUG] jurisdiction: "" (string)
[SERVER DEBUG] registeredAddress: "" (string)
[SERVER DEBUG] companyPhone: "" (string)
[SERVER DEBUG] priorNames: "" (string)
[SERVER DEBUG] licenses: "" (string)
[SERVER DEBUG] goodStanding: "" (string)
[SERVER DEBUG] corporateRegistration: "" (string)
[SERVER DEBUG] END OF FORM DATA DUMP
[SERVER DEBUG] No fields with value "asdf" found in incoming data
[SERVER DEBUG] Processing field: "externalAudit" (ID: 12)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "externalAudit" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: externalAudit
[SERVER DEBUG] - field_id: 12
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "externalAudit":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "externalAudit" (ID: 3855)
[SERVER DEBUG] --- Finished processing field "externalAudit" ---

[SERVER DEBUG] Processing field: "controlEnvironment" (ID: 13)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "controlEnvironment" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: controlEnvironment
[SERVER DEBUG] - field_id: 13
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "controlEnvironment":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "controlEnvironment" (ID: 3856)
[SERVER DEBUG] --- Finished processing field "controlEnvironment" ---

[SERVER DEBUG] Processing field: "authorizedSigners" (ID: 14)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "authorizedSigners" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: authorizedSigners
[SERVER DEBUG] - field_id: 14
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "authorizedSigners":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "authorizedSigners" (ID: 3857)
[SERVER DEBUG] --- Finished processing field "authorizedSigners" ---

[SERVER DEBUG] Processing field: "governmentOwnership" (ID: 15)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "governmentOwnership" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: governmentOwnership
[SERVER DEBUG] - field_id: 15
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "governmentOwnership":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "governmentOwnership" (ID: 3858)
[SERVER DEBUG] --- Finished processing field "governmentOwnership" ---

[SERVER DEBUG] Processing field: "ultimateBeneficialOwners" (ID: 16)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "ultimateBeneficialOwners" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: ultimateBeneficialOwners
[SERVER DEBUG] - field_id: 16
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "ultimateBeneficialOwners":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "ultimateBeneficialOwners" (ID: 3859)
[SERVER DEBUG] --- Finished processing field "ultimateBeneficialOwners" ---

[SERVER DEBUG] Processing field: "directorsAndOfficers" (ID: 17)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "directorsAndOfficers" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: directorsAndOfficers
[SERVER DEBUG] - field_id: 17
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "directorsAndOfficers":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "directorsAndOfficers" (ID: 3860)
[SERVER DEBUG] --- Finished processing field "directorsAndOfficers" ---

[SERVER DEBUG] Processing field: "contactEmail" (ID: 18)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "contactEmail" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: contactEmail
[SERVER DEBUG] - field_id: 18
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "contactEmail":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "contactEmail" (ID: 3861)
[SERVER DEBUG] --- Finished processing field "contactEmail" ---

[SERVER DEBUG] Processing field: "marketCapitalization" (ID: 19)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "marketCapitalization" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: marketCapitalization
[SERVER DEBUG] - field_id: 19
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "marketCapitalization":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "marketCapitalization" (ID: 3862)
[SERVER DEBUG] --- Finished processing field "marketCapitalization" ---

[SERVER DEBUG] Processing field: "lifetimeCustomerValue" (ID: 20)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "lifetimeCustomerValue" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: lifetimeCustomerValue
[SERVER DEBUG] - field_id: 20
[SERVER DEBUG] - response_value: ""
[Tasks Routes] Updating task progress: { taskId: 637, timestamp: '2025-04-25T06:46:23.937Z' }
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "lifetimeCustomerValue":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "lifetimeCustomerValue" (ID: 3863)
[SERVER DEBUG] --- Finished processing field "lifetimeCustomerValue" ---

[SERVER DEBUG] Processing field: "annualRecurringRevenue" (ID: 21)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[Task Reconciliation] Found 30 responses for task 637 (type: company_kyb)
[STATUS DETERMINATION] Calculating status for task with: {
  progress: 0,
  currentStatus: 'in_progress',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  hasResponses: true,
  timestamp: '2025-04-25T06:46:24.004Z'
}
[STATUS DETERMINATION] Task has incomplete required fields, setting to IN_PROGRESS
[Task Reconciliation] Progress calculation: {
  taskId: 637,
  currentProgress: 0,
  calculatedProgress: 0,
  currentStatus: 'in_progress',
  calculatedStatus: 'in_progress',
  responseCount: 30,
  completeCount: 0
}
[Task Reconciliation] Correcting task 637: {
  progressFrom: 0,
  progressTo: 0,
  statusFrom: 'in_progress',
  statusTo: 'in_progress',
  forceUpdate: true
}
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "annualRecurringRevenue" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: annualRecurringRevenue
[SERVER DEBUG] - field_id: 21
[SERVER DEBUG] - response_value: ""
[Progress Utils] Broadcasting task progress update: {
  taskId: 637,
  progress: 0,
  requestedStatus: 'in_progress',
  finalStatus: 'in_progress',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  timestamp: '2025-04-25T06:46:24.035Z'
}
[WebSocket] Broadcast "task_updated" sent to 3 clients {
  type: 'task_updated',
  dataKeys: [ 'id', 'status', 'progress', 'metadata', 'timestamp' ],
  timestamp: '2025-04-25T06:46:24.035Z',
  clientCount: 3
}
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "annualRecurringRevenue":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "annualRecurringRevenue" (ID: 3864)
[SERVER DEBUG] --- Finished processing field "annualRecurringRevenue" ---

[SERVER DEBUG] Processing field: "monthlyRecurringRevenue" (ID: 22)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[Tasks Routes] Task progress reconciled: {
  taskId: 637,
  progress: 0,
  status: 'in_progress',
  timestamp: '2025-04-25T06:46:24.066Z'
}
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "monthlyRecurringRevenue" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: monthlyRecurringRevenue
[SERVER DEBUG] - field_id: 22
[SERVER DEBUG] - response_value: ""
6:46:24 AM [info] POST /api/tasks/637/update-progress 200 in 161ms :: {"success":true,"progress":0,"status":"in_progress","taskId":637}
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "monthlyRecurringRevenue":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "monthlyRecurringRevenue" (ID: 3865)
[SERVER DEBUG] --- Finished processing field "monthlyRecurringRevenue" ---

[SERVER DEBUG] Processing field: "investigationsIncidents" (ID: 23)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "investigationsIncidents" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: investigationsIncidents
[SERVER DEBUG] - field_id: 23
[SERVER DEBUG] - response_value: ""
[Tasks Routes] Fetching task by ID (special .json endpoint): {
  taskId: 637,
  userCompanyId: 241,
  timestamp: '2025-04-25T06:46:24.184Z'
}
[Tasks Routes] Fetching latest KYB form data for task (special .json endpoint): 637
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "investigationsIncidents":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "investigationsIncidents" (ID: 3866)
[SERVER DEBUG] --- Finished processing field "investigationsIncidents" ---

[SERVER DEBUG] Processing field: "financialStatements" (ID: 24)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "financialStatements" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: financialStatements
[SERVER DEBUG] - field_id: 24
[SERVER DEBUG] - response_value: ""
[Tasks Routes] Found 30 KYB responses for task 637 (special .json endpoint)
[Tasks Routes] Constructed form data with 30 fields (special .json endpoint)
[Tasks Routes] Task found by ID (special .json endpoint): {
  taskId: 637,
  title: '1. KYB Form: DevTest32',
  type: 'company_kyb',
  formDataFields: 30,
  timestamp: '2025-04-25T06:46:24.305Z'
}
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "financialStatements":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "financialStatements" (ID: 3867)
[SERVER DEBUG] --- Finished processing field "financialStatements" ---

[SERVER DEBUG] Processing field: "operationalPolicies" (ID: 25)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
6:46:24 AM [info] GET /api/tasks.json/637 200 in 164ms :: {"id":637,"title":"1. KYB Form: DevTest32","description":"Complete KYB verifi...
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "operationalPolicies" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: operationalPolicies
[SERVER DEBUG] - field_id: 25
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "operationalPolicies":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "operationalPolicies" (ID: 3868)
[SERVER DEBUG] --- Finished processing field "operationalPolicies" ---

[SERVER DEBUG] Processing field: "dataVolume" (ID: 26)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "dataVolume" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: dataVolume
[SERVER DEBUG] - field_id: 26
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "dataVolume":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "dataVolume" (ID: 3869)
[SERVER DEBUG] --- Finished processing field "dataVolume" ---

[SERVER DEBUG] Processing field: "dataTypes" (ID: 27)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "dataTypes" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: dataTypes
[SERVER DEBUG] - field_id: 27
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "dataTypes":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "dataTypes" (ID: 3870)
[SERVER DEBUG] --- Finished processing field "dataTypes" ---

[SERVER DEBUG] Processing field: "sanctionsCheck" (ID: 28)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "sanctionsCheck" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: sanctionsCheck
[SERVER DEBUG] - field_id: 28
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "sanctionsCheck":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "sanctionsCheck" (ID: 3871)
[SERVER DEBUG] --- Finished processing field "sanctionsCheck" ---

[SERVER DEBUG] Processing field: "dueDiligence" (ID: 29)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "dueDiligence" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: dueDiligence
[SERVER DEBUG] - field_id: 29
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "dueDiligence":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "dueDiligence" (ID: 3872)
[SERVER DEBUG] --- Finished processing field "dueDiligence" ---

[SERVER DEBUG] Processing field: "regulatoryActions" (ID: 30)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "regulatoryActions" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: regulatoryActions
[SERVER DEBUG] - field_id: 30
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "regulatoryActions":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "regulatoryActions" (ID: 3873)
[SERVER DEBUG] --- Finished processing field "regulatoryActions" ---

[SERVER DEBUG] Processing field: "legalEntityName" (ID: 1)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "legalEntityName" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: legalEntityName
[SERVER DEBUG] - field_id: 1
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "legalEntityName":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "legalEntityName" (ID: 3874)
[SERVER DEBUG] Broadcasting legalEntityName update via WebSocket: ""
[WebSocket] Broadcast "field_update" sent to 3 clients {
  type: 'field_update',
  dataKeys: [ 'taskId', 'fieldId', 'timestamp' ],
  timestamp: '2025-04-25T06:46:24.930Z',
  clientCount: 3
}
[SERVER DEBUG] --- Finished processing field "legalEntityName" ---

[SERVER DEBUG] Processing field: "registrationNumber" (ID: 2)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "registrationNumber" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: registrationNumber
[SERVER DEBUG] - field_id: 2
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "registrationNumber":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "registrationNumber" (ID: 3875)
[SERVER DEBUG] --- Finished processing field "registrationNumber" ---

[SERVER DEBUG] Processing field: "incorporationDate" (ID: 3)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "incorporationDate" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: incorporationDate
[SERVER DEBUG] - field_id: 3
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "incorporationDate":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "incorporationDate" (ID: 3876)
[SERVER DEBUG] --- Finished processing field "incorporationDate" ---

[SERVER DEBUG] Processing field: "businessType" (ID: 4)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "businessType" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: businessType
[SERVER DEBUG] - field_id: 4
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "businessType":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "businessType" (ID: 3877)
[SERVER DEBUG] --- Finished processing field "businessType" ---

[SERVER DEBUG] Processing field: "jurisdiction" (ID: 5)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "jurisdiction" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: jurisdiction
[SERVER DEBUG] - field_id: 5
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "jurisdiction":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "jurisdiction" (ID: 3878)
[SERVER DEBUG] --- Finished processing field "jurisdiction" ---

[SERVER DEBUG] Processing field: "registeredAddress" (ID: 6)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "registeredAddress" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: registeredAddress
[SERVER DEBUG] - field_id: 6
[SERVER DEBUG] - response_value: ""
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "registeredAddress":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "registeredAddress" (ID: 3849)
[SERVER DEBUG] --- Finished processing field "registeredAddress" ---

[SERVER DEBUG] Processing field: "companyPhone" (ID: 7)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "companyPhone" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: EMPTY, New status: EMPTY
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: companyPhone
[SERVER DEBUG] - field_id: 7
[SERVER DEBUG] - response_value: ""
[Tasks Routes] Updating task progress: { taskId: 637, timestamp: '2025-04-25T06:46:25.436Z' }
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "companyPhone":
[SERVER DEBUG] - Expected: ""
[SERVER DEBUG] - Actual: ""
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "companyPhone" (ID: 3850)
[SERVER DEBUG] --- Finished processing field "companyPhone" ---

[SERVER DEBUG] Processing field: "priorNames" (ID: 8)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "priorNames" in database
[SERVER DEBUG] - Old value: "" (string)
[SERVER DEBUG] - New value: "" (string)
[SERVER DEBUG] - Old status: