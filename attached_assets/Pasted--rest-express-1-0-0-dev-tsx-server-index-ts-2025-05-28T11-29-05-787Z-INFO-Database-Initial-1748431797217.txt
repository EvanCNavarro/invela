> rest-express@1.0.0 dev
> tsx server/index.ts

[2025-05-28T11:29:05.787Z] [INFO] [Database] Initializing database connection with Neon PostgreSQL optimizations {"module":"Database","poolSize":3,"idleTimeout":600000,"connectionTimeout":180000}
[2025-05-28T11:29:05.793Z] [INFO] [Database] Database configuration completed successfully {"module":"Database","schemasLoaded":102,"timestamp":"2025-05-28T11:29:05.793Z"}
[EmailService] Initializing email service
[EmailService] Email service initialized successfully
[OpenAI] Service initialized with API key: API key is set
[2025-05-28T11:29:05.964Z] [INFO] [NeonConnectionService] Initializing Neon Connection Service {"module":"NeonConnectionService"}
[WebSocketService] Initialized in fallback mode (WebSocket server not available)
[Routes] Registering demo API routes with priority...
[Routes] Demo API routes registered successfully with priority
[Routes] Registering company name validation API...
[Routes] Company name validation API registered successfully
[2025-05-28T11:29:06.081Z] [INFO] [App] [KY3P-BATCH-UPDATE] Registering KY3P batch update routes 
[2025-05-28T11:29:06.081Z] [INFO] [App] Registering KY3P batch update routes 
[2025-05-28T11:29:06.081Z] [INFO] [App] [UnifiedKY3P] Registering unified KY3P update routes 
[Routes] Registered KY3P field key router
[2025-05-28T11:29:06.081Z] [INFO] [App] Registering KY3P field update routes 
[2025-05-28T11:29:06.084Z] [INFO] [App] [OpenBankingRoutes] Setting up routes... 
[Routes] Setting up transaction-based unified form submission router
[Routes] Successfully registered transaction-based unified form submission router
[Routes] Setting up unified form submission router
[Routes] Successfully registered unified form submission router
[Routes] Setting up transactional form submission router
[Routes] Successfully registered transactional form submission router
[Routes] Route registration completed: 14 modules initialized [DemoAPI, CompanyNameValidation, CompanySearch, KYB, KY3P-SubmissionFix, TaskProgress, UnifiedFormUpdate, KY3P-Fixed, KY3P-DemoAutofill, KY3P-BatchUpdate, KY3P-UnifiedUpdate, KY3P-FieldKey, UnifiedClearFields, TaskBroadcast]
[2025-05-28T11:29:06.085Z] [INFO] [App] [WebSocket] Setting up unified WebSocket server on path /ws 
[2025-05-28T11:29:06.086Z] [INFO] [WebSocket] Unified WebSocket server initialized successfully {"module":"WebSocket","clients":0,"path":"/ws","id":"5sq8su","timestamp":"2025-05-28T11:29:06.086Z"}
[2025-05-28T11:29:06.086Z] [INFO] [App] [WebSocket] Unified WebSocket server initialized successfully 
[2025-05-28T11:29:06.086Z] [INFO] [App] [WebSocket] Unified WebSocket server handles form submission broadcasting 
[2025-05-28T11:29:06.086Z] [INFO] [App] [WebSocket] Skipping redundant WebSocket server initialization for deployment compatibility 
[2025-05-28T11:29:06.086Z] [INFO] [App] [ServerStartup] WebSocket server initialized with unified implementation 
[2025-05-28T11:29:06.086Z] [INFO] [App] [TaskWebSocket] WebSocket server registered with unified implementation 
[2025-05-28T11:29:06.086Z] [INFO] [App] [ServerStartup] WebSocket server registered with task-update utility 
[2025-05-28T11:29:06.086Z] [INFO] [TaskBroadcast] WebSocket server reference established {"module":"TaskBroadcast"}
[2025-05-28T11:29:06.086Z] [INFO] [TaskBroadcast] WebSocket server initialized {"module":"TaskBroadcast","connectedClients":0,"status":"active"}
[2025-05-28T11:29:06.086Z] [INFO] [App] [ServerStartup] WebSocket server registered with task-broadcast utility 
[2025-05-28T11:29:06.087Z] [INFO] [App] Setting up Vite development server 
[2025-05-28T11:29:06.088Z] [INFO] [App] [ProductionConfig] Applying Replit-optimized production configuration... 
[2025-05-28T11:29:06.088Z] [INFO] [App] [ProductionConfig] Applied memory optimization: max-old-space-size=1024MB 
[2025-05-28T11:29:06.088Z] [INFO] [App] [ProductionConfig] Enabled package layer optimization for deployment size reduction 
[2025-05-28T11:29:06.088Z] [INFO] [App] [ProductionConfig] Environment explicitly set to production 
[2025-05-28T11:29:06.088Z] [INFO] [App] [ProductionConfig] Production configuration applied successfully 
[2025-05-28T11:29:06.088Z] [INFO] [App] [ProductionConfig] All Replit deployment optimizations applied successfully 
[2025-05-28T11:29:06.088Z] [INFO] [App] [ENV] Server will listen on PORT=8080 (forced production mode) 
[2025-05-28T11:29:06.088Z] [INFO] [App] [ENV] Environment=production (forced production) 
[2025-05-28T11:29:06.088Z] [INFO] [App] [ENV] Deployment approach: Replit forced configuration for consistent Cloud Run deployment 
[2025-05-28T11:29:06.100Z] [INFO] [App] Server running on 0.0.0.0:8080 
[2025-05-28T11:29:06.100Z] [INFO] [App] Environment: production 
[Deployment] Server running on 0.0.0.0:8080
[Deployment] Environment: production
[Deployment] Port forwarding: Using Autoscale standard port (8080)
[Deployment] Production mode: Optimized for deployment
[2025-05-28T11:29:06.101Z] [INFO] [App] Starting periodic task reconciliation system... 
[2025-05-28T11:29:06.101Z] [INFO] [PeriodicTaskReconciliation] Periodic reconciliation system stopped {"module":"PeriodicTaskReconciliation","status":"inactive"}
[2025-05-28T11:29:06.101Z] [INFO] [PeriodicTaskReconciliation] Periodic reconciliation system started {"module":"PeriodicTaskReconciliation","intervalMs":300000,"cacheCleanupIntervalMs":900000,"status":"active"}
[2025-05-28T11:29:06.101Z] [INFO] [App] Task reconciliation system initialized successfully 
[2025-05-28T11:29:06.741Z] [INFO] [Database] Successfully established new database connection {"module":"Database"}
[2025-05-28T11:29:07.318Z] [INFO] [App] [ServerStartup] WebSocket server active with 0 connected clients 
[2025-05-28T11:29:09.778Z] [INFO] [Database] Successfully established new database connection {"module":"Database"}
[2025-05-28T11:29:10.251Z] [INFO] [Database] Successfully established new database connection {"module":"Database"}
[2025-05-28T11:29:16.101Z] [INFO] [App] Running background health checks... 
[2025-05-28T11:29:16.101Z] [StartupChecks] Running application startup health checks... 
[2025-05-28T11:29:16.102Z] [StartupChecks] Database health check attempt 1/3 
[2025-05-28T11:29:16.102Z] [INFO] [NeonConnectionService] Creating minimal connection pool for Neon PostgreSQL {"module":"NeonConnectionService"}
[2025-05-28T11:29:16.284Z] [INFO] [NeonConnectionService] New client connected to the pool {"module":"NeonConnectionService"}
[2025-05-28T11:29:16.312Z] [INFO] [NeonConnectionService] Connection pool initialized successfully {"module":"NeonConnectionService"}
[2025-05-28T11:29:16.342Z] [DBConnectionService] Database connection check successful 
[2025-05-28T11:29:16.342Z] [StartupChecks] Database health check passed 
[2025-05-28T11:29:16.342Z] [StartupChecks] All startup health checks passed! 
[2025-05-28T11:29:16.342Z] [INFO] [App] All background health checks passed successfully. 
[2025-05-28T11:29:17.848Z] [INFO] [WebSocket] Client connected {"module":"WebSocket","clientId":"client-1748431757848-59tyl78","clients":1}
[2025-05-28T11:29:17.969Z] [INFO] [WebSocket] Received message from client client-1748431757848-59tyl78 {"module":"WebSocket","type":"authenticate","data":{"timestamp":"2025-05-28T11:29:17.829Z"}}
[2025-05-28T11:29:17.970Z] [INFO] [WebSocket] Authentication from client client-1748431757848-59tyl78 {"module":"WebSocket","hasToken":true}
[2025-05-28T11:29:18.372Z] [INFO] [WebSocket] Client connected {"module":"WebSocket","clientId":"client-1748431758372-57vqvs4","clients":2}
[2025-05-28T11:29:18.912Z] [INFO] [WebSocket] Client connected {"module":"WebSocket","clientId":"client-1748431758912-22g68i3","clients":3}
[2025-05-28T11:29:19.412Z] [INFO] [WebSocket] Client connected {"module":"WebSocket","clientId":"client-1748431759412-lx3w76t","clients":4}
[2025-05-28T11:29:19.936Z] [INFO] [WebSocket] Client connected {"module":"WebSocket","clientId":"client-1748431759936-u38vgnj","clients":5}
[2025-05-28T11:29:20.238Z] [INFO] [WebSocket] Received message from client client-1748431759936-u38vgnj {"module":"WebSocket","type":"authenticate","userId":"477","companyId":"669","clientId":"ws_1748431758348_11k0xnp19","timestamp":"2025-05-28T11:29:20.098Z"}
[2025-05-28T11:29:20.238Z] [INFO] [WebSocket] Authentication from client client-1748431759936-u38vgnj {"module":"WebSocket","userId":"477","companyId":"669","hasToken":true}
[DemoAPI] [CompanyName] Starting unique company name generation: {
  timestamp: '2025-05-28T11:29:24.615Z',
  requestId: 'req_1748431764615_gan9kd8sx'
}
[DemoAPI] [CompanyName] Loaded advanced name generation utilities
[CompanyNameUtils] Generating advanced company name {
  timestamp: '2025-05-28T11:29:24.618Z',
  module: 'CompanyNameUtils',
  operation: 'Generating advanced company name',
  baseName: 'Demo Company',
  attempt: 1,
  strategy: 'combinatorial'
}
[CompanyNameUtils] Generated full combinatorial name {
  timestamp: '2025-05-28T11:29:24.618Z',
  module: 'CompanyNameUtils',
  operation: 'Generated full combinatorial name',
  baseName: 'Demo Company',
  generatedName: 'Regional Lab Labs',
  components: { prefix: 'Regional', core: 'Lab', suffix: 'Labs' }
}
[DemoAPI] [CompanyName] Advanced generation produced: {
  generatedName: 'Regional Lab Labs',
  strategy: 'full_combinatorial',
  duration: 3
}
[DemoAPI] [CompanyName] Validating name uniqueness against database...
[CompanyNameUtils] Starting company name uniqueness check {
  timestamp: '2025-05-28T11:29:24.618Z',
  module: 'CompanyNameUtils',
  operation: 'Starting company name uniqueness check',
  companyName: 'Regional Lab Labs',
  nameLength: 17
}
[CompanyNameUtils] Company name is unique and available {
  timestamp: '2025-05-28T11:29:24.688Z',
  module: 'CompanyNameUtils',
  operation: 'Company name is unique and available',
  companyName: 'Regional Lab Labs',
  duration: 70
}
[DemoAPI] [CompanyName] Company name generation completed successfully: {
  companyName: 'Regional Lab Labs',
  wasModified: false,
  strategy: 'full_combinatorial',
  processingTime: 73,
  timestamp: '2025-05-28T11:29:24.688Z'
}
[2025-05-28T11:29:24.720Z] [INFO] [App] GET /api/demo/generate-company-name 200 in 105ms :: {"success":true,"companyName":"Regional Lab Labs","wasModified":false,"origin... 
[DemoAPI] [CompanyName] Starting unique company name generation: {
  timestamp: '2025-05-28T11:29:27.668Z',
  requestId: 'req_1748431767668_2wrxsovpk'
}
[DemoAPI] [CompanyName] Loaded advanced name generation utilities
[CompanyNameUtils] Generating advanced company name {
  timestamp: '2025-05-28T11:29:27.669Z',
  module: 'CompanyNameUtils',
  operation: 'Generating advanced company name',
  baseName: 'Demo Company',
  attempt: 1,
  strategy: 'combinatorial'
}
[CompanyNameUtils] Generated full combinatorial name {
  timestamp: '2025-05-28T11:29:27.669Z',
  module: 'CompanyNameUtils',
  operation: 'Generated full combinatorial name',
  baseName: 'Demo Company',
  generatedName: 'Catalyst Compliance Authorities',
  components: { prefix: 'Catalyst', core: 'Compliance', suffix: 'Authorities' }
}
[DemoAPI] [CompanyName] Advanced generation produced: {
  generatedName: 'Catalyst Compliance Authorities',
  strategy: 'full_combinatorial',
  duration: 1
}
[DemoAPI] [CompanyName] Validating name uniqueness against database...
[CompanyNameUtils] Starting company name uniqueness check {
  timestamp: '2025-05-28T11:29:27.669Z',
  module: 'CompanyNameUtils',
  operation: 'Starting company name uniqueness check',
  companyName: 'Catalyst Compliance Authorities',
  nameLength: 31
}
[CompanyNameUtils] Company name is unique and available {
  timestamp: '2025-05-28T11:29:27.700Z',
  module: 'CompanyNameUtils',
  operation: 'Company name is unique and available',
  companyName: 'Catalyst Compliance Authorities',
  duration: 31
}
[DemoAPI] [CompanyName] Company name generation completed successfully: {
  companyName: 'Catalyst Compliance Authorities',
  wasModified: false,
  strategy: 'full_combinatorial',
  processingTime: 32,
  timestamp: '2025-05-28T11:29:27.700Z'
}
[2025-05-28T11:29:27.731Z] [INFO] [App] GET /api/demo/generate-company-name 200 in 64ms :: {"success":true,"companyName":"Catalyst Compliance Authorities","wasModified"... 
[DemoAPI] [CompanyName] Starting unique company name generation: {
  timestamp: '2025-05-28T11:29:28.326Z',
  requestId: 'req_1748431768326_n9uv7gyqt'
}
[DemoAPI] [CompanyName] Loaded advanced name generation utilities
[CompanyNameUtils] Generating advanced company name {
  timestamp: '2025-05-28T11:29:28.327Z',
  module: 'CompanyNameUtils',
  operation: 'Generating advanced company name',
  baseName: 'Demo Company',
  attempt: 1,
  strategy: 'combinatorial'
}
[CompanyNameUtils] Generated full combinatorial name {
  timestamp: '2025-05-28T11:29:28.327Z',
  module: 'CompanyNameUtils',
  operation: 'Generated full combinatorial name',
  baseName: 'Demo Company',
  generatedName: 'Flow Asset Advisors',
  components: { prefix: 'Flow', core: 'Asset', suffix: 'Advisors' }
}
[DemoAPI] [CompanyName] Advanced generation produced: {
  generatedName: 'Flow Asset Advisors',
  strategy: 'full_combinatorial',
  duration: 1
}
[DemoAPI] [CompanyName] Validating name uniqueness against database...
[CompanyNameUtils] Starting company name uniqueness check {
  timestamp: '2025-05-28T11:29:28.328Z',
  module: 'CompanyNameUtils',
  operation: 'Starting company name uniqueness check',
  companyName: 'Flow Asset Advisors',
  nameLength: 19
}
[CompanyNameUtils] Company name is unique and available {
  timestamp: '2025-05-28T11:29:28.357Z',
  module: 'CompanyNameUtils',
  operation: 'Company name is unique and available',
  companyName: 'Flow Asset Advisors',
  duration: 29
}
[DemoAPI] [CompanyName] Company name generation completed successfully: {
  companyName: 'Flow Asset Advisors',
  wasModified: false,
  strategy: 'full_combinatorial',
  processingTime: 31,
  timestamp: '2025-05-28T11:29:28.357Z'
}
[2025-05-28T11:29:28.389Z] [INFO] [App] GET /api/demo/generate-company-name 200 in 63ms :: {"success":true,"companyName":"Flow Asset Advisors","wasModified":false,"orig... 
[DemoAPI] [CompanyName] Starting unique company name generation: {
  timestamp: '2025-05-28T11:29:29.312Z',
  requestId: 'req_1748431769312_ysyff3ygk'
}
[DemoAPI] [CompanyName] Loaded advanced name generation utilities
[CompanyNameUtils] Generating advanced company name {
  timestamp: '2025-05-28T11:29:29.312Z',
  module: 'CompanyNameUtils',
  operation: 'Generating advanced company name',
  baseName: 'Demo Company',
  attempt: 1,
  strategy: 'combinatorial'
}
[CompanyNameUtils] Generated full combinatorial name {
  timestamp: '2025-05-28T11:29:29.313Z',
  module: 'CompanyNameUtils',
  operation: 'Generated full combinatorial name',
  baseName: 'Demo Company',
  generatedName: 'Consortium Wealth Industries',
  components: { prefix: 'Consortium', core: 'Wealth', suffix: 'Industries' }
}
[DemoAPI] [CompanyName] Advanced generation produced: {
  generatedName: 'Consortium Wealth Industries',
  strategy: 'full_combinatorial',
  duration: 1
}
[DemoAPI] [CompanyName] Validating name uniqueness against database...
[CompanyNameUtils] Starting company name uniqueness check {
  timestamp: '2025-05-28T11:29:29.313Z',
  module: 'CompanyNameUtils',
  operation: 'Starting company name uniqueness check',
  companyName: 'Consortium Wealth Industries',
  nameLength: 28
}
[CompanyNameUtils] Company name is unique and available {
  timestamp: '2025-05-28T11:29:29.345Z',
  module: 'CompanyNameUtils',
  operation: 'Company name is unique and available',
  companyName: 'Consortium Wealth Industries',
  duration: 32
}
[DemoAPI] [CompanyName] Company name generation completed successfully: {
  companyName: 'Consortium Wealth Industries',
  wasModified: false,
  strategy: 'full_combinatorial',
  processingTime: 33,
  timestamp: '2025-05-28T11:29:29.345Z'
}
[2025-05-28T11:29:29.379Z] [INFO] [App] GET /api/demo/generate-company-name 200 in 67ms :: {"success":true,"companyName":"Consortium Wealth Industries","wasModified":fa... 
[DemoAPI] [CompanyName] Starting unique company name generation: {
  timestamp: '2025-05-28T11:29:30.167Z',
  requestId: 'req_1748431770167_v2q418mnb'
}
[DemoAPI] [CompanyName] Loaded advanced name generation utilities
[CompanyNameUtils] Generating advanced company name {
  timestamp: '2025-05-28T11:29:30.168Z',
  module: 'CompanyNameUtils',
  operation: 'Generating advanced company name',
  baseName: 'Demo Company',
  attempt: 1,
  strategy: 'combinatorial'
}
[CompanyNameUtils] Generated full combinatorial name {
  timestamp: '2025-05-28T11:29:30.168Z',
  module: 'CompanyNameUtils',
  operation: 'Generated full combinatorial name',
  baseName: 'Demo Company',
  generatedName: 'Cyber Architecture Federation',
  components: { prefix: 'Cyber', core: 'Architecture', suffix: 'Federation' }
}
[DemoAPI] [CompanyName] Advanced generation produced: {
  generatedName: 'Cyber Architecture Federation',
  strategy: 'full_combinatorial',
  duration: 2
}
[DemoAPI] [CompanyName] Validating name uniqueness against database...
[CompanyNameUtils] Starting company name uniqueness check {
  timestamp: '2025-05-28T11:29:30.169Z',
  module: 'CompanyNameUtils',
  operation: 'Starting company name uniqueness check',
  companyName: 'Cyber Architecture Federation',
  nameLength: 29
}
[CompanyNameUtils] Company name is unique and available {
  timestamp: '2025-05-28T11:29:30.198Z',
  module: 'CompanyNameUtils',
  operation: 'Company name is unique and available',
  companyName: 'Cyber Architecture Federation',
  duration: 29
}
[DemoAPI] [CompanyName] Company name generation completed successfully: {
  companyName: 'Cyber Architecture Federation',
  wasModified: false,
  strategy: 'full_combinatorial',
  processingTime: 31,
  timestamp: '2025-05-28T11:29:30.199Z'
}
[2025-05-28T11:29:30.230Z] [INFO] [App] GET /api/demo/generate-company-name 200 in 63ms :: {"success":true,"companyName":"Cyber Architecture Federation","wasModified":f... 
[DemoAPI] [CompanyName] Starting unique company name generation: {
  timestamp: '2025-05-28T11:29:30.919Z',
  requestId: 'req_1748431770919_caca1hqge'
}
[DemoAPI] [CompanyName] Loaded advanced name generation utilities
[CompanyNameUtils] Generating advanced company name {
  timestamp: '2025-05-28T11:29:30.920Z',
  module: 'CompanyNameUtils',
  operation: 'Generating advanced company name',
  baseName: 'Demo Company',
  attempt: 1,
  strategy: 'combinatorial'
}
[CompanyNameUtils] Generated full combinatorial name {
  timestamp: '2025-05-28T11:29:30.920Z',
  module: 'CompanyNameUtils',
  operation: 'Generated full combinatorial name',
  baseName: 'Demo Company',
  generatedName: 'Future Management Global',
  components: { prefix: 'Future', core: 'Management', suffix: 'Global' }
}
[DemoAPI] [CompanyName] Advanced generation produced: {
  generatedName: 'Future Management Global',
  strategy: 'full_combinatorial',
  duration: 1
}
[DemoAPI] [CompanyName] Validating name uniqueness against database...
[CompanyNameUtils] Starting company name uniqueness check {
  timestamp: '2025-05-28T11:29:30.920Z',
  module: 'CompanyNameUtils',
  operation: 'Starting company name uniqueness check',
  companyName: 'Future Management Global',
  nameLength: 24
}
[CompanyNameUtils] Company name is unique and available {
  timestamp: '2025-05-28T11:29:30.951Z',
  module: 'CompanyNameUtils',
  operation: 'Company name is unique and available',
  companyName: 'Future Management Global',
  duration: 31
}
[DemoAPI] [CompanyName] Company name generation completed successfully: {
  companyName: 'Future Management Global',
  wasModified: false,
  strategy: 'full_combinatorial',
  processingTime: 32,
  timestamp: '2025-05-28T11:29:30.951Z'
}
[2025-05-28T11:29:30.982Z] [INFO] [App] GET /api/demo/generate-company-name 200 in 63ms :: {"success":true,"companyName":"Future Management Global","wasModified":false,... 
[2025-05-28T11:29:36.155Z] [INFO] [PeriodicTaskReconciliation] Reconciling batch of tasks {"module":"PeriodicTaskReconciliation","batchSize":10,"taskIds":[999,964,965,969,1001,973,971,978,981,976]}
[Task Progress] Calculated progress for task 999 (company_kyb): 0/30 = 0%
[Task Progress] Calculated progress for task 964 (ky3p): 0/0 = 0%
[Task Progress] Calculated progress for task 965 (open_banking): 0/44 = 0%
[Task Progress] Calculated progress for task 969 (open_banking): 0/44 = 0%
[Task Progress] Calculated progress for task 1001 (open_banking): 0/44 = 0%
[Task Progress] Calculated progress for task 973 (open_banking): 0/44 = 0%
[Task Progress] Calculated progress for task 971 (company_kyb): 30/30 = 100%
[Task Progress] Calculated progress for task 978 (open_banking): 0/44 = 0%
[Task Progress] Calculated progress for task 981 (ky3p): 0/0 = 0%
[Task Progress] Calculated progress for task 976 (company_kyb): 0/30 = 0%
[DemoAPI] 🏢 Raw company creation request: {
  name: 'Future Management Global',
  type: 'demo',
  persona: 'data-provider',
  companySize: 'medium',
  metadata: { networkSize: 5 }
}
[DemoTransformer] 🔄 Persona transformation: {
  original: 'data-provider',
  transformed: 'Data Provider',
  category: 'Bank',
  mappingFound: true,
  timestamp: '2025-05-28T11:29:38.497Z'
}
[DemoTransformer] 🔢 Network size validation: {
  requested: undefined,
  persona: 'data-provider',
  defaultForPersona: 5,
  validated: 5,
  wasAdjusted: false
}
[DemoTransformer] 🏢 Company data transformation: {
  input: {
    name: 'Future Management Global',
    persona: 'data-provider',
    networkSize: undefined
  },
  output: {
    name: 'Future Management Global',
    persona: 'Data Provider',
    category: 'Bank',
    networkSize: 5,
    shouldCreateNetwork: true
  },
  transformationSuccess: true,
  timestamp: '2025-05-28T11:29:38.497Z'
}
[DemoAPI] ✅ Company created successfully: {
  id: 678,
  name: 'Future Management Global',
  category: 'Bank',
  transformedPersona: 'Data Provider',
  shouldCreateNetwork: true
}
[DemoAPI] 🌐 Starting network creation for Data Provider: {
  bankId: 678,
  bankName: 'Future Management Global',
  targetNetworkSize: 5
}
[DemoAPI] 📊 FinTech discovery results: {
  requestedSize: 5,
  availableCount: 5,
  firstFewNames: [
    'SigmaHub Ventures',
    'Stream Path Solutions',
    'Cornerstone Financial Group'
  ]
}
[DemoAPI] ✅ Relationship created: {
  bank: 'Future Management Global',
  fintech: 'SigmaHub Ventures',
  relationshipId: '678-603'
}
[DemoAPI] ✅ Relationship created: {
  bank: 'Future Management Global',
  fintech: 'Stream Path Solutions',
  relationshipId: '678-642'
}
[DemoAPI] ✅ Relationship created: {
  bank: 'Future Management Global',
  fintech: 'Cornerstone Financial Group',
  relationshipId: '678-334'
}
[DemoAPI] ✅ Relationship created: {
  bank: 'Future Management Global',
  fintech: 'Finloft',
  relationshipId: '678-9'
}
[DemoAPI] ✅ Relationship created: {
  bank: 'Future Management Global',
  fintech: 'Wealthfront',
  relationshipId: '678-164'
}
[DemoAPI] 🎯 Network creation completed: {
  bankName: 'Future Management Global',
  targetSize: 5,
  successfulRelationships: 5,
  failedRelationships: 0,
  successRate: '100.0%'
}
[2025-05-28T11:29:38.783Z] [INFO] [App] POST /api/demo/company/create 200 in 286ms :: {"success":true,"company":{"id":678,"name":"Future Management Global","descri... 
[DemoAPI] 👤 Raw user creation request: {
  fullName: 'Henry Taylor',
  email: 'htaylor@futuremanagementglobal.com',
  companyId: 678,
  role: 'provider',
  persona: 'data-provider',
  demoSessionId: 'demo_1748431776883_data-provider',
  metadata: {
    createdViaDemo: true,
    persona: 'data-provider',
    setupTimestamp: '2025-05-28T11:29:36.883Z',
    demoType: 'interactive_demo'
  }
}
[DemoAPI] 🔍 Company ID resolution: {
  originalCompanyId: 678,
  actualCompanyId: undefined,
  metadataCompanyId: undefined,
  companyFromObject: undefined,
  resolvedId: 678
}
[DemoTransformer] 🔄 Persona transformation: {
  original: 'data-provider',
  transformed: 'Data Provider',
  category: 'Bank',
  mappingFound: true,
  timestamp: '2025-05-28T11:29:39.545Z'
}
[DemoTransformer] 👤 User data transformation: {
  input: {
    fullName: 'Henry Taylor',
    email: 'htaylor@futuremanagementglobal.com',
    companyId: 678,
    companyIdType: 'number',
    persona: 'data-provider'
  },
  output: {
    fullName: 'Henry Taylor',
    email: 'htaylor@futuremanagementglobal.com',
    companyId: 678,
    companyIdType: 'number',
    role: 'provider',
    persona: 'Data Provider'
  },
  companyIdTransformed: false,
  transformationSuccess: true,
  timestamp: '2025-05-28T11:29:39.546Z'
}
[DemoAPI] ✅ User created successfully: {
  id: 480,
  email: 'htaylor@futuremanagementglobal.com',
  fullName: 'Henry Taylor',
  companyId: 678,
  role: 'provider'
}
[2025-05-28T11:29:39.681Z] [INFO] [App] POST /api/demo/user/create 200 in 136ms :: {"success":true,"user":{"id":480,"email":"htaylor@futuremanagementglobal.com"... 
[2025-05-28T11:29:40.056Z] [INFO] [WebSocket] Received message from client client-1748431759936-u38vgnj {"module":"WebSocket","type":"ping","timestamp":"2025-05-28T11:29:39.915Z","connectionId":"ws_1748431758348_11k0xnp19"}
[2025-05-28T11:29:40.473Z] [INFO] [App] POST /api/demo/auth/setup 200 in 39ms :: {"success":true,"message":"Auth setup complete"} 
[DemoAPI] [Finalize] Starting demo environment finalization: {
  userId: undefined,
  companyId: 678,
  demoType: 'data-provider',
  timestamp: '2025-05-28T11:29:41.239Z'
}
[DemoAPI] [Finalize] Missing userId parameter
[2025-05-28T11:29:41.276Z] [WARN] [App] POST /api/demo/environment/finalize 400 in 38ms :: {"success":false,"error":"Missing required parameter: userId is required","co... 
[2025-05-28T11:29:47.971Z] [INFO] [WebSocket] Received message from client client-1748431757848-59tyl78 {"module":"WebSocket","type":"ping"}
[2025-05-28T11:29:49.040Z] [INFO] [WebSocket] Received message from client client-1748431758912-22g68i3 {"module":"WebSocket","type":"ping","timestamp":"2025-05-28T11:29:48.891Z","connectionId":"ws_1748431758890_stcicxwoa"}
[2025-05-28T11:29:49.532Z] [INFO] [WebSocket] Received message from client client-1748431759412-lx3w76t {"module":"WebSocket","type":"ping","timestamp":"2025-05-28T11:29:49.392Z","connectionId":"ws_1748431758350_z40h1o4za"}