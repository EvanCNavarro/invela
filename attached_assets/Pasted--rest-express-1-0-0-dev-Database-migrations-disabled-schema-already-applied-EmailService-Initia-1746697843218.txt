> rest-express@1.0.0 dev
Database migrations disabled - schema already applied
[EmailService] Initializing email service
[EmailService] Email service initialized successfully
[OpenAI] Service initialized with API key: API key is set
[Auth] Setting up authentication...
[Auth] Setting up PostgreSQL session store
[Auth] PostgreSQL session store initialized successfully
[Auth] Authentication setup completed
[2025-05-08T09:48:05.906Z] [INFO] [App] [KY3P-BATCH-UPDATE] Registering KY3P batch update routes 
[2025-05-08T09:48:05.906Z] [INFO] [App] Registering KY3P batch update routes 
[2025-05-08T09:48:05.907Z] [INFO] [App] [UnifiedKY3P] Registering unified KY3P update routes 
[Routes] Registered KY3P field key router
[Routes] Registered KY3P field key router
[2025-05-08T09:48:05.907Z] [INFO] [App] Registering KY3P field update routes 
[Routes] Setting up unified clear fields router
[Routes] Successfully registered unified clear fields router
[Routes] Setting up task broadcast router
[Routes] Successfully registered task broadcast router
[2025-05-08T09:48:05.908Z] [INFO] [App] [OpenBankingRoutes] Setting up routes... 
[Routes] Setting up transaction-based unified form submission router
[Routes] Successfully registered transaction-based unified form submission router
[Routes] Setting up unified form submission router
[Routes] Successfully registered unified form submission router
[Routes] Setting up transactional form submission router
[Routes] Successfully registered transactional form submission router
[Routes] Routes setup completed
[2025-05-08T09:48:05.910Z] [INFO] [App] [WebSocket] Setting up unified WebSocket server on path /ws 
[2025-05-08T09:48:05.910Z] [INFO] [WebSocket] Unified WebSocket server initialized successfully {"module":"WebSocket","clients":0,"path":"/ws","id":"i6did9","timestamp":"2025-05-08T09:48:05.910Z"}
[2025-05-08T09:48:05.910Z] [INFO] [App] [WebSocket] Unified WebSocket server initialized successfully 
[2025-05-08T09:48:05.910Z] [INFO] [App] Using existing unified WebSocket server 
[2025-05-08T09:48:05.910Z] [INFO] [App] [WebSocket] Legacy WebSocket server initialized successfully 
[2025-05-08T09:48:05.910Z] [INFO] [App] [ServerStartup] WebSocket server initialized with unified implementation 
[2025-05-08T09:48:05.910Z] [INFO] [App] [TaskWebSocket] WebSocket server registered with unified implementation 
[2025-05-08T09:48:05.910Z] [INFO] [App] [ServerStartup] WebSocket server registered with task-update utility 
[TaskBroadcast] WebSocket server reference set up
[TaskBroadcast] WebSocket server active with 0 connected clients
[2025-05-08T09:48:05.911Z] [INFO] [App] [ServerStartup] WebSocket server registered with task-broadcast utility 
[2025-05-08T09:48:05.911Z] [INFO] [App] Setting up Vite development server 
[ENV] Using PORT=5000 from environment (override: yes)
[ENV] Environment=development (production: no)
[2025-05-08T09:48:05.922Z] [INFO] [App] Server running on 0.0.0.0:5000 
[2025-05-08T09:48:05.922Z] [INFO] [App] Environment: development 
[Deployment] Server running on 0.0.0.0:5000
[Deployment] Environment: development
[Deployment] Port forwarding: Custom port: 5000
[Deployment] Development mode: Hot reloading enabled
[2025-05-08T09:48:05.923Z] [INFO] [App] Starting periodic task reconciliation system... 
[PeriodicTaskReconciliation] Stopped periodic reconciliation system
[PeriodicTaskReconciliation] Starting periodic reconciliation system (interval: 300000ms)
[2025-05-08T09:48:05.923Z] [INFO] [App] Task reconciliation system initialized successfully 
[2025-05-08T09:48:06.300Z] [INFO] [WebSocket] Client connected {"module":"WebSocket","clientId":"client-1746697686300-uj5mds2","clients":1}
[2025-05-08T09:48:06.420Z] [INFO] [WebSocket] Received message from client client-1746697686300-uj5mds2 {"module":"WebSocket","type":"authenticate","data":{"timestamp":"2025-05-08T09:48:06.313Z"}}
[2025-05-08T09:48:06.420Z] [INFO] [WebSocket] Authentication from client client-1746697686300-uj5mds2 {"module":"WebSocket","hasToken":true}
[2025-05-08T09:48:06.462Z] New client connected to the pool (1/3)
[Current Company] Fetching company for user: { userId: 318, companyId: 275 }
[Current Company] Found company: {
  id: 275,
  name: 'DevTest20',
  onboardingCompleted: false,
  riskScore: null,
  chosenScore: null,
  isDemo: true
}
[2025-05-08T09:48:06.636Z] [INFO] [App] GET /api/companies/current 304 in 71ms :: {"id":275,"name":"DevTest20","category":"FinTech","is_demo":true,"revenue_tie... 
[2025-05-08T09:48:06.910Z] [INFO] [App] [ServerStartup] WebSocket server active with 1 connected clients 
[2025-05-08T09:48:07.133Z] [INFO] [WebSocket] Client connected {"module":"WebSocket","clientId":"client-1746697687133-713jeo9","clients":2}
[Auth] Returning user session data
[2025-05-08T09:48:07.495Z] [INFO] [App] GET /api/companies/current 304 in 31ms :: {"id":275,"name":"DevTest20","category":"FinTech","is_demo":true,"revenue_tie... 
[2025-05-08T09:48:07.614Z] [INFO] [WebSocket] Received message from client client-1746697687133-713jeo9 {"module":"WebSocket","type":"authenticate","userId":318,"companyId":275,"clientId":"ws_1746697686626_pfe3gxyhu","timestamp":"2025-05-08T09:48:07.510Z"}
[2025-05-08T09:48:07.615Z] [INFO] [WebSocket] Authentication from client client-1746697687133-713jeo9 {"module":"WebSocket","userId":318,"companyId":275,"hasToken":true}
[2025-05-08T09:48:08.098Z] [INFO] [WebSocket] Client connected {"module":"WebSocket","clientId":"client-1746697688098-abcd8kf","clients":3}
[2025-05-08T09:48:08.217Z] [INFO] [WebSocket] Received message from client client-1746697688098-abcd8kf {"module":"WebSocket","type":"authenticate","userId":null,"companyId":null,"clientId":"ws_1746697337692_41c97px9y","timestamp":"2025-05-08T09:48:08.110Z"}
[2025-05-08T09:48:08.218Z] [INFO] [WebSocket] Authentication from client client-1746697688098-abcd8kf {"module":"WebSocket","userId":null,"companyId":null,"hasToken":true}
[2025-05-08T09:48:09.749Z] [INFO] [App] GET /api/companies/current 304 in 32ms :: {"id":275,"name":"DevTest20","category":"FinTech","is_demo":true,"revenue_tie... 
[2025-05-08T09:48:12.725Z] [INFO] [App] GET /api/companies/current 304 in 31ms :: {"id":275,"name":"DevTest20","category":"FinTech","is_demo":true,"revenue_tie... 
[2025-05-08T09:48:13.452Z] [INFO] [WebSocket] Client disconnected {"module":"WebSocket","clientId":"client-1746697688098-abcd8kf","code":1001,"reason":"","remainingClients":2}
[2025-05-08T09:48:13.452Z] [INFO] [WebSocket] Client disconnected {"module":"WebSocket","clientId":"client-1746697687133-713jeo9","code":1001,"reason":"","remainingClients":1}
[2025-05-08T09:48:13.452Z] [INFO] [WebSocket] Client disconnected {"module":"WebSocket","clientId":"client-1746697686300-uj5mds2","code":1001,"reason":"","remainingClients":0}
[2025-05-08T09:48:18.617Z] New client connected to the pool (2/3)
[2025-05-08T09:48:19.448Z] [INFO] [WebSocket] Client connected {"module":"WebSocket","clientId":"client-1746697699448-2funz96","clients":1}
[Auth] Unauthenticated user session
[2025-05-08T09:48:19.567Z] [INFO] [WebSocket] Received message from client client-1746697699448-2funz96 {"module":"WebSocket","type":"authenticate","data":{"timestamp":"2025-05-08T09:48:19.566Z"}}
[2025-05-08T09:48:19.567Z] [INFO] [WebSocket] Authentication from client client-1746697699448-2funz96 {"module":"WebSocket","hasToken":true}
[2025-05-08T09:48:20.531Z] [INFO] [WebSocket] Client disconnected {"module":"WebSocket","clientId":"client-1746697699448-2funz96","code":1001,"reason":"","remainingClients":0}
[PeriodicTaskReconciliation] Reconciling batch of 10 tasks: [
  706, 718, 771, 772,
  717, 719, 723, 766,
  724, 711
]
[Task Progress] Calculated progress for task 706 (ky3p): 0/0 = 0%
[2025-05-08T09:48:36.146Z] New client connected to the pool (3/3)
[Task Progress] Calculated progress for task 718 (ky3p): 1/120 = 1%
[Task Progress] Calculated progress for task 771 (ky3p): 0/0 = 0%
[Task Progress] Calculated progress for task 772 (open_banking): 0/44 = 0%
[Task Progress] Calculated progress for task 717 (company_kyb): 30/30 = 100%
[Task Progress] Calculated progress for task 719 (open_banking): 0/44 = 0%
[Task Progress] Calculated progress for task 723 (ky3p): 0/120 = 0%
[Task Progress] Calculated progress for task 766 (company_kyb): 30/30 = 100%
[Task Progress] Calculated progress for task 724 (open_banking): 44/44 = 100%
[Task Progress] Calculated progress for task 711 (open_banking): 0/44 = 0%
[Auth] Returning user session data
[Tasks] ====== Starting task fetch =====
[Tasks] User details: { id: 318, company_id: 275, email: '20@e.com' }
[2025-05-08T09:48:44.226Z] [INFO] [App] Performing dynamic task unlocking check for company {"companyId":275,"userId":318}
[2025-05-08T09:48:44.251Z] [INFO] [App] GET /api/companies/current 304 in 30ms :: {"id":275,"name":"DevTest20","category":"FinTech","is_demo":true,"revenue_tie... 
[2025-05-08T09:48:44.256Z] [INFO] [App] No completed KYB tasks found, skipping security task unlock check {"companyId":275}
[Tasks] Automatically unlocking all tasks for company { userId: 318, companyId: 275, requestedBy: 'automatic_task_unlock' }
[2025-05-08T09:48:44.257Z] [INFO] [App] [TaskDependencies] Unlocking ALL tasks for company {"companyId":275}
[2025-05-08T09:48:44.288Z] [INFO] [App] [TaskDependencies] Found user onboarding task that needs completion {"taskId":769,"userEmail":"20@e.com","currentStatus":"completed","currentProgress":100}
[TaskDependencies] Skipping task 770 with submission indicators {
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  hasFileId: false,
  status: 'ready_for_submission',
  progress: 100,
  isReadyForSubmission: true
}
[2025-05-08T09:48:44.288Z] [INFO] [App] [TaskDependencies] Found tasks to unlock {"companyId":275,"count":3,"taskIds":[771,769,772],"taskTypes":["ky3p","user_onboarding","open_banking"],"ky3pTaskCount":1,"ky3pTaskIds":[771]}
[2025-05-08T09:48:44.288Z] [INFO] [App] [TaskDependencies] Processing KY3P task {"taskId":771,"taskType":"ky3p","currentProgress":0,"currentStatus":"not_started","timestamp":"2025-05-08T09:48:44.288Z"}
[UnifiedProgress] Starting progress update for task 771 (ky3p) {
  taskId: 771,
  taskType: 'ky3p',
  diagnosticId: 'prog-1746697724289-857',
  metadata: [
    'locked',
    'prerequisite_completed',
    'prerequisite_completed_at',
    'dependencyUnlockOperation',
    'previousProgress',
    'previousStatus',
    'isKy3pTask',
    'isUserOnboardingTask'
  ]
}
[2025-05-08T09:48:44.338Z] [INFO] [WebSocket] Client connected {"module":"WebSocket","clientId":"client-1746697724338-9kk59nd","clients":1}
[UnifiedProgressCalc] Calculating progress for task 771 (ky3p)
[KY3P Progress] Calculated progress for task 771: {
  taskId: 771,
  taskType: 'ky3p',
  normalizedTaskType: 'ky3p',
  totalFields: 120,
  completedFields: 0,
  progress: 0,
  timeStamp: '2025-05-08T09:48:44.413Z'
}
[UnifiedProgressCalc] Task 771 (ky3p) progress: 0/120 = 0%
[2025-05-08T09:48:44.447Z] [INFO] [WebSocket] Broadcast message of type 'task_updated' sent to 1 clients {"module":"WebSocket","messageType":"task_updated","recipients":1,"totalClients":1,"filtered":false}
[2025-05-08T09:48:44.447Z] [DEBUG] [App] [UnifiedProgressCalc] Successfully broadcast task update using unified implementation {"taskId":771,"messageId":"msg_1746697724446_k64vmjgf"}
[2025-05-08T09:48:44.447Z] [INFO] [App] [UnifiedProgressCalc] Successfully broadcast task update for task 771 {"progress":0,"status":"not_started","messageId":"msg_1746697724446_k64vmjgf"}
[2025-05-08T09:48:44.447Z] [INFO] [App] [TaskDependencies] Unlocked task using unified progress calculator {"companyId":275,"taskId":771,"taskType":"ky3p","isKy3pTask":true,"calculatedProgress":0,"previousProgress":0,"wasPreserved":false}
[2025-05-08T09:48:44.447Z] [INFO] [App] [TaskDependencies] Setting User Onboarding task as completed {"taskId":769,"userEmail":"20@e.com","timestamp":"2025-05-08T09:48:44.447Z"}
[2025-05-08T09:48:44.458Z] [INFO] [WebSocket] Received message from client client-1746697724338-9kk59nd {"module":"WebSocket","type":"authenticate","data":{"timestamp":"2025-05-08T09:48:44.353Z"}}
[2025-05-08T09:48:44.458Z] [INFO] [WebSocket] Authentication from client client-1746697724338-9kk59nd {"module":"WebSocket","hasToken":true}
[2025-05-08T09:48:44.480Z] [DEBUG] [App] Broadcasting task update with object format {"taskId":769,"status":"completed"}
[WebSocket] Broadcast task_update to 1 clients (0 errors) { messageId: 'msg_1746697724480_7fpuqb699' }
[2025-05-08T09:48:44.480Z] [INFO] [App] Successfully broadcasted task_update message 
[UnifiedProgress] Starting progress update for task 772 (open_banking) {
  taskId: 772,
  taskType: 'open_banking',
  diagnosticId: 'prog-1746697724481-633',
  metadata: [
    'locked',
    'prerequisite_completed',
    'prerequisite_completed_at',
    'dependencyUnlockOperation',
    'previousProgress',
    'previousStatus',
    'isKy3pTask',
    'isUserOnboardingTask'
  ]
}
[UnifiedProgressCalc] Calculating progress for task 772 (open_banking)
[UnifiedProgressCalc] Task 772 (open_banking) progress: 0/44 = 0%
[2025-05-08T09:48:44.627Z] [INFO] [WebSocket] Broadcast message of type 'task_updated' sent to 1 clients {"module":"WebSocket","messageType":"task_updated","recipients":1,"totalClients":1,"filtered":false}
[2025-05-08T09:48:44.627Z] [DEBUG] [App] [UnifiedProgressCalc] Successfully broadcast task update using unified implementation {"taskId":772,"messageId":"msg_1746697724627_lfrwxr6l"}
[2025-05-08T09:48:44.627Z] [INFO] [App] [UnifiedProgressCalc] Successfully broadcast task update for task 772 {"progress":0,"status":"not_started","messageId":"msg_1746697724627_lfrwxr6l"}
[2025-05-08T09:48:44.628Z] [INFO] [App] [TaskDependencies] Unlocked task using unified progress calculator {"companyId":275,"taskId":772,"taskType":"open_banking","isKy3pTask":false,"calculatedProgress":0,"previousProgress":0,"wasPreserved":false}
[2025-05-08T09:48:44.628Z] [INFO] [App] [TaskDependencies] Successfully unlocked all tasks {"companyId":275,"count":3}
[Tasks] Successfully unlocked all tasks for company: 275
[Tasks] KYB tasks found: { count: 1 }
[Tasks] Query conditions: {
  conditions: {
    condition1: 'tasks.assigned_to = 318',
    condition2: 'tasks.created_by = 318',
    condition3: "tasks.company_id = 275 AND tasks.assigned_to IS NULL AND tasks.task_scope = 'company'",
    condition4: "tasks.task_type = 'user_onboarding' AND LOWER(tasks.user_email) = LOWER('20@e.com')"
  }
}
[Tasks] Tasks found: { count: 4 }
[2025-05-08T09:48:44.720Z] [INFO] [App] GET /api/tasks 200 in 496ms :: [{"id":771,"title":"2. S&P KY3P Security Assessment: DevTest20","description"... 
[2025-05-08T09:48:44.840Z] [INFO] [WebSocket] Client connected {"module":"WebSocket","clientId":"client-1746697724840-akx8hsz","clients":2}
[2025-05-08T09:48:44.904Z] [INFO] [App] GET /api/tasks 304 in 31ms :: [{"id":771,"title":"2. S&P KY3P Security Assessment: DevTest20","description"... 
[2025-05-08T09:48:44.966Z] [INFO] [WebSocket] Received message from client client-1746697724840-akx8hsz {"module":"WebSocket","type":"authenticate","userId":null,"companyId":null,"clientId":"ws_1746697723833_7i45gx69k","timestamp":"2025-05-08T09:48:44.852Z"}
[2025-05-08T09:48:44.967Z] [INFO] [WebSocket] Authentication from client client-1746697724840-akx8hsz {"module":"WebSocket","userId":null,"companyId":null,"hasToken":true}
[2025-05-08T09:48:46.032Z] [INFO] [WebSocket] Client connected {"module":"WebSocket","clientId":"client-1746697726032-e22es9h","clients":3}
[Auth] Returning user session data
[2025-05-08T09:48:46.408Z] [INFO] [App] GET /api/companies/current 304 in 32ms :: {"id":275,"name":"DevTest20","category":"FinTech","is_demo":true,"revenue_tie... 
[2025-05-08T09:48:46.535Z] [INFO] [WebSocket] Received message from client client-1746697726032-e22es9h {"module":"WebSocket","type":"authenticate","userId":318,"companyId":275,"clientId":"ws_1746697725548_qtjbyg1t7","timestamp":"2025-05-08T09:48:46.427Z"}
[2025-05-08T09:48:46.535Z] [INFO] [WebSocket] Authentication from client client-1746697726032-e22es9h {"module":"WebSocket","userId":318,"companyId":275,"hasToken":true}
[2025-05-08T09:48:47.734Z] [INFO] [App] GET /api/companies/current 304 in 33ms :: {"id":275,"name":"DevTest20","category":"FinTech","is_demo":true,"revenue_tie... 
[2025-05-08T09:48:50.735Z] [INFO] [App] GET /api/companies/current 304 in 37ms :: {"id":275,"name":"DevTest20","category":"FinTech","is_demo":true,"revenue_tie... 
[Current Company] Using cached company data: 275
[2025-05-08T09:48:53.739Z] [INFO] [App] GET /api/companies/current 304 in 32ms :: {"id":275,"name":"DevTest20","category":"FinTech","is_demo":true,"revenue_tie... 
[2025-05-08T09:48:56.738Z] [INFO] [App] GET /api/companies/current 304 in 31ms :: {"id":275,"name":"DevTest20","category":"FinTech","is_demo":true,"revenue_tie... 
[2025-05-08T09:48:59.725Z] [INFO] [App] GET /api/companies/current 304 in 31ms :: {"id":275,"name":"DevTest20","category":"FinTech","is_demo":true,"revenue_tie... 
[Tasks] Using cached task data for user: 318
[2025-05-08T09:49:00.487Z] [INFO] [App] GET /api/companies/current 304 in 31ms :: {"id":275,"name":"DevTest20","category":"FinTech","is_demo":true,"revenue_tie... 
[2025-05-08T09:49:00.495Z] [INFO] [App] GET /api/tasks 304 in 34ms :: [{"id":771,"title":"2. S&P KY3P Security Assessment: DevTest20","description"... 
[2025-05-08T09:49:02.483Z] [INFO] [App] GET /api/companies/current 304 in 43ms :: {"id":275,"name":"DevTest20","category":"FinTech","is_demo":true,"revenue_tie... 
[2025-05-08T09:49:05.461Z] [INFO] [App] GET /api/companies/current 304 in 36ms :: {"id":275,"name":"DevTest20","category":"FinTech","is_demo":true,"revenue_tie... 
[2025-05-08T09:49:06.154Z] [INFO] [WebSocket] Received message from client client-1746697726032-e22es9h {"module":"WebSocket","type":"ping","timestamp":"2025-05-08T09:49:06.049Z","connectionId":"ws_1746697725548_qtjbyg1t7"}
[Current Company] Fetching company for user: { userId: 318, companyId: 275 }
[Current Company] Found company: {
  id: 275,
  name: 'DevTest20',
  onboardingCompleted: false,
  riskScore: null,
  chosenScore: null,
  isDemo: true
}
[2025-05-08T09:49:08.761Z] [INFO] [App] GET /api/companies/current 304 in 62ms :: {"id":275,"name":"DevTest20","category":"FinTech","is_demo":true,"revenue_tie... 
[2025-05-08T09:49:11.717Z] [INFO] [App] GET /api/companies/current 304 in 31ms :: {"id":275,"name":"DevTest20","category":"FinTech","is_demo":true,"revenue_tie... 
[2025-05-08T09:49:14.652Z] [INFO] [WebSocket] Received message from client client-1746697724338-9kk59nd {"module":"WebSocket","type":"ping"}
[2025-05-08T09:49:14.717Z] [INFO] [App] GET /api/companies/current 304 in 32ms :: {"id":275,"name":"DevTest20","category":"FinTech","is_demo":true,"revenue_tie... 
[2025-05-08T09:49:17.751Z] [INFO] [App] GET /api/companies/current 304 in 33ms :: {"id":275,"name":"DevTest20","category":"FinTech","is_demo":true,"revenue_tie... 
[2025-05-08T09:49:20.718Z] [INFO] [App] GET /api/companies/current 304 in 30ms :: {"id":275,"name":"DevTest20","category":"FinTech","is_demo":true,"revenue_tie... 
[2025-05-08T09:49:23.719Z] [INFO] [App] GET /api/companies/current 304 in 32ms :: {"id":275,"name":"DevTest20","category":"FinTech","is_demo":true,"revenue_tie... 
[2025-05-08T09:49:26.654Z] [INFO] [WebSocket] Received message from client client-1746697726032-e22es9h {"module":"WebSocket","type":"ping","timestamp":"2025-05-08T09:49:26.547Z","connectionId":"ws_1746697725548_qtjbyg1t7"}
[2025-05-08T09:49:26.717Z] [INFO] [App] GET /api/companies/current 304 in 31ms :: {"id":275,"name":"DevTest20","category":"FinTech","is_demo":true,"revenue_tie... 
[2025-05-08T09:49:29.728Z] [INFO] [App] GET /api/companies/current 304 in 31ms :: {"id":275,"name":"DevTest20","category":"FinTech","is_demo":true,"revenue_tie... 
[2025-05-08T09:49:32.720Z] [INFO] [App] GET /api/companies/current 304 in 31ms :: {"id":275,"name":"DevTest20","category":"FinTech","is_demo":true,"revenue_tie... 
[2025-05-08T09:49:35.715Z] [INFO] [App] GET /api/companies/current 304 in 31ms :: {"id":275,"name":"DevTest20","category":"FinTech","is_demo":true,"revenue_tie... 
[2025-05-08T09:49:38.721Z] [INFO] [App] GET /api/companies/current 304 in 30ms :: {"id":275,"name":"DevTest20","category":"FinTech","is_demo":true,"revenue_tie... 
[Current Company] Using cached company data: 275
[2025-05-08T09:49:41.727Z] [INFO] [App] GET /api/companies/current 304 in 29ms :: {"id":275,"name":"DevTest20","category":"FinTech","is_demo":true,"revenue_tie... 
[2025-05-08T09:49:44.653Z] [INFO] [WebSocket] Received message from client client-1746697724338-9kk59nd {"module":"WebSocket","type":"ping"}
[2025-05-08T09:49:44.724Z] [INFO] [App] GET /api/companies/current 304 in 35ms :: {"id":275,"name":"DevTest20","category":"FinTech","is_demo":true,"revenue_tie... 
[2025-05-08T09:49:46.654Z] [INFO] [WebSocket] Received message from client client-1746697726032-e22es9h {"module":"WebSocket","type":"ping","timestamp":"2025-05-08T09:49:46.547Z","connectionId":"ws_1746697725548_qtjbyg1t7"}
[2025-05-08T09:49:47.716Z] [INFO] [App] GET /api/companies/current 304 in 31ms :: {"id":275,"name":"DevTest20","category":"FinTech","is_demo":true,"revenue_tie... 
[2025-05-08T09:49:50.733Z] [INFO] [App] GET /api/companies/current 304 in 31ms :: {"id":275,"name":"DevTest20","category":"FinTech","is_demo":true,"revenue_tie... 
[2025-05-08T09:49:53.728Z] [INFO] [App] GET /api/companies/current 304 in 30ms :: {"id":275,"name":"DevTest20","category":"FinTech","is_demo":true,"revenue_tie... 
[2025-05-08T09:49:56.721Z] [INFO] [App] GET /api/companies/current 304 in 30ms :: {"id":275,"name":"DevTest20","category":"FinTech","is_demo":true,"revenue_tie... 
[2025-05-08T09:49:59.729Z] [INFO] [App] GET /api/companies/current 304 in 33ms :: {"id":275,"name":"DevTest20","category":"FinTech","is_demo":true,"revenue_tie... 
[2025-05-08T09:50:02.717Z] [INFO] [App] GET /api/companies/current 304 in 30ms :: {"id":275,"name":"DevTest20","category":"FinTech","is_demo":true,"revenue_tie... 
[2025-05-08T09:50:05.796Z] [INFO] [App] GET /api/companies/current 304 in 74ms :: {"id":275,"name":"DevTest20","category":"FinTech","is_demo":true,"revenue_tie... 
[2025-05-08T09:50:06.658Z] [INFO] [WebSocket] Received message from client client-1746697726032-e22es9h {"module":"WebSocket","type":"ping","timestamp":"2025-05-08T09:50:06.549Z","connectionId":"ws_1746697725548_qtjbyg1t7"}
[2025-05-08T09:50:14.651Z] [INFO] [WebSocket] Received message from client client-1746697724338-9kk59nd {"module":"WebSocket","type":"ping"}
[Current Company] Fetching company for user: { userId: 318, companyId: 275 }
[Current Company] Found company: {
  id: 275,
  name: 'DevTest20',
  onboardingCompleted: false,
  riskScore: null,
  chosenScore: null,
  isDemo: true
}
[2025-05-08T09:50:19.708Z] [INFO] [App] GET /api/companies/current 304 in 64ms :: {"id":275,"name":"DevTest20","category":"FinTech","is_demo":true,"revenue_tie... 
[2025-05-08T09:50:20.012Z] [INFO] [App] GET /api/companies/current 304 in 31ms :: {"id":275,"name":"DevTest20","category":"FinTech","is_demo":true,"revenue_tie... 
[2025-05-08T09:50:20.450Z] [INFO] [App] GET /api/companies/current 304 in 32ms :: {"id":275,"name":"DevTest20","category":"FinTech","is_demo":true,"revenue_tie... 
[2025-05-08T09:50:23.441Z] [INFO] [App] GET /api/companies/current 304 in 31ms :: {"id":275,"name":"DevTest20","category":"FinTech","is_demo":true,"revenue_tie... 
[Tasks] ====== Starting task fetch =====
[Tasks] User details: { id: 318, company_id: 275, email: '20@e.com' }
[2025-05-08T09:50:25.321Z] [INFO] [App] Performing dynamic task unlocking check for company {"companyId":275,"userId":318}
[2025-05-08T09:50:25.351Z] [INFO] [App] No completed KYB tasks found, skipping security task unlock check {"companyId":275}
[Tasks] Automatically unlocking all tasks for company { userId: 318, companyId: 275, requestedBy: 'automatic_task_unlock' }
[2025-05-08T09:50:25.352Z] [INFO] [App] [TaskDependencies] Unlocking ALL tasks for company {"companyId":275}
[2025-05-08T09:50:25.382Z] [INFO] [App] [TaskDependencies] Found user onboarding task that needs completion {"taskId":769,"userEmail":"20@e.com","currentStatus":"completed","currentProgress":100}
[TaskDependencies] Skipping task 770 with submission indicators {
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  hasFileId: false,
  status: 'ready_for_submission',
  progress: 100,
  isReadyForSubmission: true
}
[2025-05-08T09:50:25.382Z] [INFO] [App] [TaskDependencies] Found tasks to unlock {"companyId":275,"count":3,"taskIds":[771,769,772],"taskTypes":["ky3p","user_onboarding","open_banking"],"ky3pTaskCount":1,"ky3pTaskIds":[771]}
[2025-05-08T09:50:25.382Z] [INFO] [App] [TaskDependencies] Processing KY3P task {"taskId":771,"taskType":"ky3p","currentProgress":0,"currentStatus":"not_started","timestamp":"2025-05-08T09:50:25.382Z"}
[UnifiedProgress] Starting progress update for task 771 (ky3p) {
  taskId: 771,
  taskType: 'ky3p',
  diagnosticId: 'prog-1746697825383-813',
  metadata: [
    'locked',
    'prerequisite_completed',
    'prerequisite_completed_at',
    'dependencyUnlockOperation',
    'previousProgress',
    'previousStatus',
    'isKy3pTask',
    'isUserOnboardingTask'
  ]
}
Suppressing further connection logs. Pool size: 3
[UnifiedProgressCalc] Calculating progress for task 771 (ky3p)
[KY3P Progress] Calculated progress for task 771: {
  taskId: 771,
  taskType: 'ky3p',
  normalizedTaskType: 'ky3p',
  totalFields: 120,
  completedFields: 0,
  progress: 0,
  timeStamp: '2025-05-08T09:50:25.544Z'
}
[UnifiedProgressCalc] Task 771 (ky3p) progress: 0/120 = 0%
[2025-05-08T09:50:25.546Z] [INFO] [App] GET /api/tasks/770 200 in 103ms :: {"id":770,"title":"1. KYB Form: DevTest20","description":"Complete KYB verifi... 
[2025-05-08T09:50:25.573Z] [INFO] [WebSocket] Broadcast message of type 'task_updated' sent to 3 clients {"module":"WebSocket","messageType":"task_updated","recipients":3,"totalClients":3,"filtered":false}
[2025-05-08T09:50:25.574Z] [DEBUG] [App] [UnifiedProgressCalc] Successfully broadcast task update using unified implementation {"taskId":771,"messageId":"msg_1746697825573_z8glc7xl"}
[2025-05-08T09:50:25.574Z] [INFO] [App] [UnifiedProgressCalc] Successfully broadcast task update for task 771 {"progress":0,"status":"not_started","messageId":"msg_1746697825573_z8glc7xl"}
[2025-05-08T09:50:25.574Z] [INFO] [App] [TaskDependencies] Unlocked task using unified progress calculator {"companyId":275,"taskId":771,"taskType":"ky3p","isKy3pTask":true,"calculatedProgress":0,"previousProgress":0,"wasPreserved":false}
[2025-05-08T09:50:25.574Z] [INFO] [App] [TaskDependencies] Setting User Onboarding task as completed {"taskId":769,"userEmail":"20@e.com","timestamp":"2025-05-08T09:50:25.574Z"}
[2025-05-08T09:50:25.577Z] [INFO] [App] GET /api/companies/current 304 in 67ms :: {"id":275,"name":"DevTest20","category":"FinTech","is_demo":true,"revenue_tie... 
[2025-05-08T09:50:25.605Z] [DEBUG] [App] Broadcasting task update with object format {"taskId":769,"status":"completed"}
[WebSocket] Broadcast task_update to 3 clients (0 errors) { messageId: 'msg_1746697825605_3n4dwiq7m' }
[2025-05-08T09:50:25.605Z] [INFO] [App] Successfully broadcasted task_update message 
[UnifiedProgress] Starting progress update for task 772 (open_banking) {
  taskId: 772,
  taskType: 'open_banking',
  diagnosticId: 'prog-1746697825606-508',
  metadata: [
    'locked',
    'prerequisite_completed',
    'prerequisite_completed_at',
    'dependencyUnlockOperation',
    'previousProgress',
    'previousStatus',
    'isKy3pTask',
    'isUserOnboardingTask'
  ]
}
[UnifiedProgressCalc] Calculating progress for task 772 (open_banking)
[UnifiedProgressCalc] Task 772 (open_banking) progress: 0/44 = 0%
[2025-05-08T09:50:25.754Z] [INFO] [WebSocket] Broadcast message of type 'task_updated' sent to 3 clients {"module":"WebSocket","messageType":"task_updated","recipients":3,"totalClients":3,"filtered":false}
[2025-05-08T09:50:25.755Z] [DEBUG] [App] [UnifiedProgressCalc] Successfully broadcast task update using unified implementation {"taskId":772,"messageId":"msg_1746697825754_69cy5of8"}
[2025-05-08T09:50:25.755Z] [INFO] [App] [UnifiedProgressCalc] Successfully broadcast task update for task 772 {"progress":0,"status":"not_started","messageId":"msg_1746697825754_69cy5of8"}
[2025-05-08T09:50:25.755Z] [INFO] [App] [TaskDependencies] Unlocked task using unified progress calculator {"companyId":275,"taskId":772,"taskType":"open_banking","isKy3pTask":false,"calculatedProgress":0,"previousProgress":0,"wasPreserved":false}
[2025-05-08T09:50:25.755Z] [INFO] [App] [TaskDependencies] Successfully unlocked all tasks {"companyId":275,"count":3}
[Tasks] Successfully unlocked all tasks for company: 275
[Tasks] KYB tasks found: { count: 1 }
[Tasks] Query conditions: {
  conditions: {
    condition1: 'tasks.assigned_to = 318',
    condition2: 'tasks.created_by = 318',
    condition3: "tasks.company_id = 275 AND tasks.assigned_to IS NULL AND tasks.task_scope = 'company'",
    condition4: "tasks.task_type = 'user_onboarding' AND LOWER(tasks.user_email) = LOWER('20@e.com')"
  }
}
[Tasks] Tasks found: { count: 4 }
[2025-05-08T09:50:25.848Z] [INFO] [App] GET /api/tasks 200 in 527ms :: [{"id":771,"title":"2. S&P KY3P Security Assessment: DevTest20","description"... 
[2025-05-08T09:50:26.034Z] [INFO] [App] GET /api/tasks 304 in 31ms :: [{"id":771,"title":"2. S&P KY3P Security Assessment: DevTest20","description"... 
[2025-05-08T09:50:26.154Z] [INFO] [WebSocket] Received message from client client-1746697726032-e22es9h {"module":"WebSocket","type":"ping","timestamp":"2025-05-08T09:50:26.049Z","connectionId":"ws_1746697725548_qtjbyg1t7"}
[Auth] Returning user session data
[Task Templates API] Fetching template for task type: company_kyb, user: 318
[Task Templates API] Found template: 1 (KYB Form) for task type: company_kyb
[Task Templates API] Retrieved 9 configuration items for template ID: 1
[2025-05-08T09:50:26.571Z] [INFO] [App] GET /api/tasks/770 304 in 61ms :: {"id":770,"title":"1. KYB Form: DevTest20","description":"Complete KYB verifi... 
[2025-05-08T09:50:26.599Z] [INFO] [App] GET /api/task-templates/by-type/company_kyb 304 in 92ms :: {"id":1,"name":"KYB Form","description":"Know Your Business form for company ... 
[2025-05-08T09:50:26.754Z] [INFO] [App] Fetching KYB fields 
[2025-05-08T09:50:26.786Z] [INFO] [App] KYB fields retrieved successfully {"fieldCount":30,"groups":["companyProfile","financialProfile","governanceLeadership","operationsCompliance"]}
[2025-05-08T09:50:26.817Z] [INFO] [App] GET /api/kyb/fields 304 in 63ms :: [{"id":1,"field_key":"legalEntityName","display_name":"Legal Entity Name","fi... 
[KYB API Debug] Loading progress for task: 770
[Task Reconciliation] Found 30 responses for task 770 (type: company_kyb)
[STATUS DETERMINATION] Calculating status for task with: {
  progress: 100,
  currentStatus: 'ready_for_submission',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  hasResponses: true,
  effectiveHasResponses: true,
  timestamp: '2025-05-08T09:50:27.049Z'
}
[STATUS DETERMINATION] Task has 100% progress but is not submitted, setting to READY_FOR_SUBMISSION
[Task Reconciliation] Progress calculation: {
  taskId: 770,
  currentProgress: 100,
  calculatedProgress: 100,
  currentStatus: 'ready_for_submission',
  calculatedStatus: 'ready_for_submission',
  responseCount: 30,
  completeCount: 30
}
[Task Reconciliation] No updates needed for task 770
[KYB API Debug] Retrieved task: {
  taskId: 770,
  status: 'ready_for_submission',
  progress: 100,
  metadata: [
    'company_id',
    'created_at',
    'statusFlow',
    'created_via',
    'lastUpdated',
    'status_flow',
    'company_name',
    'created_by_id',
    'prerequisite_for',
    'lastProgressReconciliation'
  ],
  timestamp: '2025-05-08T09:50:27.080Z'
}
[KYB API Debug] Retrieved responses: {
  responseCount: 30,
  fields: [
    { field: 'legalEntityName', status: 'COMPLETE', hasValue: true },
    { field: 'registrationNumber', status: 'COMPLETE', hasValue: true },
    {
      field: 'governmentOwnership',
      status: 'COMPLETE',
      hasValue: true
    },
    {
      field: 'ultimateBeneficialOwners',
      status: 'COMPLETE',
      hasValue: true
    },
    {
      field: 'directorsAndOfficers',
      status: 'COMPLETE',
      hasValue: true
    },
    { field: 'contactEmail', status: 'COMPLETE', hasValue: true },
    {
      field: 'marketCapitalization',
      status: 'COMPLETE',
      hasValue: true
    },
    {
      field: 'lifetimeCustomerValue',
      status: 'COMPLETE',
      hasValue: true
    },
    {
      field: 'annualRecurringRevenue',
      status: 'COMPLETE',
      hasValue: true
    },
    {
      field: 'monthlyRecurringRevenue',
      status: 'COMPLETE',
      hasValue: true
    },
    {
      field: 'investigationsIncidents',
      status: 'COMPLETE',
      hasValue: true
    },
    {
      field: 'operationalPolicies',
      status: 'COMPLETE',
      hasValue: true
    },
    { field: 'dataVolume', status: 'COMPLETE', hasValue: true },
    { field: 'dataTypes', status: 'COMPLETE', hasValue: true },
    { field: 'sanctionsCheck', status: 'COMPLETE', hasValue: true },
    { field: 'dueDiligence', status: 'COMPLETE', hasValue: true },
    { field: 'regulatoryActions', status: 'COMPLETE', hasValue: true },
    { field: 'incorporationDate', status: 'COMPLETE', hasValue: true },
    { field: 'businessType', status: 'COMPLETE', hasValue: true },
    { field: 'jurisdiction', status: 'COMPLETE', hasValue: true },
    { field: 'registeredAddress', status: 'COMPLETE', hasValue: true },
    { field: 'companyPhone', status: 'COMPLETE', hasValue: true },
    { field: 'priorNames', status: 'COMPLETE', hasValue: true },
    { field: 'goodStanding', status: 'COMPLETE', hasValue: true },
    {
      field: 'corporateRegistration',
      status: 'COMPLETE',
      hasValue: true
    },
    { field: 'externalAudit', status: 'COMPLETE', hasValue: true },
    { field: 'controlEnvironment', status: 'COMPLETE', hasValue: true },
    { field: 'authorizedSigners', status: 'COMPLETE', hasValue: true },
    {
      field: 'financialStatements',
      status: 'COMPLETE',
      hasValue: true
    },
    { field: 'licenses', status: 'COMPLETE', hasValue: true }
  ],
  timestamp: '2025-05-08T09:50:27.110Z'
}
[SERVER DEBUG] No savedFormData found in task table
[SERVER DEBUG] No KYB form file ID found in task metadata
[KYB API Debug] Retrieved task data: {
  id: 770,
  responseCount: 30,
  progress: 100,
  status: 'ready_for_submission',
  formDataKeys: [
    'legalEntityName',
    'registrationNumber',
    'governmentOwnership',
    'ultimateBeneficialOwners',
    'directorsAndOfficers',
    'contactEmail',
    'marketCapitalization',
    'lifetimeCustomerValue',
    'annualRecurringRevenue',
    'monthlyRecurringRevenue',
    'investigationsIncidents',
    'operationalPolicies',
    'dataVolume',
    'dataTypes',
    'sanctionsCheck',
    'dueDiligence',
    'regulatoryActions',
    'incorporationDate',
    'businessType',
    'jurisdiction',
    'registeredAddress',
    'companyPhone',
    'priorNames',
    'goodStanding',
    'corporateRegistration',
    'externalAudit',
    'controlEnvironment',
    'authorizedSigners',
    'financialStatements',
    'licenses'
  ]
}
===============================================
[SERVER DEBUG] PREPARING GET RESPONSE at 2025-05-08T09:50:27.111Z
[SERVER DEBUG] Task ID: 770, Found 30 fields in database
===============================================
[SERVER DEBUG] Checking field corporateRegistration in retrieved data: "Delaware State Filing Number 1234567, registered as FinTech Innovations LLC on 05/12/2010"
[SERVER DEBUG] Checking field goodStanding in retrieved data: "Yes"
[SERVER DEBUG] Checking field regulatoryActions in retrieved data: "Yes"
[SERVER DEBUG] Checking field investigationsIncidents in retrieved data: "No significant incidents in the past 3 years"
[SERVER DEBUG] No fields with value "asdf" found in GET response data
[SERVER DEBUG] Sending GET response with 30 fields, status: ready_for_submission, progress: 100%
===============================================
[2025-05-08T09:50:27.144Z] [INFO] [App] GET /api/kyb/progress/770 200 in 166ms :: {"formData":{"legalEntityName":"DevTest20","registrationNumber":"12-3456789",... 
[KYB API Debug] Loading progress for task: 770
[TimestampHandler] Retrieved 30 timestamps for task 770
[TimestampAPI] Returning 30 timestamps for task 770
[Task Reconciliation] Found 30 responses for task 770 (type: company_kyb)
[STATUS DETERMINATION] Calculating status for task with: {
  progress: 100,
  currentStatus: 'ready_for_submission',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  hasResponses: true,
  effectiveHasResponses: true,
  timestamp: '2025-05-08T09:50:27.360Z'
}
[STATUS DETERMINATION] Task has 100% progress but is not submitted, setting to READY_FOR_SUBMISSION
[Task Reconciliation] Progress calculation: {
  taskId: 770,
  currentProgress: 100,
  calculatedProgress: 100,
  currentStatus: 'ready_for_submission',
  calculatedStatus: 'ready_for_submission',
  responseCount: 30,
  completeCount: 30
}
[Task Reconciliation] No updates needed for task 770
[2025-05-08T09:50:27.365Z] [INFO] [App] GET /api/kyb/timestamps/770 200 in 71ms :: {"dataTypes":1746697306162,"sanctionsCheck":1746697306162,"dueDiligence":1746... 
[KYB API Debug] Retrieved task: {
  taskId: 770,
  status: 'ready_for_submission',
  progress: 100,
  metadata: [
    'company_id',
    'created_at',
    'statusFlow',
    'created_via',
    'lastUpdated',
    'status_flow',
    'company_name',
    'created_by_id',
    'prerequisite_for',
    'lastProgressReconciliation'
  ],
  timestamp: '2025-05-08T09:50:27.389Z'
}
[KYB API Debug] Retrieved responses: {
  responseCount: 30,
  fields: [
    { field: 'legalEntityName', status: 'COMPLETE', hasValue: true },
    { field: 'registrationNumber', status: 'COMPLETE', hasValue: true },
    {
      field: 'governmentOwnership',
      status: 'COMPLETE',
      hasValue: true
    },
    {
      field: 'ultimateBeneficialOwners',
      status: 'COMPLETE',
      hasValue: true
    },
    {
      field: 'directorsAndOfficers',
      status: 'COMPLETE',
      hasValue: true
    },
    { field: 'contactEmail', status: 'COMPLETE', hasValue: true },
    {
      field: 'marketCapitalization',
      status: 'COMPLETE',
      hasValue: true
    },
    {
      field: 'lifetimeCustomerValue',
      status: 'COMPLETE',
      hasValue: true
    },
    {
      field: 'annualRecurringRevenue',
      status: 'COMPLETE',
      hasValue: true
    },
    {
      field: 'monthlyRecurringRevenue',
      status: 'COMPLETE',
      hasValue: true
    },
    {
      field: 'investigationsIncidents',
      status: 'COMPLETE',
      hasValue: true
    },
    {
      field: 'operationalPolicies',
      status: 'COMPLETE',
      hasValue: true
    },
    { field: 'dataVolume', status: 'COMPLETE', hasValue: true },
    { field: 'dataTypes', status: 'COMPLETE', hasValue: true },
    { field: 'sanctionsCheck', status: 'COMPLETE', hasValue: true },
    { field: 'dueDiligence', status: 'COMPLETE', hasValue: true },
    { field: 'regulatoryActions', status: 'COMPLETE', hasValue: true },
    { field: 'incorporationDate', status: 'COMPLETE', hasValue: true },
    { field: 'businessType', status: 'COMPLETE', hasValue: true },
    { field: 'jurisdiction', status: 'COMPLETE', hasValue: true },
    { field: 'registeredAddress', status: 'COMPLETE', hasValue: true },
    { field: 'companyPhone', status: 'COMPLETE', hasValue: true },
    { field: 'priorNames', status: 'COMPLETE', hasValue: true },
    { field: 'goodStanding', status: 'COMPLETE', hasValue: true },
    {
      field: 'corporateRegistration',
      status: 'COMPLETE',
      hasValue: true
    },
    { field: 'externalAudit', status: 'COMPLETE', hasValue: true },
    { field: 'controlEnvironment', status: 'COMPLETE', hasValue: true },
    { field: 'authorizedSigners', status: 'COMPLETE', hasValue: true },
    {
      field: 'financialStatements',
      status: 'COMPLETE',
      hasValue: true
    },
    { field: 'licenses', status: 'COMPLETE', hasValue: true }
  ],
  timestamp: '2025-05-08T09:50:27.419Z'
}
[SERVER DEBUG] No savedFormData found in task table
[SERVER DEBUG] No KYB form file ID found in task metadata
[KYB API Debug] Retrieved task data: {
  id: 770,
  responseCount: 30,
  progress: 100,
  status: 'ready_for_submission',
  formDataKeys: [
    'legalEntityName',
    'registrationNumber',
    'governmentOwnership',
    'ultimateBeneficialOwners',
    'directorsAndOfficers',
    'contactEmail',
    'marketCapitalization',
    'lifetimeCustomerValue',
    'annualRecurringRevenue',
    'monthlyRecurringRevenue',
    'investigationsIncidents',
    'operationalPolicies',
    'dataVolume',
    'dataTypes',
    'sanctionsCheck',
    'dueDiligence',
    'regulatoryActions',
    'incorporationDate',
    'businessType',
    'jurisdiction',
    'registeredAddress',
    'companyPhone',
    'priorNames',
    'goodStanding',
    'corporateRegistration',
    'externalAudit',
    'controlEnvironment',
    'authorizedSigners',
    'financialStatements',
    'licenses'
  ]
}
===============================================
[SERVER DEBUG] PREPARING GET RESPONSE at 2025-05-08T09:50:27.428Z
[SERVER DEBUG] Task ID: 770, Found 30 fields in database
===============================================
[SERVER DEBUG] Checking field corporateRegistration in retrieved data: "Delaware State Filing Number 1234567, registered as FinTech Innovations LLC on 05/12/2010"
[SERVER DEBUG] Checking field goodStanding in retrieved data: "Yes"
[SERVER DEBUG] Checking field regulatoryActions in retrieved data: "Yes"
[SERVER DEBUG] Checking field investigationsIncidents in retrieved data: "No significant incidents in the past 3 years"
[SERVER DEBUG] No fields with value "asdf" found in GET response data
[SERVER DEBUG] Sending GET response with 30 fields, status: ready_for_submission, progress: 100%
===============================================
[2025-05-08T09:50:27.459Z] [INFO] [App] GET /api/kyb/progress/770 304 in 167ms :: {"formData":{"legalEntityName":"DevTest20","registrationNumber":"12-3456789",... 
[TimestampHandler] Retrieved 30 timestamps for task 770
[TimestampAPI] Returning 30 timestamps for task 770
[2025-05-08T09:50:27.671Z] [INFO] [App] GET /api/kyb/timestamps/770 304 in 61ms :: {"dataTypes":1746697306162,"sanctionsCheck":1746697306162,"dueDiligence":1746... 
[2025-05-08T09:50:28.732Z] [INFO] [App] GET /api/companies/current 304 in 30ms :: {"id":275,"name":"DevTest20","category":"FinTech","is_demo":true,"revenue_tie... 
[TransactionalFormRoutes] 📬 FORM SUBMISSION START - 2025-05-08T09:50:30.017Z {
  path: '/submit/kyb/770',
  method: 'POST',
  params: { formType: 'kyb', taskId: '770' },
  userPresent: true,
  userIdPresent: true,
  bodyKeys: [ 'taskId', 'formType', 'formData', 'companyId' ],
  timestamp: '2025-05-08T09:50:30.017Z'
}
[TransactionalFormRoutes] 🧾 Form submission parameters validated: {
  taskId: 770,
  formType: 'kyb',
  companyId: 275,
  userId: 318,
  formDataFields: 4
}
[2025-05-08T09:50:30.017Z] [INFO] [App] Received form submission request {"taskId":770,"formType":"kyb","userId":318,"companyId":275,"dataKeysCount":4}
[WebSocket] Broadcast form_submission to 3 clients (0 errors) { messageId: 'msg_1746697830017_jxb5uphjo' }
[2025-05-08T09:50:30.018Z] [INFO] [App] Successfully broadcasted form_submission message 
[2025-05-08T09:50:30.018Z] [INFO] [App] Starting transactional form submission {"taskId":770,"userId":318,"companyId":275,"formType":"kyb","fieldsCount":4}
[2025-05-08T09:50:30.018Z] [INFO] [App] Starting form submission transaction {"taskId":770,"userId":318,"companyId":275,"formType":"kyb","transactionId":"tx-1746697830018-ua3af","logContext":{"service":"TransactionalFormHandler"}}
[2025-05-08T09:50:30.019Z] [INFO] [WebSocket] Broadcast message of type 'task_updated' sent to 3 clients {"module":"WebSocket","messageType":"task_updated","recipients":3,"totalClients":3,"filtered":false}
[FormNotifications] Sent in-progress notification for kyb task 770 (25%)
[2025-05-08T09:50:30.019Z] [DEBUG] [TransactionManager] Starting new transaction {"module":"TransactionManager"}
[2025-05-08T09:50:30.048Z] [DEBUG] [TransactionManager] Transaction started successfully {"module":"TransactionManager"}
[TransactionalFormHandler] 🟢 TRANSACTION STARTED for task 770 (kyb)
[TransactionalFormHandler] Starting file creation for task 770 {
  taskId: 770,
  formType: 'kyb',
  companyId: 275,
  userId: 318,
  formDataKeys: 4,
  timestamp: '2025-05-08T09:50:30.078Z'
}
[2025-05-08T09:50:30.079Z] [INFO] [WebSocket] Broadcast message of type 'task_updated' sent to 3 clients {"module":"WebSocket","messageType":"task_updated","recipients":3,"totalClients":3,"filtered":false}
[FormNotifications] Sent in-progress notification for kyb task 770 (50%)
[2025-05-08T09:50:30.080Z] [INFO] [App] Creating file for kyb task 770 {"taskId":770,"normalizedFormType":"kyb"}
[2025-05-08T09:50:30.081Z] [INFO] [App] GET /api/tasks/770 304 in 61ms :: {"id":770,"title":"1. KYB Form: DevTest20","description":"Complete KYB verifi... 
[FileCreation] Retrieved 30 KYB responses for task 770 ordered by UI form order
[2025-05-08T09:50:30.111Z] [INFO] [App] Building CSV from 30 complete responses {"taskId":770}
[2025-05-08T09:50:30.111Z] [INFO] [App] Created 30 data rows from database responses {"taskId":770}
[2025-05-08T09:50:30.111Z] [INFO] [App] Created CSV with 30 rows (form fields only, no metadata rows) {"taskId":770}
[FileCreation] Created standard CSV file with 30 data rows for task 770
[FileCreation] CSV file created with 30 fields: {
  rowCount: 31,
  headerRow: [ 'id', 'question', 'response', 'field_key', 'timestamp' ],
  contentLength: 4089
}
[FileCreation] Created CSV file for task 770
[FileCreation] Creating file with metadata for task 770: {
  taskId: 770,
  formType: 'kyb',
  fileName: 'kyb_770_275_v1.0_20250508095030.csv',
  metadataFields: [
    'taskId',
    'taskType',
    'submissionDate',
    'formType',
    'formSubmission',
    'fieldCount',
    'fileName',
    'version',
    'jsonBackup'
  ]
}
[2025-05-08T09:50:30.112Z] [INFO] [App] Creating file: kyb_770_275_v1.0_20250508095030.csv {"companyId":275,"userId":318,"fileType":"text/csv","fileSize":4089}
[FileCreation] Creating file for company 275 by user 318 {
  fileName: 'kyb_770_275_v1.0_20250508095030.csv',
  fileType: 'text/csv',
  fileSize: 4089,
  timestamp: '2025-05-08T09:50:30.112Z'
}
[2025-05-08T09:50:30.145Z] [INFO] [App] File created successfully {"fileId":880,"fileName":"kyb_770_275_v1.0_20250508095030.csv","companyId":275}
[TransactionalFormHandler] File creation result for task 770: {
  success: true,
  fileId: 880,
  fileName: 'kyb_770_275_v1.0_20250508095030.csv',
  error: undefined,
  timestamp: '2025-05-08T09:50:30.145Z'
}
[TransactionalFormHandler] Verifying file 880 for task 770...
[TransactionalFormHandler] CRITICAL ERROR: File creation failed during transaction for task 770: {
  taskId: 770,
  formType: 'kyb',
  error: 'column "file_name" does not exist',
  stack: 'error: column "file_name" does not exist\n' +
    '    at cn.parseErrorMessage (file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1182:6)\n' +
    '    at cn.handlePacket (file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1143:13)\n' +
    '    at cn.parse (file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1127:36)\n' +
    '    at v.<anonymous> (file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1190:16)\n' +
    '    at v.emit (file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:397:12)\n' +
    '    at WebSocket.<anonymous> (file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:987:80)\n' +
    '    at callListener (/home/runner/workspace/node_modules/ws/lib/event-target.js:290:14)\n' +
    '    at WebSocket.onMessage (/home/runner/workspace/node_modules/ws/lib/event-target.js:209:9)\n' +
    '    at WebSocket.emit (node:events:518:28)\n' +
    '    at Receiver.receiverOnMessage (/home/runner/workspace/node_modules/ws/lib/websocket.js:1220:20)\n' +
    '    at Receiver.emit (node:events:518:28)\n' +
    '    at Receiver.dataMessage (/home/runner/workspace/node_modules/ws/lib/receiver.js:569:14)\n' +
    '    at Receiver.getData (/home/runner/workspace/node_modules/ws/lib/receiver.js:496:10)\n' +
    '    at Receiver.startLoop (/home/runner/workspace/node_modules/ws/lib/receiver.js:167:16)\n' +
    '    at Receiver._write (/home/runner/workspace/node_modules/ws/lib/receiver.js:94:10)\n' +
    '    at writeOrBuffer (node:internal/streams/writable:572:12)\n' +
    '    at _write (node:internal/streams/writable:501:10)\n' +
    '    at Writable.write (node:internal/streams/writable:510:10)\n' +
    '    at TLSSocket.socketOnData (/home/runner/workspace/node_modules/ws/lib/websocket.js:1355:35)\n' +
    '    at TLSSocket.emit (node:events:518:28)\n' +
    '    at addChunk (node:internal/streams/readable:561:12)\n' +
    '    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n' +
    '    at Readable.push (node:internal/streams/readable:392:5)\n' +
    '    at TLSWrap.onStreamRead (node:internal/stream_base_commons:191:23)',
  timestamp: '2025-05-08T09:50:30.248Z'
}
[2025-05-08T09:50:30.249Z] [ERROR] [App] Error creating file during transaction {"taskId":770,"formType":"kyb","error":"column \"file_name\" does not exist","stack":"error: column \"file_name\" does not exist\n    at cn.parseErrorMessage (file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1182:6)\n    at cn.handlePacket (file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1143:13)\n    at cn.parse (file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1127:36)\n    at v.<anonymous> (file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1190:16)\n    at v.emit (file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:397:12)\n    at WebSocket.<anonymous> (file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:987:80)\n    at callListener (/home/runner/workspace/node_modules/ws/lib/event-target.js:290:14)\n    at WebSocket.onMessage (/home/runner/workspace/node_modules/ws/lib/event-target.js:209:9)\n    at WebSocket.emit (node:events:518:28)\n    at Receiver.receiverOnMessage (/home/runner/workspace/node_modules/ws/lib/websocket.js:1220:20)\n    at Receiver.emit (node:events:518:28)\n    at Receiver.dataMessage (/home/runner/workspace/node_modules/ws/lib/receiver.js:569:14)\n    at Receiver.getData (/home/runner/workspace/node_modules/ws/lib/receiver.js:496:10)\n    at Receiver.startLoop (/home/runner/workspace/node_modules/ws/lib/receiver.js:167:16)\n    at Receiver._write (/home/runner/workspace/node_modules/ws/lib/receiver.js:94:10)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at Writable.write (node:internal/streams/writable:510:10)\n    at TLSSocket.socketOnData (/home/runner/workspace/node_modules/ws/lib/websocket.js:1355:35)\n    at TLSSocket.emit (node:events:518:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Readable.push (node:internal/streams/readable:392:5)\n    at TLSWrap.onStreamRead (node:internal/stream_base_commons:191:23)"}
[TransactionalFormHandler] Updating task 770 status to 'submitted' with 100% progress
[2025-05-08T09:50:30.249Z] [INFO] [App] [TransactionalFormHandler] Starting task status update to 'submitted' for task 770 {"taskId":770,"formType":"kyb","companyId":275,"transactionId":"tx-1746697830249-ilwjl"}
[TransactionalFormHandler] 🔴 TASK UPDATE START for task 770: {
  taskType: 'kyb',
  companyId: 275,
  submissionDate: '2025-05-08T09:50:30.249Z',
  timestamp: '2025-05-08T09:50:30.249Z',
  traceId: 'task_update_770_1746697830249',
  thread: 'main_transaction'
}
[TransactionalFormHandler] ❌ Error updating task status for task 770: {
  error: 'current transaction is aborted, commands ignored until end of transaction block',
  stack: 'error: current transaction is aborted, commands ignored until end of transaction block\n' +
    '    at cn.parseErrorMessage (file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1182:6)\n' +
    '    at cn.handlePacket (file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1143:13)\n' +
    '    at cn.parse (file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1127:36)\n' +
    '    at v.<anonymous> (file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1190:16)\n' +
    '    at v.emit (file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:397:12)\n' +
    '    at WebSocket.<anonymous> (file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:987:80)\n' +
    '    at callListener (/home/runner/workspace/node_modules/ws/lib/event-target.js:290:14)\n' +
    '    at WebSocket.onMessage (/home/runner/workspace/node_modules/ws/lib/event-target.js:209:9)\n' +
    '    at WebSocket.emit (node:events:518:28)\n' +
    '    at Receiver.receiverOnMessage (/home/runner/workspace/node_modules/ws/lib/websocket.js:1220:20)\n' +
    '    at Receiver.emit (node:events:518:28)\n' +
    '    at Receiver.dataMessage (/home/runner/workspace/node_modules/ws/lib/receiver.js:569:14)\n' +
    '    at Receiver.getData (/home/runner/workspace/node_modules/ws/lib/receiver.js:496:10)\n' +
    '    at Receiver.startLoop (/home/runner/workspace/node_modules/ws/lib/receiver.js:167:16)\n' +
    '    at Receiver._write (/home/runner/workspace/node_modules/ws/lib/receiver.js:94:10)\n' +
    '    at writeOrBuffer (node:internal/streams/writable:572:12)\n' +
    '    at _write (node:internal/streams/writable:501:10)\n' +
    '    at Writable.write (node:internal/streams/writable:510:10)\n' +
    '    at TLSSocket.socketOnData (/home/runner/workspace/node_modules/ws/lib/websocket.js:1355:35)\n' +
    '    at TLSSocket.emit (node:events:518:28)\n' +
    '    at addChunk (node:internal/streams/readable:561:12)\n' +
    '    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n' +
    '    at Readable.push (node:internal/streams/readable:392:5)\n' +
    '    at TLSWrap.onStreamRead (node:internal/stream_base_commons:191:23)'
}
[2025-05-08T09:50:30.278Z] [ERROR] [App] Error updating task status during transaction {"taskId":770,"formType":"kyb","error":"current transaction is aborted, commands ignored until end of transaction block"}
[TransactionalFormHandler] 🔥 TRANSACTION ABORTED for task 770: throwing to trigger proper rollback {
  error: 'current transaction is aborted, commands ignored until end of transaction block',
  taskId: 770,
  formType: 'kyb',
  timestamp: '2025-05-08T09:50:30.278Z'
}
[Transaction Manager] Error during transaction execution {
  error: 'current transaction is aborted, commands ignored until end of transaction block',
  stack: 'error: current transaction is aborted, commands ignored until end of transaction block\n' +
    '    at cn.parseErrorMessage (file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1182:6)\n' +
    '    at cn.handlePacket (file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1143:13)\n' +
    '    at cn.parse (file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1127:36)\n' +
    '    at v.<anonymous> (file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1190:16)\n' +
    '    at v.emit (file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:397:12)\n' +
    '    at WebSocket.<anonymous> (file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:987:80)\n' +
    '    at callListener (/home/runner/workspace/node_modules/ws/lib/event-target.js:290:14)\n' +
    '    at WebSocket.onMessage (/home/runner/workspace/node_modules/ws/lib/event-target.js:209:9)\n' +
    '    at WebSocket.emit (node:events:518:28)\n' +
    '    at Receiver.receiverOnMessage (/home/runner/workspace/node_modules/ws/lib/websocket.js:1220:20)\n' +
    '    at Receiver.emit (node:events:518:28)\n' +
    '    at Receiver.dataMessage (/home/runner/workspace/node_modules/ws/lib/receiver.js:569:14)\n' +
    '    at Receiver.getData (/home/runner/workspace/node_modules/ws/lib/receiver.js:496:10)\n' +
    '    at Receiver.startLoop (/home/runner/workspace/node_modules/ws/lib/receiver.js:167:16)\n' +
    '    at Receiver._write (/home/runner/workspace/node_modules/ws/lib/receiver.js:94:10)\n' +
    '    at writeOrBuffer (node:internal/streams/writable:572:12)\n' +
    '    at _write (node:internal/streams/writable:501:10)\n' +
    '    at Writable.write (node:internal/streams/writable:510:10)\n' +
    '    at TLSSocket.socketOnData (/home/runner/workspace/node_modules/ws/lib/websocket.js:1355:35)\n' +
    '    at TLSSocket.emit (node:events:518:28)\n' +
    '    at addChunk (node:internal/streams/readable:561:12)\n' +
    '    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n' +
    '    at Readable.push (node:internal/streams/readable:392:5)\n' +
    '    at TLSWrap.onStreamRead (node:internal/stream_base_commons:191:23)',
  timestamp: '2025-05-08T09:50:30.278Z'
}
[2025-05-08T09:50:30.278Z] [DEBUG] [TransactionManager] Rolling back transaction {"module":"TransactionManager"}
[2025-05-08T09:50:30.307Z] [DEBUG] [TransactionManager] Transaction rolled back successfully {"module":"TransactionManager"}
[2025-05-08T09:50:30.307Z] [DEBUG] [TransactionManager] Rolling back transaction {"module":"TransactionManager"}
[2025-05-08T09:50:30.341Z] [ERROR] [TransactionManager] Failed to rollback transaction {"module":"TransactionManager","error":"Release called on client which has already been released to the pool.","stack":"Error: Release called on client which has already been released to the pool.\n    at throwOnDoubleRelease (file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1342:55)\n    at An.release (file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1395:55)\n    at rollbackTransaction (/home/runner/workspace/server/services/transaction-manager.ts:102:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async withTransactionContext (/home/runner/workspace/server/services/transaction-manager.ts:240:9)\n    at async submitFormWithTransaction (/home/runner/workspace/server/services/transactional-form-handler.ts:91:12)\n    at async <anonymous> (/home/runner/workspace/server/routes/transactional-form-routes.ts:111:22)","timestamp":"2025-05-08T09:50:30.341Z","isAborted":false}
[Transaction Manager] 🔥 ROLLBACK FAILURE: {
  error: 'Release called on client which has already been released to the pool.',
  timestamp: '2025-05-08T09:50:30.341Z',
  isAborted: false,
  source: 'rollbackTransaction'
}
[Transaction Manager] Failed to rollback transaction during error handling {
  originalError: 'current transaction is aborted, commands ignored until end of transaction block',
  rollbackError: 'Release called on client which has already been released to the pool.',
  timestamp: '2025-05-08T09:50:30.341Z'
}
[2025-05-08T09:50:30.341Z] [ERROR] [App] [ENHANCED ERROR] Error in transactional form submission: TX_ERROR_DEADLOCK {"taskId":770,"formType":"kyb","userId":318,"companyId":275,"error":"current transaction is aborted, commands ignored until end of transaction block","stack":"error: current transaction is aborted, commands ignored until end of transaction block\n    at cn.parseErrorMessage (file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1182:6)\n    at cn.handlePacket (file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1143:13)\n    at cn.parse (file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1127:36)\n    at v.<anonymous> (file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1190:16)\n    at v.emit (file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:397:12)\n    at WebSocket.<anonymous> (file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:987:80)\n    at callListener (/home/runner/workspace/node_modules/ws/lib/event-target.js:290:14)\n    at WebSocket.onMessage (/home/runner/workspace/node_modules/ws/lib/event-target.js:209:9)\n    at WebSocket.emit (node:events:518:28)\n    at Receiver.receiverOnMessage (/home/runner/workspace/node_modules/ws/lib/websocket.js:1220:20)\n    at Receiver.emit (node:events:518:28)\n    at Receiver.dataMessage (/home/runner/workspace/node_modules/ws/lib/receiver.js:569:14)\n    at Receiver.getData (/home/runner/workspace/node_modules/ws/lib/receiver.js:496:10)\n    at Receiver.startLoop (/home/runner/workspace/node_modules/ws/lib/receiver.js:167:16)\n    at Receiver._write (/home/runner/workspace/node_modules/ws/lib/receiver.js:94:10)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at Writable.write (node:internal/streams/writable:510:10)\n    at TLSSocket.socketOnData (/home/runner/workspace/node_modules/ws/lib/websocket.js:1355:35)\n    at TLSSocket.emit (node:events:518:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Readable.push (node:internal/streams/readable:392:5)\n    at TLSWrap.onStreamRead (node:internal/stream_base_commons:191:23)","errorPhase":"transaction","errorOrigin":"database","errorCode":"TX_ERROR_DEADLOCK","timestamp":"2025-05-08T09:50:30.341Z","requestPath":"/api/forms-tx/submit/kyb/770","errorType":"DatabaseError","logContext":{"service":"TransactionalFormHandler"},"objectKeys":"length,name,severity,code,detail,hint,position,internalPosition,internalQuery,where,schema,table,column,dataType,constraint,file,line,routine","isDatabaseError":false,"isConstraintError":false,"isInvalidInput":false,"isTransactionError":true}
[TransactionalFormHandler] 🔴 SUBMISSION FAILURE for task 770 (kyb): {
  errorCode: 'TX_ERROR_DEADLOCK',
  errorOrigin: 'database',
  errorPhase: 'transaction',
  message: 'current transaction is aborted, commands ignored until end of transaction block',
  timestamp: '2025-05-08T09:50:30.341Z',
  stack: 'error: current transaction is aborted, commands ignored until end of transaction block\n' +
    '    at cn.parseErrorMessage (file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1182:6)\n' +
    '    at cn.handlePacket (file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1143:13)\n' +
    '    at cn.parse (file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1127:36)\n' +
    '    at v.<anonymous> (file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1190:16)'
}
[2025-05-08T09:50:30.342Z] [INFO] [WebSocket] Broadcast message of type 'task_updated' sent to 3 clients {"module":"WebSocket","messageType":"task_updated","recipients":3,"totalClients":3,"filtered":false}
[FormNotifications] Sent error notification for kyb task 770: Form submission failed: current transaction is aborted, commands ignored until end of transaction block
[WebSocket] Broadcast form_submission to 3 clients (0 errors) { messageId: 'msg_1746697830342_abhu8v3nw' }
[2025-05-08T09:50:30.342Z] [INFO] [App] Successfully broadcasted form_submission message 
[2025-05-08T09:50:30.372Z] [ERROR] [App] POST /api/forms-tx/submit/kyb/770 500 in 355ms :: {"success":false,"message":"Form submission failed","error":"current transact... 
[2025-05-08T09:50:31.733Z] [INFO] [App] GET /api/companies/current 304 in 31ms :: {"id":275,"name":"DevTest20","category":"FinTech","is_demo":true,"revenue_tie... 
[2025-05-08T09:50:34.735Z] [INFO] [App] GET /api/companies/current 304 in 30ms :: {"id":275,"name":"DevTest20","category":"FinTech","is_demo":true,"revenue_tie... 
[2025-05-08T09:50:37.744Z] [INFO] [App] GET /api/companies/current 304 in 30ms :: {"id":275,"name":"DevTest20","category":"FinTech","is_demo":true,"revenue_tie... 
[2025-05-08T09:50:40.740Z] [INFO] [App] GET /api/companies/current 304 in 30ms :: {"id":275,"name":"DevTest20","category":"FinTech","is_demo":true,"revenue_tie... 