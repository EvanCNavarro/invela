[SERVER DEBUG] No savedFormData found in task table
[SERVER DEBUG] Found KYB form file ID 715 in task metadata
[SERVER DEBUG] Only 0 fields found in database, attempting to load from CSV file
[SERVER DEBUG] Attempting to load form data from CSV file ID: 715
[SERVER DEBUG] File has path: Question Number,Group,Question,Answer,Type
1,companyProfile,Legal Entity Name,DevelopmentTesting4,TEXT
2,companyProfile,Registration Number,12-3456789,TEXT
3,companyProfile,Incorporation Date,5/12/2010,DATE
4,companyProfile,Business Type,Limited Liability Company (LLC),TEXT
5,companyProfile,Jurisdiction,"Delaware, United States",TEXT
6,companyProfile,Registered Address,"123 Market Street, Wilmington, DE 19801",TEXT
7,companyProfile,Company Phone Number,(302) 555-1234,TEXT
8,companyProfile,Previous Name,None,TEXT
9,governanceLeadership,Licenses,"Money Transmitter License #MT-12345, Financial Data Provider License #FDP-98765",TEXT
10,governanceLeadership,Good Standing,Yes,BOOLEAN
11,governanceLeadership,Corporate Registration,No,TEXT
12,governanceLeadership,External Audit,No,BOOLEAN
13,governanceLeadership,Control Environment,Yes,BOOLEAN
14,governanceLeadership,Authorized Signers,"John Smith (CEO), Sarah Johnson (CFO), Michael Wong (COO)",TEXT
15,governanceLeadership,Government Ownership,No,BOOLEAN
16,governanceLeadership,Ultimate Beneficial Owners,None,TEXT
17,governanceLeadership,Directors and Officers,"John Smith (Chairman), Jane Doe (Director), Mike Johnson (Director)",TEXT
18,governanceLeadership,Representative Email,email@e3.com,EMAIL
19,financialProfile,Market Capitalization,$75 million (privately held),TEXT
20,financialProfile,Lifetime Customer Value,"$1,250",TEXT
21,financialProfile,Annual Recurring Revenue,"5,000,000",MULTIPLE_CHOICE
22,financialProfile,Monthly Recurring Revenue,"12,500,000",TEXT
23,operationsCompliance,Legal Investigations,No significant incidents in the past 3 years,BOOLEAN
24,operationsCompliance,Financial Statements,Yes,TEXT
25,operationsCompliance,Operational Policies,"ISO 27001 certified, SOC 2 Type II compliant",TEXT
26,operationsCompliance,Data Volume,Approximately 2 million records per month,TEXT
27,operationsCompliance,Data Types,"Financial transaction data, Account balances, Customer KYC information",TEXT
28,operationsCompliance,Sanctions Check,Approximately 2 million records per month,TEXT
29,operationsCompliance,Due Diligence,Yes,TEXT
30,operationsCompliance,Regulatory Orders,Yes,BOOLEAN
[SERVER DEBUG] CSV parsed: 30 rows, headers: Question Number, Group, Question, Answer, Type
[SERVER DEBUG] Extracted 30 field values from CSV
[SERVER DEBUG] Successfully loaded 30 fields from CSV file
[SERVER DEBUG] Updating database with recovered form data from CSV file
[SERVER DEBUG] Successfully updated task.savedFormData with recovered CSV data
[KYB API Debug] Task is submitted, enforcing 100% progress (original was 100%)
[KYB API Debug] Retrieved task data: {
  id: 372,
  responseCount: 60,
  progress: 100,
  status: 'submitted',
  formDataKeys: [
    'legalEntityName',
    'registrationNumber',
    'incorporationDate',
    'businessType',
    'jurisdiction',
    'registeredAddress',
    'companyPhone',
    'priorNames',
    'licenses',
    'goodStanding',
    'corporateRegistration',
    'externalAudit',
    'controlEnvironment',
    'authorizedSigners',
    'governmentOwnership',
    'ultimateBeneficialOwners',
    'directorsAndOfficers',
    'contactEmail',
    'marketCapitalization',
    'lifetimeCustomerValue',
    'annualRecurringRevenue',
    'monthlyRecurringRevenue',
    'investigationsIncidents',
    'financialStatements',
    'operationalPolicies',
    'dataVolume',
    'dataTypes',
    'sanctionsCheck',
    'dueDiligence',
    'regulatoryActions'
  ]
}
===============================================
[SERVER DEBUG] PREPARING GET RESPONSE at 2025-04-20T09:31:50.868Z
[SERVER DEBUG] Task ID: 372, Found 60 fields in database
===============================================
[SERVER DEBUG] Checking field corporateRegistration in retrieved data: "No"
[SERVER DEBUG] Checking field goodStanding in retrieved data: "Yes"
[SERVER DEBUG] Checking field regulatoryActions in retrieved data: "Yes"
[SERVER DEBUG] Checking field investigationsIncidents in retrieved data: "No significant incidents in the past 3 years"
[SERVER DEBUG] No fields with value "asdf" found in GET response data
[SERVER DEBUG] Sending GET response with 30 fields, status: submitted, progress: 100%
===============================================
9:31:50 AM [info] GET /api/kyb/progress/372 304 in 1075ms :: {"formData":{"legalEntityName":"DevelopmentTesting4","registrationNumber":"12...
[KYB API Debug] Loading progress for task: 372
[Task Reconciliation] Skipping task in terminal/submitted state: {
  taskId: 372,
  status: 'submitted',
  hasSubmissionDate: true,
  submissionDate: '2025-04-20T09:26:00.607Z',
  terminalState: true
}
[TimestampHandler] Retrieved 31 timestamps for task 372
[TimestampAPI] Returning 31 timestamps for task 372
[KYB API Debug] Retrieved task: {
  taskId: 372,
  status: 'submitted',
  progress: 100,
  metadata: [
    'company_id',
    'created_at',
    'statusFlow',
    'created_via',
    'formVersion',
    'kybFormFile',
    'lastUpdated',
    'status_flow',
    'company_name',
    'created_by_id',
    'submissionDate',
    'prerequisite_for',
    'lastProgressReconciliation'
  ],
  timestamp: '2025-04-20T09:31:51.098Z'
}
9:31:51 AM [info] GET /api/kyb/timestamps/372 304 in 58ms :: {"contactEmail":1745134670080,"marketCapitalization":1745134670080,"lifetimeC...
[KYB API Debug] Retrieved responses: {
  responseCount: 60,
  fields: [
    { field: 'dataVolume', status: 'COMPLETE', hasValue: true },
    { field: 'dataTypes', status: 'COMPLETE', hasValue: true },
    { field: 'sanctionsCheck', status: 'COMPLETE', hasValue: true },
    { field: 'externalAudit', status: 'COMPLETE', hasValue: true },
    { field: 'controlEnvironment', status: 'COMPLETE', hasValue: true },
    { field: 'dueDiligence', status: 'COMPLETE', hasValue: true },
    { field: 'regulatoryActions', status: 'COMPLETE', hasValue: true },
    { field: 'authorizedSigners', status: 'COMPLETE', hasValue: true },
    {
      field: 'governmentOwnership',
      status: 'COMPLETE',
      hasValue: true
    },
    {
      field: 'ultimateBeneficialOwners',
      status: 'COMPLETE',
      hasValue: true
    },
    {
      field: 'directorsAndOfficers',
      status: 'COMPLETE',
      hasValue: true
    },
    { field: 'contactEmail', status: 'COMPLETE', hasValue: true },
    {
      field: 'marketCapitalization',
      status: 'COMPLETE',
      hasValue: true
    },
    {
      field: 'lifetimeCustomerValue',
      status: 'COMPLETE',
      hasValue: true
    },
    {
      field: 'annualRecurringRevenue',
      status: 'COMPLETE',
      hasValue: true
    },
    {
      field: 'monthlyRecurringRevenue',
      status: 'COMPLETE',
      hasValue: true
    },
    { field: 'legalEntityName', status: 'COMPLETE', hasValue: true },
    { field: 'registrationNumber', status: 'COMPLETE', hasValue: true },
    { field: 'incorporationDate', status: 'COMPLETE', hasValue: true },
    { field: 'businessType', status: 'COMPLETE', hasValue: true },
    { field: 'jurisdiction', status: 'COMPLETE', hasValue: true },
    { field: 'registeredAddress', status: 'COMPLETE', hasValue: true },
    { field: 'companyPhone', status: 'COMPLETE', hasValue: true },
    { field: 'priorNames', status: 'COMPLETE', hasValue: true },
    { field: 'licenses', status: 'COMPLETE', hasValue: true },
    { field: 'goodStanding', status: 'COMPLETE', hasValue: true },
    {
      field: 'corporateRegistration',
      status: 'COMPLETE',
      hasValue: true
    },
    {
      field: 'investigationsIncidents',
      status: 'COMPLETE',
      hasValue: true
    },
    {
      field: 'financialStatements',
      status: 'COMPLETE',
      hasValue: true
    },
    {
      field: 'operationalPolicies',
      status: 'COMPLETE',
      hasValue: true
    },
    { field: 'legalEntityName', status: 'COMPLETE', hasValue: true },
    { field: 'registrationNumber', status: 'COMPLETE', hasValue: true },
    { field: 'incorporationDate', status: 'COMPLETE', hasValue: true },
    { field: 'businessType', status: 'COMPLETE', hasValue: true },
    { field: 'jurisdiction', status: 'COMPLETE', hasValue: true },
    { field: 'registeredAddress', status: 'COMPLETE', hasValue: true },
    { field: 'companyPhone', status: 'COMPLETE', hasValue: true },
    { field: 'priorNames', status: 'COMPLETE', hasValue: true },
    { field: 'licenses', status: 'COMPLETE', hasValue: true },
    { field: 'goodStanding', status: 'COMPLETE', hasValue: true },
    {
      field: 'corporateRegistration',
      status: 'COMPLETE',
      hasValue: true
    },
    { field: 'externalAudit', status: 'COMPLETE', hasValue: true },
    { field: 'controlEnvironment', status: 'COMPLETE', hasValue: true },
    { field: 'authorizedSigners', status: 'COMPLETE', hasValue: true },
    {
      field: 'governmentOwnership',
      status: 'COMPLETE',
      hasValue: true
    },
    {
      field: 'ultimateBeneficialOwners',
      status: 'COMPLETE',
      hasValue: true
    },
    {
      field: 'directorsAndOfficers',
      status: 'COMPLETE',
      hasValue: true
    },
    { field: 'contactEmail', status: 'COMPLETE', hasValue: true },
    {
      field: 'marketCapitalization',
      status: 'COMPLETE',
      hasValue: true
    },
    {
      field: 'lifetimeCustomerValue',
      status: 'COMPLETE',
      hasValue: true
    },
    {
      field: 'annualRecurringRevenue',
      status: 'COMPLETE',
      hasValue: true
    },
    {
      field: 'monthlyRecurringRevenue',
      status: 'COMPLETE',
      hasValue: true
    },
    {
      field: 'investigationsIncidents',
      status: 'COMPLETE',
      hasValue: true
    },
    {
      field: 'financialStatements',
      status: 'COMPLETE',
      hasValue: true
    },
    {
      field: 'operationalPolicies',
      status: 'COMPLETE',
      hasValue: true
    },
    { field: 'dataVolume', status: 'COMPLETE', hasValue: true },
    { field: 'dataTypes', status: 'COMPLETE', hasValue: true },
    { field: 'sanctionsCheck', status: 'COMPLETE', hasValue: true },
    { field: 'dueDiligence', status: 'COMPLETE', hasValue: true },
    { field: 'regulatoryActions', status: 'COMPLETE', hasValue: true }
  ],
  timestamp: '2025-04-20T09:31:51.127Z'
}
[SERVER DEBUG] No savedFormData found in task table
[SERVER DEBUG] Found KYB form file ID 715 in task metadata
[SERVER DEBUG] Only 0 fields found in database, attempting to load from CSV file
[SERVER DEBUG] Attempting to load form data from CSV file ID: 715
[SERVER DEBUG] File has path: Question Number,Group,Question,Answer,Type
1,companyProfile,Legal Entity Name,DevelopmentTesting4,TEXT
2,companyProfile,Registration Number,12-3456789,TEXT
3,companyProfile,Incorporation Date,5/12/2010,DATE
4,companyProfile,Business Type,Limited Liability Company (LLC),TEXT
5,companyProfile,Jurisdiction,"Delaware, United States",TEXT
6,companyProfile,Registered Address,"123 Market Street, Wilmington, DE 19801",TEXT
7,companyProfile,Company Phone Number,(302) 555-1234,TEXT
8,companyProfile,Previous Name,None,TEXT
9,governanceLeadership,Licenses,"Money Transmitter License #MT-12345, Financial Data Provider License #FDP-98765",TEXT
10,governanceLeadership,Good Standing,Yes,BOOLEAN
11,governanceLeadership,Corporate Registration,No,TEXT
12,governanceLeadership,External Audit,No,BOOLEAN
13,governanceLeadership,Control Environment,Yes,BOOLEAN
14,governanceLeadership,Authorized Signers,"John Smith (CEO), Sarah Johnson (CFO), Michael Wong (COO)",TEXT
15,governanceLeadership,Government Ownership,No,BOOLEAN
16,governanceLeadership,Ultimate Beneficial Owners,None,TEXT
17,governanceLeadership,Directors and Officers,"John Smith (Chairman), Jane Doe (Director), Mike Johnson (Director)",TEXT
18,governanceLeadership,Representative Email,email@e3.com,EMAIL
19,financialProfile,Market Capitalization,$75 million (privately held),TEXT
20,financialProfile,Lifetime Customer Value,"$1,250",TEXT
21,financialProfile,Annual Recurring Revenue,"5,000,000",MULTIPLE_CHOICE
22,financialProfile,Monthly Recurring Revenue,"12,500,000",TEXT
23,operationsCompliance,Legal Investigations,No significant incidents in the past 3 years,BOOLEAN
24,operationsCompliance,Financial Statements,Yes,TEXT
25,operationsCompliance,Operational Policies,"ISO 27001 certified, SOC 2 Type II compliant",TEXT
26,operationsCompliance,Data Volume,Approximately 2 million records per month,TEXT
27,operationsCompliance,Data Types,"Financial transaction data, Account balances, Customer KYC information",TEXT
28,operationsCompliance,Sanctions Check,Approximately 2 million records per month,TEXT
29,operationsCompliance,Due Diligence,Yes,TEXT
30,operationsCompliance,Regulatory Orders,Yes,BOOLEAN
[SERVER DEBUG] CSV parsed: 30 rows, headers: Question Number, Group, Question, Answer, Type
[SERVER DEBUG] Extracted 30 field values from CSV
[SERVER DEBUG] Successfully loaded 30 fields from CSV file
[SERVER DEBUG] Updating database with recovered form data from CSV file
[SERVER DEBUG] Successfully updated task.savedFormData with recovered CSV data
[KYB API Debug] Task is submitted, enforcing 100% progress (original was 100%)
[KYB API Debug] Retrieved task data: {
  id: 372,
  responseCount: 60,
  progress: 100,
  status: 'submitted',
  formDataKeys: [
    'legalEntityName',
    'registrationNumber',
    'incorporationDate',
    'businessType',
    'jurisdiction',
    'registeredAddress',
    'companyPhone',
    'priorNames',
    'licenses',
    'goodStanding',
    'corporateRegistration',
    'externalAudit',
    'controlEnvironment',
    'authorizedSigners',
    'governmentOwnership',
    'ultimateBeneficialOwners',
    'directorsAndOfficers',
    'contactEmail',
    'marketCapitalization',
    'lifetimeCustomerValue',
    'annualRecurringRevenue',
    'monthlyRecurringRevenue',
    'investigationsIncidents',
    'financialStatements',
    'operationalPolicies',
    'dataVolume',
    'dataTypes',
    'sanctionsCheck',
    'dueDiligence',
    'regulatoryActions'
  ]
}
===============================================
[SERVER DEBUG] PREPARING GET RESPONSE at 2025-04-20T09:31:52.084Z
[SERVER DEBUG] Task ID: 372, Found 60 fields in database
===============================================
[SERVER DEBUG] Checking field corporateRegistration in retrieved data: "No"
[SERVER DEBUG] Checking field goodStanding in retrieved data: "Yes"
[SERVER DEBUG] Checking field regulatoryActions in retrieved data: "Yes"
[SERVER DEBUG] Checking field investigationsIncidents in retrieved data: "No significant incidents in the past 3 years"
[SERVER DEBUG] No fields with value "asdf" found in GET response data
[SERVER DEBUG] Sending GET response with 30 fields, status: submitted, progress: 100%
===============================================
9:31:52 AM [info] GET /api/kyb/progress/372 304 in 1073ms :: {"formData":{"legalEntityName":"DevelopmentTesting4","registrationNumber":"12...
[TimestampHandler] Retrieved 31 timestamps for task 372
[TimestampAPI] Returning 31 timestamps for task 372
9:31:52 AM [info] GET /api/kyb/timestamps/372 304 in 58ms :: {"contactEmail":1745134670080,"marketCapitalization":1745134670080,"lifetimeC...
[WebSocket] Received pong
[WebSocket] Received pong
[WebSocket] Received pong
[WebSocket] Received pong
[WebSocket] Received pong
[WebSocket] Received pong
[Files] Download request for file: 715
[Files] File found: {
  id: 715,
  name: 'kyb_form_372_2025-04-20T092600.csv',
  type: 'text/csv',
  size: 2162
}
[Files] Handling KYB CSV file download
[Files] KYB CSV file content found in database path field
[Files] Processing CSV content from database
[Files] CSV file content length: 2162
[Files] CSV first 50 chars: Question Number,Group,Question,Answer,Type
1,compa
[Files] Found headers: [ 'Question Number', 'Group', 'Question', 'Answer', 'Type' ]
[Files] Found data rows: 30
[Files] Successfully processed CSV with question numbers
9:34:00 AM [info] GET /api/files/715/download 200 in 160ms
[WebSocket] Received pong
[WebSocket] Received pong
[WebSocket] Received pong
[WebSocket] Received pong
[WebSocket] Received pong
[WebSocket] Received pong
[WebSocket] Received pong
[WebSocket] Received pong
[Auth] Deserializing user: 216
[Current Company] Fetching company for user: { userId: 216, companyId: 175 }
[Current Company] Found company: {
  id: 175,
  name: 'DevelopmentTesting4',
  onboardingCompleted: false,
  riskScore: null,
  isDemo: true
}
9:36:47 AM [info] GET /api/companies/current 304 in 96ms :: {"id":175,"name":"DevelopmentTesting4","description":"FinTech partner company...
[WebSocket] Received pong
[WebSocket] Received pong
[WebSocket] Received pong
[WebSocket] Received pong
[WebSocket] Received pong
[WebSocket] Received pong
[WebSocket] Received pong
[WebSocket] Received pong
[WebSocket] Received pong
[WebSocket] Received pong
[WebSocket] Received pong
[WebSocket] Received pong
[Tasks] ====== Starting task fetch =====
[Tasks] User details: { id: 216, company_id: 175, email: 'email@e3.com' }
[Tasks] KYB tasks found: { count: 1 }
[Tasks] Query conditions: {
  conditions: {
    condition1: 'tasks.assigned_to = 216',
    condition2: 'tasks.created_by = 216',
    condition3: "tasks.company_id = 175 AND tasks.assigned_to IS NULL AND tasks.task_scope = 'company'",
    condition4: "tasks.task_type = 'user_onboarding' AND LOWER(tasks.user_email) = LOWER('email@e3.com')"
  }
}
[Tasks] Tasks found: { count: 4 }
9:41:44 AM [info] GET /api/tasks 200 in 127ms :: [{"id":373,"title":"2. Security Assessment: DevelopmentTesting4","description...
[Auth] Deserializing user: 216
[Current Company] Fetching company for user: { userId: 216, companyId: 175 }
[Current Company] Found company: {
  id: 175,
  name: 'DevelopmentTesting4',
  onboardingCompleted: false,
  riskScore: null,
  isDemo: true
}
9:41:48 AM [info] GET /api/companies/current 304 in 83ms :: {"id":175,"name":"DevelopmentTesting4","description":"FinTech partner company...
[WebSocket] Received pong
[WebSocket] Received pong
[WebSocket] Received pong
[WebSocket] Received pong
[WebSocket] Received pong
[WebSocket] Received pong
[WebSocket] Received pong
[WebSocket] Received pong
[WebSocket] Received pong
[WebSocket] Received pong
[WebSocket] Received pong
[WebSocket] Received pong
[WebSocket] Received pong
[WebSocket] Received pong
[Auth] Deserializing user: 216
[Current Company] Fetching company for user: { userId: 216, companyId: 175 }
[Current Company] Found company: {
  id: 175,
  name: 'DevelopmentTesting4',
  onboardingCompleted: false,
  riskScore: null,
  isDemo: true
}
9:46:49 AM [info] GET /api/companies/current 304 in 89ms :: {"id":175,"name":"DevelopmentTesting4","description":"FinTech partner company...
[WebSocket] Received pong
[WebSocket] Received pong
[WebSocket] Received pong
[WebSocket] Received pong
[WebSocket] Received pong
[WebSocket] Received pong
[WebSocket] Received pong
[WebSocket] Received pong
[WebSocket] Received pong
[WebSocket] Received pong
[WebSocket] Received pong
[WebSocket] Received pong
[WebSocket] Received pong
[WebSocket] Received pong
[Tasks] ====== Starting task fetch =====
[Tasks] User details: { id: 216, company_id: 175, email: 'email@e3.com' }
[Tasks] KYB tasks found: { count: 1 }
[Tasks] Query conditions: {
  conditions: {
    condition1: 'tasks.assigned_to = 216',
    condition2: 'tasks.created_by = 216',
    condition3: "tasks.company_id = 175 AND tasks.assigned_to IS NULL AND tasks.task_scope = 'company'",
    condition4: "tasks.task_type = 'user_onboarding' AND LOWER(tasks.user_email) = LOWER('email@e3.com')"
  }
}
[Tasks] Tasks found: { count: 4 }
9:51:46 AM [info] GET /api/tasks 304 in 137ms :: [{"id":373,"title":"2. Security Assessment: DevelopmentTesting4","description...
[Auth] Deserializing user: 216
[Current Company] Fetching company for user: { userId: 216, companyId: 175 }
[Current Company] Found company: {
  id: 175,
  name: 'DevelopmentTesting4',
  onboardingCompleted: false,
  riskScore: null,
  isDemo: true
}
9:51:50 AM [info] GET /api/companies/current 304 in 83ms :: {"id":175,"name":"DevelopmentTesting4","description":"FinTech partner company...
[WebSocket] Received pong
[WebSocket] Received pong
[Auth] Processing logout request
[Auth] Logout successful for user: 216
9:52:57 AM [warn] POST /api/tasks/372/update-progress 401 in 30ms :: {"message":"Unauthorized"}
[Auth] Unauthenticated user session
9:52:57 AM [warn] POST /api/kyb/timestamps/372 401 in 31ms :: {"message":"Unauthorized"}
===============================================
[SERVER DEBUG] KYB PROGRESS SAVE REQUEST RECEIVED at 2025-04-20T09:52:57.704Z
===============================================
Task ID: 372
Progress: 100
Status: ready_for_submission
Field count: 30
Sample form data values:
- legalEntityName: "DevelopmentTesting4" (string)
- registrationNumber: "12-3456789" (string)
- incorporationDate: "5/12/2010" (string)
- businessType: "Limited Liability Company (LLC)" (string)
- jurisdiction: "Delaware, United States" (string)
Request details:
- Method: POST
- Content-Type: application/json
- Content-Length: 2433
===============================================
===============================================
[SERVER DEBUG] PROCESSING FORM DATA FIELDS AT 2025-04-20T09:52:57.771Z
[SERVER DEBUG] Task ID: 372, Field count: 30
===============================================
[SERVER DEBUG] COMPLETE FORM DATA DUMP:
[SERVER DEBUG] legalEntityName: "DevelopmentTesting4" (string)
[SERVER DEBUG] registrationNumber: "12-3456789" (string)
[SERVER DEBUG] incorporationDate: "5/12/2010" (string)
[SERVER DEBUG] businessType: "Limited Liability Company (LLC)" (string)
[SERVER DEBUG] jurisdiction: "Delaware, United States" (string)
[SERVER DEBUG] registeredAddress: "123 Market Street, Wilmington, DE 19801" (string)
[SERVER DEBUG] companyPhone: "(302) 555-1234" (string)
[SERVER DEBUG] priorNames: "None" (string)
[SERVER DEBUG] licenses: "Money Transmitter License #MT-12345, Financial Data Provider License #FDP-98765" (string)
[SERVER DEBUG] goodStanding: "Yes" (string)
[SERVER DEBUG] corporateRegistration: "No" (string)
[SERVER DEBUG] externalAudit: "No" (string)
[SERVER DEBUG] controlEnvironment: "Yes" (string)
[SERVER DEBUG] authorizedSigners: "John Smith (CEO), Sarah Johnson (CFO), Michael Wong (COO)" (string)
[SERVER DEBUG] governmentOwnership: "No" (string)
[SERVER DEBUG] ultimateBeneficialOwners: "None" (string)
[SERVER DEBUG] directorsAndOfficers: "John Smith (Chairman), Jane Doe (Director), Mike Johnson (Director)" (string)
[SERVER DEBUG] contactEmail: "email@e3.com" (string)
[SERVER DEBUG] marketCapitalization: "$75 million (privately held)" (string)
[SERVER DEBUG] lifetimeCustomerValue: "$1,250" (string)
[SERVER DEBUG] annualRecurringRevenue: "5,000,000" (string)
[SERVER DEBUG] monthlyRecurringRevenue: "12,500,000" (string)
[SERVER DEBUG] investigationsIncidents: "No significant incidents in the past 3 years" (string)
[SERVER DEBUG] financialStatements: "Yes" (string)
[SERVER DEBUG] operationalPolicies: "ISO 27001 certified, SOC 2 Type II compliant" (string)
[SERVER DEBUG] dataVolume: "Approximately 2 million records per month" (string)
[SERVER DEBUG] dataTypes: "Financial transaction data, Account balances, Customer KYC information" (string)
[SERVER DEBUG] sanctionsCheck: "Approximately 2 million records per month" (string)
[SERVER DEBUG] dueDiligence: "Yes" (string)
[SERVER DEBUG] regulatoryActions: "Yes" (string)
[SERVER DEBUG] END OF FORM DATA DUMP
[SERVER DEBUG] No fields with value "asdf" found in incoming data
[SERVER DEBUG] Processing field: "legalEntityName" (ID: 1)
[SERVER DEBUG] Original value: DevelopmentTesting4
[SERVER DEBUG] Normalized value: "DevelopmentTesting4" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "legalEntityName" in database
[SERVER DEBUG] - Old value: "DevelopmentTesting4" (string)
[SERVER DEBUG] - New value: "DevelopmentTesting4" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: legalEntityName
[SERVER DEBUG] - field_id: 1
[SERVER DEBUG] - response_value: "DevelopmentTesting4"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "legalEntityName":
[SERVER DEBUG] - Expected: "DevelopmentTesting4"
[SERVER DEBUG] - Actual: "DevelopmentTesting4"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "legalEntityName" (ID: 279)
[SERVER DEBUG] Broadcasting legalEntityName update via WebSocket: "DevelopmentTesting4"
[WebSocket] Broadcasting field update for task 372, field "legalEntityName": { value: 'DevelopmentTesting4', timestamp: '2025-04-20T09:52:57.874Z' }
[SERVER DEBUG] --- Finished processing field "legalEntityName" ---

[SERVER DEBUG] Processing field: "registrationNumber" (ID: 2)
[SERVER DEBUG] Original value: 12-3456789
[SERVER DEBUG] Normalized value: "12-3456789" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "registrationNumber" in database
[SERVER DEBUG] - Old value: "12-3456789" (string)
[SERVER DEBUG] - New value: "12-3456789" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: registrationNumber
[SERVER DEBUG] - field_id: 2
[SERVER DEBUG] - response_value: "12-3456789"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "registrationNumber":
[SERVER DEBUG] - Expected: "12-3456789"
[SERVER DEBUG] - Actual: "12-3456789"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "registrationNumber" (ID: 280)
[SERVER DEBUG] --- Finished processing field "registrationNumber" ---

[SERVER DEBUG] Processing field: "incorporationDate" (ID: 3)
[SERVER DEBUG] Original value: 5/12/2010
[SERVER DEBUG] Normalized value: "5/12/2010" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "incorporationDate" in database
[SERVER DEBUG] - Old value: "5/12/2010" (string)
[SERVER DEBUG] - New value: "5/12/2010" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: incorporationDate
[SERVER DEBUG] - field_id: 3
[SERVER DEBUG] - response_value: "5/12/2010"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "incorporationDate":
[SERVER DEBUG] - Expected: "5/12/2010"
[SERVER DEBUG] - Actual: "5/12/2010"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "incorporationDate" (ID: 281)
[SERVER DEBUG] --- Finished processing field "incorporationDate" ---

[SERVER DEBUG] Processing field: "businessType" (ID: 4)
[SERVER DEBUG] Original value: Limited Liability Company (LLC)
[SERVER DEBUG] Normalized value: "Limited Liability Company (LLC)" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "businessType" in database
[SERVER DEBUG] - Old value: "Limited Liability Company (LLC)" (string)
[SERVER DEBUG] - New value: "Limited Liability Company (LLC)" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: businessType
[SERVER DEBUG] - field_id: 4
[SERVER DEBUG] - response_value: "Limited Liability Company (LLC)"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "businessType":
[SERVER DEBUG] - Expected: "Limited Liability Company (LLC)"
[SERVER DEBUG] - Actual: "Limited Liability Company (LLC)"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "businessType" (ID: 282)
[SERVER DEBUG] --- Finished processing field "businessType" ---

[SERVER DEBUG] Processing field: "jurisdiction" (ID: 5)
[SERVER DEBUG] Original value: Delaware, United States
[SERVER DEBUG] Normalized value: "Delaware, United States" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "jurisdiction" in database
[SERVER DEBUG] - Old value: "Delaware, United States" (string)
[SERVER DEBUG] - New value: "Delaware, United States" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: jurisdiction
[SERVER DEBUG] - field_id: 5
[SERVER DEBUG] - response_value: "Delaware, United States"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "jurisdiction":
[SERVER DEBUG] - Expected: "Delaware, United States"
[SERVER DEBUG] - Actual: "Delaware, United States"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "jurisdiction" (ID: 283)
[SERVER DEBUG] --- Finished processing field "jurisdiction" ---

[SERVER DEBUG] Processing field: "registeredAddress" (ID: 6)
[SERVER DEBUG] Original value: 123 Market Street, Wilmington, DE 19801
[SERVER DEBUG] Normalized value: "123 Market Street, Wilmington, DE 19801" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "registeredAddress" in database
[SERVER DEBUG] - Old value: "123 Market Street, Wilmington, DE 19801" (string)
[SERVER DEBUG] - New value: "123 Market Street, Wilmington, DE 19801" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: registeredAddress
[SERVER DEBUG] - field_id: 6
[SERVER DEBUG] - response_value: "123 Market Street, Wilmington, DE 19801"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "registeredAddress":
[SERVER DEBUG] - Expected: "123 Market Street, Wilmington, DE 19801"
[SERVER DEBUG] - Actual: "123 Market Street, Wilmington, DE 19801"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "registeredAddress" (ID: 284)
[SERVER DEBUG] --- Finished processing field "registeredAddress" ---

[SERVER DEBUG] Processing field: "companyPhone" (ID: 7)
[SERVER DEBUG] Original value: (302) 555-1234
[SERVER DEBUG] Normalized value: "(302) 555-1234" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "companyPhone" in database
[SERVER DEBUG] - Old value: "(302) 555-1234" (string)
[SERVER DEBUG] - New value: "(302) 555-1234" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: companyPhone
[SERVER DEBUG] - field_id: 7
[SERVER DEBUG] - response_value: "(302) 555-1234"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "companyPhone":
[SERVER DEBUG] - Expected: "(302) 555-1234"
[SERVER DEBUG] - Actual: "(302) 555-1234"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "companyPhone" (ID: 285)
[SERVER DEBUG] --- Finished processing field "companyPhone" ---

[SERVER DEBUG] Processing field: "priorNames" (ID: 8)
[SERVER DEBUG] Original value: None
[SERVER DEBUG] Normalized value: "None" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "priorNames" in database
[SERVER DEBUG] - Old value: "None" (string)
[SERVER DEBUG] - New value: "None" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: priorNames
[SERVER DEBUG] - field_id: 8
[SERVER DEBUG] - response_value: "None"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "priorNames":
[SERVER DEBUG] - Expected: "None"
[SERVER DEBUG] - Actual: "None"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "priorNames" (ID: 286)
[SERVER DEBUG] --- Finished processing field "priorNames" ---

[SERVER DEBUG] Processing field: "licenses" (ID: 9)
[SERVER DEBUG] Original value: Money Transmitter License #MT-12345, Financial Data Provider License #FDP-98765
[SERVER DEBUG] Normalized value: "Money Transmitter License #MT-12345, Financial Data Provider License #FDP-98765" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "licenses" in database
[SERVER DEBUG] - Old value: "Money Transmitter License #MT-12345, Financial Data Provider License #FDP-98765" (string)
[SERVER DEBUG] - New value: "Money Transmitter License #MT-12345, Financial Data Provider License #FDP-98765" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: licenses
[SERVER DEBUG] - field_id: 9
[SERVER DEBUG] - response_value: "Money Transmitter License #MT-12345, Financial Data Provider License #FDP-98765"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "licenses":
[SERVER DEBUG] - Expected: "Money Transmitter License #MT-12345, Financial Data Provider License #FDP-98765"
[SERVER DEBUG] - Actual: "Money Transmitter License #MT-12345, Financial Data Provider License #FDP-98765"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "licenses" (ID: 287)
[SERVER DEBUG] --- Finished processing field "licenses" ---

[SERVER DEBUG] Processing field: "goodStanding" (ID: 10)
[SERVER DEBUG] Original value: Yes
[SERVER DEBUG] Normalized value: "Yes" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "goodStanding" in database
[SERVER DEBUG] - Old value: "Yes" (string)
[SERVER DEBUG] - New value: "Yes" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: goodStanding
[SERVER DEBUG] - field_id: 10
[SERVER DEBUG] - response_value: "Yes"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "goodStanding":
[SERVER DEBUG] - Expected: "Yes"
[SERVER DEBUG] - Actual: "Yes"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "goodStanding" (ID: 288)
[SERVER DEBUG] --- Finished processing field "goodStanding" ---

[SERVER DEBUG] Processing field: "corporateRegistration" (ID: 11)
[SERVER DEBUG] Original value: No
[SERVER DEBUG] Normalized value: "No" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "corporateRegistration" in database
[SERVER DEBUG] - Old value: "No" (string)
[SERVER DEBUG] - New value: "No" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: corporateRegistration
[SERVER DEBUG] - field_id: 11
[SERVER DEBUG] - response_value: "No"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "corporateRegistration":
[SERVER DEBUG] - Expected: "No"
[SERVER DEBUG] - Actual: "No"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "corporateRegistration" (ID: 289)
[SERVER DEBUG] --- Finished processing field "corporateRegistration" ---

[SERVER DEBUG] Processing field: "externalAudit" (ID: 12)
[SERVER DEBUG] Original value: No
[SERVER DEBUG] Normalized value: "No" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "externalAudit" in database
[SERVER DEBUG] - Old value: "No" (string)
[SERVER DEBUG] - New value: "No" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: externalAudit
[SERVER DEBUG] - field_id: 12
[SERVER DEBUG] - response_value: "No"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "externalAudit":
[SERVER DEBUG] - Expected: "No"
[SERVER DEBUG] - Actual: "No"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "externalAudit" (ID: 290)
[SERVER DEBUG] --- Finished processing field "externalAudit" ---

[SERVER DEBUG] Processing field: "controlEnvironment" (ID: 13)
[SERVER DEBUG] Original value: Yes
[SERVER DEBUG] Normalized value: "Yes" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "controlEnvironment" in database
[SERVER DEBUG] - Old value: "Yes" (string)
[SERVER DEBUG] - New value: "Yes" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: controlEnvironment
[SERVER DEBUG] - field_id: 13
[SERVER DEBUG] - response_value: "Yes"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "controlEnvironment":
[SERVER DEBUG] - Expected: "Yes"
[SERVER DEBUG] - Actual: "Yes"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "controlEnvironment" (ID: 291)
[SERVER DEBUG] --- Finished processing field "controlEnvironment" ---

[SERVER DEBUG] Processing field: "authorizedSigners" (ID: 14)
[SERVER DEBUG] Original value: John Smith (CEO), Sarah Johnson (CFO), Michael Wong (COO)
[SERVER DEBUG] Normalized value: "John Smith (CEO), Sarah Johnson (CFO), Michael Wong (COO)" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "authorizedSigners" in database
[SERVER DEBUG] - Old value: "John Smith (CEO), Sarah Johnson (CFO), Michael Wong (COO)" (string)
[SERVER DEBUG] - New value: "John Smith (CEO), Sarah Johnson (CFO), Michael Wong (COO)" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: authorizedSigners
[SERVER DEBUG] - field_id: 14
[SERVER DEBUG] - response_value: "John Smith (CEO), Sarah Johnson (CFO), Michael Wong (COO)"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "authorizedSigners":
[SERVER DEBUG] - Expected: "John Smith (CEO), Sarah Johnson (CFO), Michael Wong (COO)"
[SERVER DEBUG] - Actual: "John Smith (CEO), Sarah Johnson (CFO), Michael Wong (COO)"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "authorizedSigners" (ID: 292)
[SERVER DEBUG] --- Finished processing field "authorizedSigners" ---

[SERVER DEBUG] Processing field: "governmentOwnership" (ID: 15)
[SERVER DEBUG] Original value: No
[SERVER DEBUG] Normalized value: "No" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "governmentOwnership" in database
[SERVER DEBUG] - Old value: "No" (string)
[SERVER DEBUG] - New value: "No" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: governmentOwnership
[SERVER DEBUG] - field_id: 15
[SERVER DEBUG] - response_value: "No"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "governmentOwnership":
[SERVER DEBUG] - Expected: "No"
[SERVER DEBUG] - Actual: "No"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "governmentOwnership" (ID: 293)
[SERVER DEBUG] --- Finished processing field "governmentOwnership" ---

[SERVER DEBUG] Processing field: "ultimateBeneficialOwners" (ID: 16)
[SERVER DEBUG] Original value: None
[SERVER DEBUG] Normalized value: "None" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "ultimateBeneficialOwners" in database
[SERVER DEBUG] - Old value: "None" (string)
[SERVER DEBUG] - New value: "None" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: ultimateBeneficialOwners
[SERVER DEBUG] - field_id: 16
[SERVER DEBUG] - response_value: "None"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "ultimateBeneficialOwners":
[SERVER DEBUG] - Expected: "None"
[SERVER DEBUG] - Actual: "None"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "ultimateBeneficialOwners" (ID: 294)
[SERVER DEBUG] --- Finished processing field "ultimateBeneficialOwners" ---

[SERVER DEBUG] Processing field: "directorsAndOfficers" (ID: 17)
[SERVER DEBUG] Original value: John Smith (Chairman), Jane Doe (Director), Mike Johnson (Director)
[SERVER DEBUG] Normalized value: "John Smith (Chairman), Jane Doe (Director), Mike Johnson (Director)" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "directorsAndOfficers" in database
[SERVER DEBUG] - Old value: "John Smith (Chairman), Jane Doe (Director), Mike Johnson (Director)" (string)
[SERVER DEBUG] - New value: "John Smith (Chairman), Jane Doe (Director), Mike Johnson (Director)" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: directorsAndOfficers
[SERVER DEBUG] - field_id: 17
[SERVER DEBUG] - response_value: "John Smith (Chairman), Jane Doe (Director), Mike Johnson (Director)"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "directorsAndOfficers":
[SERVER DEBUG] - Expected: "John Smith (Chairman), Jane Doe (Director), Mike Johnson (Director)"
[SERVER DEBUG] - Actual: "John Smith (Chairman), Jane Doe (Director), Mike Johnson (Director)"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "directorsAndOfficers" (ID: 295)
[SERVER DEBUG] --- Finished processing field "directorsAndOfficers" ---

[SERVER DEBUG] Processing field: "contactEmail" (ID: 18)
[SERVER DEBUG] Original value: email@e3.com
[SERVER DEBUG] Normalized value: "email@e3.com" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "contactEmail" in database
[SERVER DEBUG] - Old value: "email@e3.com" (string)
[SERVER DEBUG] - New value: "email@e3.com" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: contactEmail
[SERVER DEBUG] - field_id: 18
[SERVER DEBUG] - response_value: "email@e3.com"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "contactEmail":
[SERVER DEBUG] - Expected: "email@e3.com"
[SERVER DEBUG] - Actual: "email@e3.com"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "contactEmail" (ID: 296)
[SERVER DEBUG] --- Finished processing field "contactEmail" ---

[SERVER DEBUG] Processing field: "marketCapitalization" (ID: 19)
[SERVER DEBUG] Original value: $75 million (privately held)
[SERVER DEBUG] Normalized value: "$75 million (privately held)" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "marketCapitalization" in database
[SERVER DEBUG] - Old value: "$75 million (privately held)" (string)
[SERVER DEBUG] - New value: "$75 million (privately held)" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: marketCapitalization
[SERVER DEBUG] - field_id: 19
[SERVER DEBUG] - response_value: "$75 million (privately held)"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "marketCapitalization":
[SERVER DEBUG] - Expected: "$75 million (privately held)"
[SERVER DEBUG] - Actual: "$75 million (privately held)"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "marketCapitalization" (ID: 297)
[SERVER DEBUG] --- Finished processing field "marketCapitalization" ---

[SERVER DEBUG] Processing field: "lifetimeCustomerValue" (ID: 20)
[SERVER DEBUG] Original value: $1,250
[SERVER DEBUG] Normalized value: "$1,250" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "lifetimeCustomerValue" in database
[SERVER DEBUG] - Old value: "$1,250" (string)
[SERVER DEBUG] - New value: "$1,250" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: lifetimeCustomerValue
[SERVER DEBUG] - field_id: 20
[SERVER DEBUG] - response_value: "$1,250"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "lifetimeCustomerValue":
[SERVER DEBUG] - Expected: "$1,250"
[SERVER DEBUG] - Actual: "$1,250"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "lifetimeCustomerValue" (ID: 298)
[SERVER DEBUG] --- Finished processing field "lifetimeCustomerValue" ---

[SERVER DEBUG] Processing field: "annualRecurringRevenue" (ID: 21)
[SERVER DEBUG] Original value: 5,000,000
[SERVER DEBUG] Normalized value: "5,000,000" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "annualRecurringRevenue" in database
[SERVER DEBUG] - Old value: "5,000,000" (string)
[SERVER DEBUG] - New value: "5,000,000" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: annualRecurringRevenue
[SERVER DEBUG] - field_id: 21
[SERVER DEBUG] - response_value: "5,000,000"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "annualRecurringRevenue":
[SERVER DEBUG] - Expected: "5,000,000"
[SERVER DEBUG] - Actual: "5,000,000"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "annualRecurringRevenue" (ID: 299)
[SERVER DEBUG] --- Finished processing field "annualRecurringRevenue" ---

[SERVER DEBUG] Processing field: "monthlyRecurringRevenue" (ID: 22)
[SERVER DEBUG] Original value: 12,500,000
[SERVER DEBUG] Normalized value: "12,500,000" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "monthlyRecurringRevenue" in database
[SERVER DEBUG] - Old value: "12,500,000" (string)
[SERVER DEBUG] - New value: "12,500,000" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: monthlyRecurringRevenue
[SERVER DEBUG] - field_id: 22
[SERVER DEBUG] - response_value: "12,500,000"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "monthlyRecurringRevenue":
[SERVER DEBUG] - Expected: "12,500,000"
[SERVER DEBUG] - Actual: "12,500,000"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "monthlyRecurringRevenue" (ID: 300)
[SERVER DEBUG] --- Finished processing field "monthlyRecurringRevenue" ---

[SERVER DEBUG] Processing field: "investigationsIncidents" (ID: 23)
[SERVER DEBUG] Original value: No significant incidents in the past 3 years
[SERVER DEBUG] Normalized value: "No significant incidents in the past 3 years" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "investigationsIncidents" in database
[SERVER DEBUG] - Old value: "No significant incidents in the past 3 years" (string)
[SERVER DEBUG] - New value: "No significant incidents in the past 3 years" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: investigationsIncidents
[SERVER DEBUG] - field_id: 23
[SERVER DEBUG] - response_value: "No significant incidents in the past 3 years"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "investigationsIncidents":
[SERVER DEBUG] - Expected: "No significant incidents in the past 3 years"
[SERVER DEBUG] - Actual: "No significant incidents in the past 3 years"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "investigationsIncidents" (ID: 301)
[SERVER DEBUG] --- Finished processing field "investigationsIncidents" ---

[SERVER DEBUG] Processing field: "financialStatements" (ID: 24)
[SERVER DEBUG] Original value: Yes
[SERVER DEBUG] Normalized value: "Yes" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "financialStatements" in database
[SERVER DEBUG] - Old value: "Yes" (string)
[SERVER DEBUG] - New value: "Yes" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: financialStatements
[SERVER DEBUG] - field_id: 24
[SERVER DEBUG] - response_value: "Yes"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "financialStatements":
[SERVER DEBUG] - Expected: "Yes"
[SERVER DEBUG] - Actual: "Yes"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "financialStatements" (ID: 302)
[SERVER DEBUG] --- Finished processing field "financialStatements" ---

[SERVER DEBUG] Processing field: "operationalPolicies" (ID: 25)
[SERVER DEBUG] Original value: ISO 27001 certified, SOC 2 Type II compliant
[SERVER DEBUG] Normalized value: "ISO 27001 certified, SOC 2 Type II compliant" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "operationalPolicies" in database
[SERVER DEBUG] - Old value: "ISO 27001 certified, SOC 2 Type II compliant" (string)
[SERVER DEBUG] - New value: "ISO 27001 certified, SOC 2 Type II compliant" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: operationalPolicies
[SERVER DEBUG] - field_id: 25
[SERVER DEBUG] - response_value: "ISO 27001 certified, SOC 2 Type II compliant"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "operationalPolicies":
[SERVER DEBUG] - Expected: "ISO 27001 certified, SOC 2 Type II compliant"
[SERVER DEBUG] - Actual: "ISO 27001 certified, SOC 2 Type II compliant"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "operationalPolicies" (ID: 303)
[SERVER DEBUG] --- Finished processing field "operationalPolicies" ---

[SERVER DEBUG] Processing field: "dataVolume" (ID: 26)
[SERVER DEBUG] Original value: Approximately 2 million records per month
[SERVER DEBUG] Normalized value: "Approximately 2 million records per month" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "dataVolume" in database
[SERVER DEBUG] - Old value: "Approximately 2 million records per month" (string)
[SERVER DEBUG] - New value: "Approximately 2 million records per month" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: dataVolume
[SERVER DEBUG] - field_id: 26
[SERVER DEBUG] - response_value: "Approximately 2 million records per month"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "dataVolume":
[SERVER DEBUG] - Expected: "Approximately 2 million records per month"
[SERVER DEBUG] - Actual: "Approximately 2 million records per month"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "dataVolume" (ID: 304)
[SERVER DEBUG] --- Finished processing field "dataVolume" ---

[SERVER DEBUG] Processing field: "dataTypes" (ID: 27)
[SERVER DEBUG] Original value: Financial transaction data, Account balances, Customer KYC information
[SERVER DEBUG] Normalized value: "Financial transaction data, Account balances, Customer KYC information" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "dataTypes" in database
[SERVER DEBUG] - Old value: "Financial transaction data, Account balances, Customer KYC information" (string)
[SERVER DEBUG] - New value: "Financial transaction data, Account balances, Customer KYC information" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: dataTypes
[SERVER DEBUG] - field_id: 27
[SERVER DEBUG] - response_value: "Financial transaction data, Account balances, Customer KYC information"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "dataTypes":
[SERVER DEBUG] - Expected: "Financial transaction data, Account balances, Customer KYC information"
[SERVER DEBUG] - Actual: "Financial transaction data, Account balances, Customer KYC information"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "dataTypes" (ID: 305)
[SERVER DEBUG] --- Finished processing field "dataTypes" ---

[SERVER DEBUG] Processing field: "sanctionsCheck" (ID: 28)
[SERVER DEBUG] Original value: Approximately 2 million records per month
[SERVER DEBUG] Normalized value: "Approximately 2 million records per month" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "sanctionsCheck" in database
[SERVER DEBUG] - Old value: "Approximately 2 million records per month" (string)
[SERVER DEBUG] - New value: "Approximately 2 million records per month" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: sanctionsCheck
[SERVER DEBUG] - field_id: 28
[SERVER DEBUG] - response_value: "Approximately 2 million records per month"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "sanctionsCheck":
[SERVER DEBUG] - Expected: "Approximately 2 million records per month"
[SERVER DEBUG] - Actual: "Approximately 2 million records per month"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "sanctionsCheck" (ID: 306)
[SERVER DEBUG] --- Finished processing field "sanctionsCheck" ---

[SERVER DEBUG] Processing field: "dueDiligence" (ID: 29)
[SERVER DEBUG] Original value: Yes
[SERVER DEBUG] Normalized value: "Yes" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "dueDiligence" in database
[SERVER DEBUG] - Old value: "Yes" (string)
[SERVER DEBUG] - New value: "Yes" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: dueDiligence
[SERVER DEBUG] - field_id: 29
[SERVER DEBUG] - response_value: "Yes"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "dueDiligence":
[SERVER DEBUG] - Expected: "Yes"
[SERVER DEBUG] - Actual: "Yes"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "dueDiligence" (ID: 307)
[SERVER DEBUG] --- Finished processing field "dueDiligence" ---

[SERVER DEBUG] Processing field: "regulatoryActions" (ID: 30)
[SERVER DEBUG] Original value: Yes
[SERVER DEBUG] Normalized value: "Yes" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "regulatoryActions" in database
[SERVER DEBUG] - Old value: "Yes" (string)
[SERVER DEBUG] - New value: "Yes" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: regulatoryActions
[SERVER DEBUG] - field_id: 30
[SERVER DEBUG] - response_value: "Yes"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "regulatoryActions":
[SERVER DEBUG] - Expected: "Yes"
[SERVER DEBUG] - Actual: "Yes"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "regulatoryActions" (ID: 308)
[SERVER DEBUG] --- Finished processing field "regulatoryActions" ---

[KYB API Debug] Task has submission date, enforcing SUBMITTED status and 100% progress {
  submissionDate: '2025-04-20T09:26:00.607Z',
  clientProvidedStatus: 'ready_for_submission',
  originalProgress: 100
}
[WebSocket] Broadcasting task update for task 372: progress=100, status=submitted
[WebSocket] Broadcasting task update: {
  taskId: 372,
  status: 'submitted',
  progress: 100,
  metadata: { lastUpdated: '2025-04-20T09:52:57.771Z' }
}
===============================================
[SERVER DEBUG] PREPARING RESPONSE at 2025-04-20T09:53:00.545Z
[SERVER DEBUG] Found 60 fields in database after update
===============================================
[SERVER DEBUG] Checking field corporateRegistration in updated data: "No"
[SERVER DEBUG] Checking field goodStanding in updated data: "Yes"
[SERVER DEBUG] Checking field regulatoryActions in updated data: "Yes"
[SERVER DEBUG] Checking field investigationsIncidents in updated data: "No significant incidents in the past 3 years"
[SERVER DEBUG] No fields with value "asdf" found in response data
[SERVER DEBUG] Sending response with 30 fields, status: submitted, progress: 100%
[SERVER DEBUG] Updating task.savedFormData to ensure persistence across navigation
[SERVER DEBUG] ✅ Successfully updated task.savedFormData with latest form data
===============================================
9:53:00 AM [info] POST /api/kyb/progress 200 in 2902ms :: {"success":true,"savedData":{"progress":100,"status":"submitted","formData":{...
[Auth] Processing login request
[Auth] Login request body: { email: 'admin@bofa.com', hasPassword: true, passwordLength: 8 }
[Auth] Login attempt for: admin@bofa.com
[Auth] Password received (first 4 chars): pass
[Auth] Looking up user by email: admin@bofa.com
[Auth] User lookup result: {
  found: true,
  userId: 183,
  hasPassword: true,
  passwordLength: 60,
  passwordStart: '$2b$'
}
[Auth] Found user, checking password
[Auth] Comparing passwords:
[Auth] - Stored hash length: 60
[Auth] - Stored hash format check: true
[Auth] - Supplied password length: 8
[Auth] - Stored hash: $2b$10$j8BCE/TB9HFFoazCrhVCGeiCjaA2/gIlpUyelb29FLJbcbgJMmxQq
[Auth] - Supplied password (first 4 chars): pass
[Auth] Starting to hash password
[Auth] Password hashed successfully: { hashLength: 60, startsWithBcrypt: true, rounds: 10 }
[Auth] - Test hash generated: $2b$10$bhNLOAtaQ6uSbt2PprB.cOT3S0O8yeJ99W1x0YOP7V1eWz7W3PW2O
[Auth] Password comparison result: true
[Auth] Password validation result: true
[Auth] Login successful for user: 183
[Auth] Serializing user: 183
[Auth] Login successful for user: 183
[Auth] Deserializing user: 183
[Current Company] Fetching company for user: { userId: 183, companyId: 5 }
[Current Company] Found company: {
  id: 5,
  name: 'Bank of America',
  onboardingCompleted: true,
  riskScore: 89,
  isDemo: null
}
9:53:03 AM [info] GET /api/companies/current 200 in 62ms :: {"id":5,"name":"Bank of America","description":"Bank of America is a leading ...
[Tasks] ====== Starting task fetch =====
[Tasks] User details: { id: 183, company_id: 5, email: 'admin@bofa.com' }
[Network Visualization] Fetching network data for company: 5
[Tasks] KYB tasks found: { count: 0 }
[Tasks] Query conditions: {
  conditions: {
    condition1: 'tasks.assigned_to = 183',
    condition2: 'tasks.created_by = 183',
    condition3: "tasks.company_id = 5 AND tasks.assigned_to IS NULL AND tasks.task_scope = 'company'",
    condition4: "tasks.task_type = 'user_onboarding' AND LOWER(tasks.user_email) = LOWER('admin@bofa.com')"
  }
}
[Tasks] Tasks found: { count: 45 }
[Network Visualization] Found network relationships: { count: 18 }
[Network Visualization] Returning visualization data: { centerNode: 'Bank of America', nodeCount: 18 }
9:53:03 AM [info] GET /api/companies/current 304 in 29ms :: {"id":5,"name":"Bank of America","description":"Bank of America is a leading ...
9:53:03 AM [info] GET /api/tasks 200 in 117ms :: [{"id":371,"title":"New User Invitation: email@e3.com","description":"Complet...
9:53:03 AM [info] GET /api/network/visualization 200 in 108ms :: {"center":{"id":5,"name":"Bank of America","riskScore":89,"riskBucket":"low",...
9:53:03 AM [info] GET /api/tasks 304 in 31ms :: [{"id":371,"title":"New User Invitation: email@e3.com","description":"Complet...
9:53:09 AM [info] POST /api/fintech/check-company 200 in 60ms :: {"exists":false}
[WebSocket] Received pong
[WebSocket] Received pong
[FinTech Invite] Starting invitation process with payload: {
  email: '***@***.***',
  full_name: 'John Doe',
  company_name: 'DevelopmentTesting5',
  sender_name: 'Bob Smith',
  sender_company: 'Invela'
}
[FinTech Invite] Found sender company: { name: 'Bank of America', duration: 28 }
[FinTech Invite] Created company: { id: 176, duration: 70 }
[FinTech Invite] Created user: { id: 217, duration: 158 }
[FinTech Invite] Creating user onboarding task
[FinTech Invite] Created onboarding task: { taskId: 375, status: 'email_sent', assignedTo: 217, duration: 190 }
[FinTech Invite] Created invitation: { id: 225, code: '06D25B', duration: 227 }
[FinTech Invite] Creating company tasks with existing transaction
[Company Service] Creating new company: DevelopmentTesting5 { hasExistingTransaction: true, timestamp: '2025-04-20T09:53:21.683Z' }
[Company Service] Using existing transaction for company creation
[Company Service] Using existing company record: { id: 176, name: 'DevelopmentTesting5' }
[Company Service] Creating tasks with creator ID: 183
[Company Service] Creating KYB task for company: 176
[Company Service] Created KYB task: { taskId: 376, companyId: 176, duration: 30 }
[Company Service] Creating Security Assessment task for company: 176
[Company Service] Created Security Assessment task: { taskId: 377, companyId: 176, duration: 60 }
[Company Service] Creating CARD task for company: 176
[Company Service] Created CARD task: { taskId: 378, companyId: 176, duration: 89 }
[Company Service] Creating relationship with Invela for company: 176
[Company Service] Creating relationship with creator company: 5
[Company Service] Created relationships: {
  invelaRelationshipId: 142,
  creatorRelationshipId: 143,
  newCompanyId: 176,
  duration: 152
}
[WebSocket] Broadcasting task update: {
  taskId: 376,
  status: 'not_started',
  progress: 0,
  metadata: {
    company_id: 176,
    created_at: '2025-04-20T09:53:21.683Z',
    created_via: 'fintech_invite',
    status_flow: [ 'not_started' ],
    company_name: 'DevelopmentTesting5',
    created_by_id: 183,
    prerequisite_for: [ 'security_assessment' ]
  }
}
[WebSocket] Broadcasting task update: {
  taskId: 377,
  status: 'not_started',
  progress: 0,
  metadata: {
    locked: true,
    company_id: 176,
    created_at: '2025-04-20T09:53:21.713Z',
    created_via: 'fintech_invite',
    status_flow: [ 'not_started' ],
    company_name: 'DevelopmentTesting5',
    last_updated: '2025-04-20T09:53:21.713Z',
    created_by_id: 183,
    progressHistory: [ [Object] ],
    prerequisite_for: [ 'company_card' ],
    prerequisite_task_id: 376,
    prerequisite_task_type: 'company_kyb'
  }
}
[WebSocket] Broadcasting task update: {
  taskId: 378,
  status: 'not_started',
  progress: 0,
  metadata: {
    locked: true,
    company_id: 176,
    created_at: '2025-04-20T09:53:21.743Z',
    statusFlow: [ 'not_started' ],
    created_via: 'fintech_invite',
    company_name: 'DevelopmentTesting5',
    last_updated: '2025-04-20T09:53:21.743Z',
    created_by_id: 183,
    progressHistory: [ [Object] ],
    prerequisite_task_id: 377,
    prerequisite_task_type: 'security_assessment'
  }
}
[FinTech Invite] Tasks created successfully: {
  companyId: 176,
  tasks: { kyb: 376, security: 377, card: 378, onboarding: 375 },
  duration: 381
}
[WebSocket] Broadcasting task update: {
  taskId: 375,
  status: 'email_sent',
  progress: 25,
  metadata: {
    user_id: 217,
    userEmail: 'email@e4.com',
    company_id: 176,
    created_at: '2025-04-20T09:53:21.613Z',
    statusFlow: [ 'email_sent' ],
    companyName: 'DevelopmentTesting5',
    created_via: 'fintech_invite',
    created_by_id: 183,
    email_sent_at: '2025-04-20T09:53:21.613Z'
  }
}
[FinTech Invite] Sending invitation email
[EmailService] Starting to send template email
[EmailService] Template type: fintech_invite
[EmailService] Recipient: email@e4.com
[EmailService] Template data (raw): {
  "recipientName": "John Doe",
  "recipientEmail": "email@e4.com",
  "senderName": "Bob Smith",
  "senderCompany": "Bank of America",
  "targetCompany": "DevelopmentTesting5",
  "inviteUrl": "https://9606074c-a9ad-4fe1-8fe5-3d9c3eed0606-00-33ar2rv36ligj.picard.replit.dev/register?code=06D25B&email=email%40e4.com",
  "code": "06D25B"
}
[EmailService] Starting email validation for: email@e4.com
[EmailService] Checking MX records for domain: e4.com
[EmailService] MX records found for domain: e4.com
[EmailService] Email validation successful for: email@e4.com
[EmailService] Transforming template data
[EmailService] Starting template data transformation
[EmailService] Input template data: {
  "recipientName": "John Doe",
  "recipientEmail": "email@e4.com",
  "senderName": "Bob Smith",
  "senderCompany": "Bank of America",
  "targetCompany": "DevelopmentTesting5",
  "inviteUrl": "https://9606074c-a9ad-4fe1-8fe5-3d9c3eed0606-00-33ar2rv36ligj.picard.replit.dev/register?code=06D25B&email=email%40e4.com",
  "code": "06D25B"
}
[EmailService] Built invite URL: https://9606074c-a9ad-4fe1-8fe5-3d9c3eed0606-00-33ar2rv36ligj.picard.replit.dev/register?code=06D25B&email=email%40e4.com
[EmailService] Transformed template data: {
  "recipientName": "John Doe",
  "recipientEmail": "email@e4.com",
  "senderName": "Bob Smith",
  "senderCompany": "Bank of America",
  "targetCompany": "DevelopmentTesting5",
  "inviteUrl": "https://9606074c-a9ad-4fe1-8fe5-3d9c3eed0606-00-33ar2rv36ligj.picard.replit.dev/register?code=06D25B&email=email%40e4.com",
  "code": "06D25B"
}
[EmailService] Getting email template: fintech_invite
[EmailTemplate] Getting template: fintech_invite
[EmailTemplate] Template data: {
  "recipientName": "John Doe",
  "recipientEmail": "email@e4.com",
  "senderName": "Bob Smith",
  "senderCompany": "Bank of America",
  "targetCompany": "DevelopmentTesting5",
  "inviteUrl": "https://9606074c-a9ad-4fe1-8fe5-3d9c3eed0606-00-33ar2rv36ligj.picard.replit.dev/register?code=06D25B&email=email%40e4.com",
  "code": "06D25B"
}
[Template:invitation] Received template data: {
  "recipientName": "John Doe",
  "recipientEmail": "email@e4.com",
  "senderName": "Bob Smith",
  "senderCompany": "Bank of America",
  "targetCompany": "DevelopmentTesting5",
  "inviteUrl": "https://9606074c-a9ad-4fe1-8fe5-3d9c3eed0606-00-33ar2rv36ligj.picard.replit.dev/register?code=06D25B&email=email%40e4.com",
  "code": "06D25B",
  "inviteType": "fintech"
}
[EmailService] Template generated successfully
[EmailService] Preparing to send email with configuration: {
  from: 'EvanCNavarro@gmail.com',
  to: 'email@e4.com',
  subject: 'Invitation to join Invela',
  textLength: 621,
  htmlLength: 1693
}
[EmailService] Email sent successfully to: email@e4.com
[FinTech Invite] Invitation email sent successfully
[FinTech Invite] Process completed: {
  companyId: 176,
  userId: 217,
  invitationId: 225,
  onboardingTaskId: 375,
  duration: 1677
}
9:53:23 AM [info] POST /api/fintech/invite 201 in 1708ms :: {"message":"FinTech company invited successfully","company":{"id":176,"name":...
[Auth] Processing logout request
[Auth] Logout successful for user: 183
[Auth] Unauthenticated user session
[Invite Debug] Starting validation for code: 06D25B
[Invite Debug] Found valid invitation: {
  id: 225,
  email: 'email@e4.com',
  status: 'pending',
  expires_at: 2025-04-27T09:53:21.646Z
}
9:53:40 AM [info] GET /api/invitations/06D25B/validate 200 in 61ms :: {"valid":true,"invitation":{"email":"email@e4.com","invitee_name":"John Doe",...
[Account Setup] Processing setup request for: email@e4.com
[Account Setup] Updated user: { id: 217, email: 'email@e4.com', onboarding_completed: false }
[Account Setup] Updated task status: { taskId: 375, status: 'completed', progress: 100 }
[WebSocket] Broadcasting task update: {
  taskId: 375,
  status: 'completed',
  progress: 100,
  metadata: {
    user_id: 217,
    userEmail: 'email@e4.com',
    company_id: 176,
    created_at: '2025-04-20T09:53:21.613Z',
    statusFlow: [ 'email_sent', 'completed' ],
    companyName: 'DevelopmentTesting5',
    created_via: 'fintech_invite',
    registeredAt: '2025-04-20T09:53:47.718Z',
    created_by_id: 183,
    email_sent_at: '2025-04-20T09:53:21.613Z'
  }
}
[Auth] Serializing user: 217
9:53:47 AM [info] POST /api/account/setup 200 in 322ms :: {"id":217,"email":"email@e4.com","full_name":"John Doe","first_name":"John","...
[Auth] Deserializing user: 217
[Auth] Deserializing user: 217
[Auth] Deserializing user: 217
[Tasks] ====== Starting task fetch =====
[Tasks] User details: { id: 217, company_id: 176, email: 'email@e4.com' }
[Network Visualization] Fetching network data for company: 176
[Current Company] Fetching company for user: { userId: 217, companyId: 176 }
[Tasks] KYB tasks found: { count: 1 }
[Tasks] Query conditions: {
  conditions: {
    condition1: 'tasks.assigned_to = 217',
    condition2: 'tasks.created_by = 217',
    condition3: "tasks.company_id = 176 AND tasks.assigned_to IS NULL AND tasks.task_scope = 'company'",
    condition4: "tasks.task_type = 'user_onboarding' AND LOWER(tasks.user_email) = LOWER('email@e4.com')"
  }
}
[Current Company] Found company: {
  id: 176,
  name: 'DevelopmentTesting5',
  onboardingCompleted: false,
  riskScore: null,
  isDemo: false
}
[Tasks] Tasks found: { count: 4 }
[Network Visualization] Found network relationships: { count: 2 }
[Network Visualization] Returning visualization data: { centerNode: 'DevelopmentTesting5', nodeCount: 2 }
9:53:48 AM [info] GET /api/companies/current 200 in 60ms :: {"id":176,"name":"DevelopmentTesting5","description":"FinTech partner company...
9:53:48 AM [info] GET /api/tasks 200 in 89ms :: [{"id":375,"title":"New User Invitation: email@e4.com","description":"Complet...
9:53:48 AM [info] GET /api/network/visualization 200 in 88ms :: {"center":{"id":176,"name":"DevelopmentTesting5","riskScore":0,"riskBucket":"...
9:53:48 AM [info] GET /api/tasks 304 in 30ms :: [{"id":375,"title":"New User Invitation: email@e4.com","description":"Complet...
[User Onboarding] Completing onboarding for user: 217
[User Onboarding] Updated user onboarding status: { id: 217, onboarding_completed: true }
9:53:52 AM [info] POST /api/user/complete-onboarding 200 in 60ms :: {"id":217,"email":"email@e4.com","full_name":"John Doe","first_name":"John","...
[Auth] Returning user session data
9:53:52 AM [info] GET /api/tasks 304 in 31ms :: [{"id":375,"title":"New User Invitation: email@e4.com","description":"Complet...
9:53:53 AM [info] GET /api/tasks 304 in 30ms :: [{"id":375,"title":"New User Invitation: email@e4.com","description":"Complet...
[Auth] Using cached user data: 217
[Tasks Routes] Fetching task by ID: { taskId: 376, timestamp: '2025-04-20T09:53:54.774Z' }
[Tasks Routes] Fetching latest KYB form data for task: 376
[Tasks Routes] No KYB responses found for task 376
[Tasks Routes] Task found by ID: {
  taskId: 376,
  title: '1. KYB Form: DevelopmentTesting5',
  type: 'company_kyb',
  formDataFields: 0,
  timestamp: '2025-04-20T09:53:54.861Z'
}
9:53:54 AM [info] GET /api/tasks/376 200 in 118ms :: {"id":376,"title":"1. KYB Form: DevelopmentTesting5","description":"Complete ...
[Task Templates API] Fetching template for task type: company_kyb, user: 217
9:53:55 AM [warn] GET /api/companies/is-demo 400 in 31ms :: {"message":"Invalid company ID","code":"INVALID_ID"}
[Task Templates API] Found template: 1 (KYB Form) for task type: company_kyb
[Task Templates API] Retrieved 9 configuration items for template ID: 1
9:53:55 AM [info] GET /api/task-templates/by-type/company_kyb 304 in 105ms :: {"id":1,"name":"KYB Form","description":"Know Your Business form for company ...
9:53:55 AM [info] GET /api/companies/176 200 in 60ms :: {"id":176,"name":"DevelopmentTesting5","description":"FinTech partner company...
[KYB API Debug] Loading progress for task: 376
[Task Reconciliation] Found 0 responses for task 376
[STATUS DETERMINATION] Calculating status for task with: {
  progress: 0,
  currentStatus: 'not_started',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  hasResponses: false,
  timestamp: '2025-04-20T09:53:55.366Z'
}
[STATUS DETERMINATION] Task has 0% progress, setting to NOT_STARTED
[Task Reconciliation] Progress calculation: {
  taskId: 376,
  currentProgress: 0,
  calculatedProgress: 0,
  currentStatus: 'not_started',
  calculatedStatus: 'not_started',
  responseCount: 0,
  completeCount: 0
}
[Task Reconciliation] No updates needed for task 376
[KYB API Debug] Retrieved task: {
  taskId: 376,
  status: 'not_started',
  progress: 0,
  metadata: [
    'company_id',
    'created_at',
    'created_via',
    'status_flow',
    'company_name',
    'created_by_id',
    'prerequisite_for'
  ],
  timestamp: '2025-04-20T09:53:55.395Z'
}
[KYB API Debug] Retrieved responses: { responseCount: 0, fields: [], timestamp: '2025-04-20T09:53:55.428Z' }
[SERVER DEBUG] No savedFormData found in task table
[SERVER DEBUG] No KYB form file ID found in task metadata
[KYB API Debug] Retrieved task data: {
  id: 376,
  responseCount: 0,
  progress: 0,
  status: 'not_started',
  formDataKeys: []
}
===============================================
[SERVER DEBUG] PREPARING GET RESPONSE at 2025-04-20T09:53:55.428Z
[SERVER DEBUG] Task ID: 376, Found 0 fields in database
===============================================
[SERVER DEBUG] Checking field corporateRegistration in retrieved data: NOT PRESENT
[SERVER DEBUG] Checking field goodStanding in retrieved data: NOT PRESENT
[SERVER DEBUG] Checking field regulatoryActions in retrieved data: NOT PRESENT
[SERVER DEBUG] Checking field investigationsIncidents in retrieved data: NOT PRESENT
[SERVER DEBUG] No fields with value "asdf" found in GET response data
[SERVER DEBUG] Sending GET response with 0 fields, status: not_started, progress: 0%
===============================================
9:53:55 AM [info] GET /api/kyb/progress/376 200 in 150ms :: {"formData":{},"progress":0,"status":"not_started"}
[KYB API Debug] Loading progress for task: 376
[Task Reconciliation] Found 0 responses for task 376
[STATUS DETERMINATION] Calculating status for task with: {
  progress: 0,
  currentStatus: 'not_started',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  hasResponses: false,
  timestamp: '2025-04-20T09:53:55.662Z'
}
[STATUS DETERMINATION] Task has 0% progress, setting to NOT_STARTED
[Task Reconciliation] Progress calculation: {
  taskId: 376,
  currentProgress: 0,
  calculatedProgress: 0,
  currentStatus: 'not_started',
  calculatedStatus: 'not_started',
  responseCount: 0,
  completeCount: 0
}
[Task Reconciliation] No updates needed for task 376
[KYB API Debug] Retrieved task: {
  taskId: 376,
  status: 'not_started',
  progress: 0,
  metadata: [
    'company_id',
    'created_at',
    'created_via',
    'status_flow',
    'company_name',
    'created_by_id',
    'prerequisite_for'
  ],
  timestamp: '2025-04-20T09:53:55.691Z'
}
[WebSocket] Received pong
[KYB API Debug] Retrieved responses: { responseCount: 0, fields: [], timestamp: '2025-04-20T09:53:55.720Z' }
[SERVER DEBUG] No savedFormData found in task table
[SERVER DEBUG] No KYB form file ID found in task metadata
[KYB API Debug] Retrieved task data: {
  id: 376,
  responseCount: 0,
  progress: 0,
  status: 'not_started',
  formDataKeys: []
}
===============================================
[SERVER DEBUG] PREPARING GET RESPONSE at 2025-04-20T09:53:55.721Z
[SERVER DEBUG] Task ID: 376, Found 0 fields in database
===============================================
[SERVER DEBUG] Checking field corporateRegistration in retrieved data: NOT PRESENT
[SERVER DEBUG] Checking field goodStanding in retrieved data: NOT PRESENT
[SERVER DEBUG] Checking field regulatoryActions in retrieved data: NOT PRESENT
[SERVER DEBUG] Checking field investigationsIncidents in retrieved data: NOT PRESENT
[SERVER DEBUG] No fields with value "asdf" found in GET response data
[SERVER DEBUG] Sending GET response with 0 fields, status: not_started, progress: 0%
===============================================
9:53:55 AM [info] GET /api/kyb/progress/376 304 in 144ms :: {"formData":{},"progress":0,"status":"not_started"}
[KYB API Debug] Loading progress for task: 376
[Task Reconciliation] Found 0 responses for task 376
[STATUS DETERMINATION] Calculating status for task with: {
  progress: 0,
  currentStatus: 'not_started',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  hasResponses: false,
  timestamp: '2025-04-20T09:53:55.953Z'
}
[STATUS DETERMINATION] Task has 0% progress, setting to NOT_STARTED
[Task Reconciliation] Progress calculation: {
  taskId: 376,
  currentProgress: 0,
  calculatedProgress: 0,
  currentStatus: 'not_started',
  calculatedStatus: 'not_started',
  responseCount: 0,
  completeCount: 0
}
[Task Reconciliation] No updates needed for task 376
[KYB API Debug] Retrieved task: {
  taskId: 376,
  status: 'not_started',
  progress: 0,
  metadata: [
    'company_id',
    'created_at',
    'created_via',
    'status_flow',
    'company_name',
    'created_by_id',
    'prerequisite_for'
  ],
  timestamp: '2025-04-20T09:53:55.983Z'
}
[KYB API Debug] Retrieved responses: { responseCount: 0, fields: [], timestamp: '2025-04-20T09:53:56.012Z' }
[SERVER DEBUG] No savedFormData found in task table
[SERVER DEBUG] No KYB form file ID found in task metadata
[KYB API Debug] Retrieved task data: {
  id: 376,
  responseCount: 0,
  progress: 0,
  status: 'not_started',
  formDataKeys: []
}
===============================================
[SERVER DEBUG] PREPARING GET RESPONSE at 2025-04-20T09:53:56.012Z
[SERVER DEBUG] Task ID: 376, Found 0 fields in database
===============================================
[SERVER DEBUG] Checking field corporateRegistration in retrieved data: NOT PRESENT
[SERVER DEBUG] Checking field goodStanding in retrieved data: NOT PRESENT
[SERVER DEBUG] Checking field regulatoryActions in retrieved data: NOT PRESENT
[SERVER DEBUG] Checking field investigationsIncidents in retrieved data: NOT PRESENT
[SERVER DEBUG] No fields with value "asdf" found in GET response data
[SERVER DEBUG] Sending GET response with 0 fields, status: not_started, progress: 0%
===============================================
9:53:56 AM [info] GET /api/kyb/progress/376 304 in 146ms :: {"formData":{},"progress":0,"status":"not_started"}
[WebSocket] Received pong
[KYB API Debug] Loading progress for task: 376
[Task Reconciliation] Found 0 responses for task 376
[STATUS DETERMINATION] Calculating status for task with: {
  progress: 0,
  currentStatus: 'not_started',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  hasResponses: false,
  timestamp: '2025-04-20T09:53:56.246Z'
}
[STATUS DETERMINATION] Task has 0% progress, setting to NOT_STARTED
[Task Reconciliation] Progress calculation: {
  taskId: 376,
  currentProgress: 0,
  calculatedProgress: 0,
  currentStatus: 'not_started',
  calculatedStatus: 'not_started',
  responseCount: 0,
  completeCount: 0
}
[Task Reconciliation] No updates needed for task 376
[KYB API Debug] Retrieved task: {
  taskId: 376,
  status: 'not_started',
  progress: 0,
  metadata: [
    'company_id',
    'created_at',
    'created_via',
    'status_flow',
    'company_name',
    'created_by_id',
    'prerequisite_for'
  ],
  timestamp: '2025-04-20T09:53:56.275Z'
}
[KYB API Debug] Retrieved responses: { responseCount: 0, fields: [], timestamp: '2025-04-20T09:53:56.304Z' }
[SERVER DEBUG] No savedFormData found in task table
[SERVER DEBUG] No KYB form file ID found in task metadata
[KYB API Debug] Retrieved task data: {
  id: 376,
  responseCount: 0,
  progress: 0,
  status: 'not_started',
  formDataKeys: []
}
===============================================
[SERVER DEBUG] PREPARING GET RESPONSE at 2025-04-20T09:53:56.304Z
[SERVER DEBUG] Task ID: 376, Found 0 fields in database
===============================================
[SERVER DEBUG] Checking field corporateRegistration in retrieved data: NOT PRESENT
[SERVER DEBUG] Checking field goodStanding in retrieved data: NOT PRESENT
[SERVER DEBUG] Checking field regulatoryActions in retrieved data: NOT PRESENT
[SERVER DEBUG] Checking field investigationsIncidents in retrieved data: NOT PRESENT
[SERVER DEBUG] No fields with value "asdf" found in GET response data
[SERVER DEBUG] Sending GET response with 0 fields, status: not_started, progress: 0%
===============================================
9:53:56 AM [info] GET /api/kyb/progress/376 304 in 145ms :: {"formData":{},"progress":0,"status":"not_started"}
[KYB API Debug] Loading progress for task: 376
[Task Reconciliation] Found 0 responses for task 376
[STATUS DETERMINATION] Calculating status for task with: {
  progress: 0,
  currentStatus: 'not_started',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  hasResponses: false,
  timestamp: '2025-04-20T09:53:56.538Z'
}
[STATUS DETERMINATION] Task has 0% progress, setting to NOT_STARTED
[Task Reconciliation] Progress calculation: {
  taskId: 376,
  currentProgress: 0,
  calculatedProgress: 0,
  currentStatus: 'not_started',
  calculatedStatus: 'not_started',
  responseCount: 0,
  completeCount: 0
}
[Task Reconciliation] No updates needed for task 376
[KYB API Debug] Retrieved task: {
  taskId: 376,
  status: 'not_started',
  progress: 0,
  metadata: [
    'company_id',
    'created_at',
    'created_via',
    'status_flow',
    'company_name',
    'created_by_id',
    'prerequisite_for'
  ],
  timestamp: '2025-04-20T09:53:56.567Z'
}
[KYB API Debug] Retrieved responses: { responseCount: 0, fields: [], timestamp: '2025-04-20T09:53:56.596Z' }
[SERVER DEBUG] No savedFormData found in task table
[SERVER DEBUG] No KYB form file ID found in task metadata
[KYB API Debug] Retrieved task data: {
  id: 376,
  responseCount: 0,
  progress: 0,
  status: 'not_started',
  formDataKeys: []
}
===============================================
[SERVER DEBUG] PREPARING GET RESPONSE at 2025-04-20T09:53:56.596Z
[SERVER DEBUG] Task ID: 376, Found 0 fields in database
===============================================
[SERVER DEBUG] Checking field corporateRegistration in retrieved data: NOT PRESENT
[SERVER DEBUG] Checking field goodStanding in retrieved data: NOT PRESENT
[SERVER DEBUG] Checking field regulatoryActions in retrieved data: NOT PRESENT
[SERVER DEBUG] Checking field investigationsIncidents in retrieved data: NOT PRESENT
[SERVER DEBUG] No fields with value "asdf" found in GET response data
[SERVER DEBUG] Sending GET response with 0 fields, status: not_started, progress: 0%
===============================================
9:53:56 AM [info] GET /api/kyb/progress/376 304 in 146ms :: {"formData":{},"progress":0,"status":"not_started"}
9:54:10 AM [info] GET /api/tasks 304 in 30ms :: [{"id":375,"title":"New User Invitation: email@e4.com","description":"Complet...
[Tasks Routes] Fetching task by ID: { taskId: 376, timestamp: '2025-04-20T09:54:11.345Z' }
[Tasks Routes] Fetching latest KYB form data for task: 376
[Tasks Routes] No KYB responses found for task 376
[Tasks Routes] Task found by ID: {
  taskId: 376,
  title: '1. KYB Form: DevelopmentTesting5',
  type: 'company_kyb',
  formDataFields: 0,
  timestamp: '2025-04-20T09:54:11.432Z'
}
9:54:11 AM [info] GET /api/tasks/376 304 in 117ms :: {"id":376,"title":"1. KYB Form: DevelopmentTesting5","description":"Complete ...
[Task Templates API] Fetching template for task type: company_kyb, user: 217
[Task Templates API] Found template: 1 (KYB Form) for task type: company_kyb
9:54:11 AM [warn] GET /api/companies/is-demo 400 in 31ms :: {"message":"Invalid company ID","code":"INVALID_ID"}
[Task Templates API] Retrieved 9 configuration items for template ID: 1
9:54:11 AM [info] GET /api/task-templates/by-type/company_kyb 304 in 87ms :: {"id":1,"name":"KYB Form","description":"Know Your Business form for company ...
[Auth] Using cached user data: 217
[KYB API Debug] Loading progress for task: 376
9:54:11 AM [info] GET /api/companies/176 200 in 63ms :: {"id":176,"name":"DevelopmentTesting5","description":"FinTech partner company...
[Task Reconciliation] Found 0 responses for task 376
[STATUS DETERMINATION] Calculating status for task with: {
  progress: 0,
  currentStatus: 'not_started',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  hasResponses: false,
  timestamp: '2025-04-20T09:54:11.772Z'
}
[STATUS DETERMINATION] Task has 0% progress, setting to NOT_STARTED
[Task Reconciliation] Progress calculation: {
  taskId: 376,
  currentProgress: 0,
  calculatedProgress: 0,
  currentStatus: 'not_started',
  calculatedStatus: 'not_started',
  responseCount: 0,
  completeCount: 0
}
[Task Reconciliation] No updates needed for task 376
[KYB API Debug] Retrieved task: {
  taskId: 376,
  status: 'not_started',
  progress: 0,
  metadata: [
    'company_id',
    'created_at',
    'created_via',
    'status_flow',
    'company_name',
    'created_by_id',
    'prerequisite_for'
  ],
  timestamp: '2025-04-20T09:54:11.804Z'
}
[KYB API Debug] Retrieved responses: { responseCount: 0, fields: [], timestamp: '2025-04-20T09:54:11.834Z' }
[SERVER DEBUG] No savedFormData found in task table
[SERVER DEBUG] No KYB form file ID found in task metadata
[KYB API Debug] Retrieved task data: {
  id: 376,
  responseCount: 0,
  progress: 0,
  status: 'not_started',
  formDataKeys: []
}
===============================================
[SERVER DEBUG] PREPARING GET RESPONSE at 2025-04-20T09:54:11.834Z
[SERVER DEBUG] Task ID: 376, Found 0 fields in database
===============================================
[SERVER DEBUG] Checking field corporateRegistration in retrieved data: NOT PRESENT
[SERVER DEBUG] Checking field goodStanding in retrieved data: NOT PRESENT
[SERVER DEBUG] Checking field regulatoryActions in retrieved data: NOT PRESENT
[SERVER DEBUG] Checking field investigationsIncidents in retrieved data: NOT PRESENT
[SERVER DEBUG] No fields with value "asdf" found in GET response data
[SERVER DEBUG] Sending GET response with 0 fields, status: not_started, progress: 0%
===============================================
9:54:11 AM [info] GET /api/kyb/progress/376 304 in 153ms :: {"formData":{},"progress":0,"status":"not_started"}
[KYB API Debug] Loading progress for task: 376
[Task Reconciliation] Found 0 responses for task 376
[STATUS DETERMINATION] Calculating status for task with: {
  progress: 0,
  currentStatus: 'not_started',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  hasResponses: false,
  timestamp: '2025-04-20T09:54:12.073Z'
}
[STATUS DETERMINATION] Task has 0% progress, setting to NOT_STARTED
[Task Reconciliation] Progress calculation: {
  taskId: 376,
  currentProgress: 0,
  calculatedProgress: 0,
  currentStatus: 'not_started',
  calculatedStatus: 'not_started',
  responseCount: 0,
  completeCount: 0
}
[Task Reconciliation] No updates needed for task 376
[KYB API Debug] Retrieved task: {
  taskId: 376,
  status: 'not_started',
  progress: 0,
  metadata: [
    'company_id',
    'created_at',
    'created_via',
    'status_flow',
    'company_name',
    'created_by_id',
    'prerequisite_for'
  ],
  timestamp: '2025-04-20T09:54:12.102Z'
}
[KYB API Debug] Retrieved responses: { responseCount: 0, fields: [], timestamp: '2025-04-20T09:54:12.132Z' }
[SERVER DEBUG] No savedFormData found in task table
[SERVER DEBUG] No KYB form file ID found in task metadata
[KYB API Debug] Retrieved task data: {
  id: 376,
  responseCount: 0,
  progress: 0,
  status: 'not_started',
  formDataKeys: []
}
===============================================
[SERVER DEBUG] PREPARING GET RESPONSE at 2025-04-20T09:54:12.132Z
[SERVER DEBUG] Task ID: 376, Found 0 fields in database
===============================================
[SERVER DEBUG] Checking field corporateRegistration in retrieved data: NOT PRESENT
[SERVER DEBUG] Checking field goodStanding in retrieved data: NOT PRESENT
[SERVER DEBUG] Checking field regulatoryActions in retrieved data: NOT PRESENT
[SERVER DEBUG] Checking field investigationsIncidents in retrieved data: NOT PRESENT
[SERVER DEBUG] No fields with value "asdf" found in GET response data
[SERVER DEBUG] Sending GET response with 0 fields, status: not_started, progress: 0%
===============================================
9:54:12 AM [info] GET /api/kyb/progress/376 304 in 150ms :: {"formData":{},"progress":0,"status":"not_started"}
[KYB API Debug] Loading progress for task: 376
[Task Reconciliation] Found 0 responses for task 376
[STATUS DETERMINATION] Calculating status for task with: {
  progress: 0,
  currentStatus: 'not_started',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  hasResponses: false,
  timestamp: '2025-04-20T09:54:12.370Z'
}
[STATUS DETERMINATION] Task has 0% progress, setting to NOT_STARTED
[Task Reconciliation] Progress calculation: {
  taskId: 376,
  currentProgress: 0,
  calculatedProgress: 0,
  currentStatus: 'not_started',
  calculatedStatus: 'not_started',
  responseCount: 0,
  completeCount: 0
}
[Task Reconciliation] No updates needed for task 376
[KYB API Debug] Retrieved task: {
  taskId: 376,
  status: 'not_started',
  progress: 0,
  metadata: [
    'company_id',
    'created_at',
    'created_via',
    'status_flow',
    'company_name',
    'created_by_id',
    'prerequisite_for'
  ],
  timestamp: '2025-04-20T09:54:12.400Z'
}
[KYB API Debug] Retrieved responses: { responseCount: 0, fields: [], timestamp: '2025-04-20T09:54:12.430Z' }
[SERVER DEBUG] No savedFormData found in task table
[SERVER DEBUG] No KYB form file ID found in task metadata
[KYB API Debug] Retrieved task data: {
  id: 376,
  responseCount: 0,
  progress: 0,
  status: 'not_started',
  formDataKeys: []
}
===============================================
[SERVER DEBUG] PREPARING GET RESPONSE at 2025-04-20T09:54:12.430Z
[SERVER DEBUG] Task ID: 376, Found 0 fields in database
===============================================
[SERVER DEBUG] Checking field corporateRegistration in retrieved data: NOT PRESENT
[SERVER DEBUG] Checking field goodStanding in retrieved data: NOT PRESENT
[SERVER DEBUG] Checking field regulatoryActions in retrieved data: NOT PRESENT
[SERVER DEBUG] Checking field investigationsIncidents in retrieved data: NOT PRESENT
[SERVER DEBUG] No fields with value "asdf" found in GET response data
[SERVER DEBUG] Sending GET response with 0 fields, status: not_started, progress: 0%
===============================================
9:54:12 AM [info] GET /api/kyb/progress/376 304 in 150ms :: {"formData":{},"progress":0,"status":"not_started"}
[KYB API Debug] Loading progress for task: 376
[Task Reconciliation] Found 0 responses for task 376
[STATUS DETERMINATION] Calculating status for task with: {
  progress: 0,
  currentStatus: 'not_started',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  hasResponses: false,
  timestamp: '2025-04-20T09:54:12.670Z'
}
[STATUS DETERMINATION] Task has 0% progress, setting to NOT_STARTED
[Task Reconciliation] Progress calculation: {
  taskId: 376,
  currentProgress: 0,
  calculatedProgress: 0,
  currentStatus: 'not_started',
  calculatedStatus: 'not_started',
  responseCount: 0,
  completeCount: 0
}
[Task Reconciliation] No updates needed for task 376
[KYB API Debug] Retrieved task: {
  taskId: 376,
  status: 'not_started',
  progress: 0,
  metadata: [
    'company_id',
    'created_at',
    'created_via',
    'status_flow',
    'company_name',
    'created_by_id',
    'prerequisite_for'
  ],
  timestamp: '2025-04-20T09:54:12.702Z'
}
[KYB API Debug] Retrieved responses: { responseCount: 0, fields: [], timestamp: '2025-04-20T09:54:12.732Z' }
[SERVER DEBUG] No savedFormData found in task table
[SERVER DEBUG] No KYB form file ID found in task metadata
[KYB API Debug] Retrieved task data: {
  id: 376,
  responseCount: 0,
  progress: 0,
  status: 'not_started',
  formDataKeys: []
}
===============================================
[SERVER DEBUG] PREPARING GET RESPONSE at 2025-04-20T09:54:12.732Z
[SERVER DEBUG] Task ID: 376, Found 0 fields in database
===============================================
[SERVER DEBUG] Checking field corporateRegistration in retrieved data: NOT PRESENT
[SERVER DEBUG] Checking field goodStanding in retrieved data: NOT PRESENT
[SERVER DEBUG] Checking field regulatoryActions in retrieved data: NOT PRESENT
[SERVER DEBUG] Checking field investigationsIncidents in retrieved data: NOT PRESENT
[SERVER DEBUG] No fields with value "asdf" found in GET response data
[SERVER DEBUG] Sending GET response with 0 fields, status: not_started, progress: 0%
===============================================
9:54:12 AM [info] GET /api/kyb/progress/376 304 in 151ms :: {"formData":{},"progress":0,"status":"not_started"}
[Tasks] ====== Starting task fetch =====
[Tasks] User details: { id: 217, company_id: 176, email: 'email@e4.com' }
[Tasks] KYB tasks found: { count: 1 }
[Tasks] Query conditions: {
  conditions: {
    condition1: 'tasks.assigned_to = 217',
    condition2: 'tasks.created_by = 217',
    condition3: "tasks.company_id = 176 AND tasks.assigned_to IS NULL AND tasks.task_scope = 'company'",
    condition4: "tasks.task_type = 'user_onboarding' AND LOWER(tasks.user_email) = LOWER('email@e4.com')"
  }
}
[Tasks] Tasks found: { count: 4 }
9:54:29 AM [info] GET /api/tasks 304 in 91ms :: [{"id":375,"title":"New User Invitation: email@e4.com","description":"Complet...
9:54:29 AM [info] GET /api/tasks 304 in 31ms :: [{"id":375,"title":"New User Invitation: email@e4.com","description":"Complet...
[Tasks Routes] Fetching task by ID: { taskId: 376, timestamp: '2025-04-20T09:54:30.455Z' }
[Auth] Returning user session data
[Tasks Routes] Fetching latest KYB form data for task: 376
[Tasks Routes] No KYB responses found for task 376
[Tasks Routes] Task found by ID: {
  taskId: 376,
  title: '1. KYB Form: DevelopmentTesting5',
  type: 'company_kyb',
  formDataFields: 0,
  timestamp: '2025-04-20T09:54:30.544Z'
}
9:54:30 AM [info] GET /api/tasks/376 304 in 119ms :: {"id":376,"title":"1. KYB Form: DevelopmentTesting5","description":"Complete ...
[Task Templates API] Fetching template for task type: company_kyb, user: 217
9:54:30 AM [warn] GET /api/companies/is-demo 400 in 30ms :: {"message":"Invalid company ID","code":"INVALID_ID"}
9:54:30 AM [info] GET /api/companies/current 304 in 29ms :: {"id":176,"name":"DevelopmentTesting5","description":"FinTech partner company...
[Task Templates API] Found template: 1 (KYB Form) for task type: company_kyb
[Task Templates API] Retrieved 9 configuration items for template ID: 1
9:54:30 AM [info] GET /api/task-templates/by-type/company_kyb 304 in 90ms :: {"id":1,"name":"KYB Form","description":"Know Your Business form for company ...
9:54:30 AM [info] GET /api/companies/176 304 in 61ms :: {"id":176,"name":"DevelopmentTesting5","description":"FinTech partner company...
[KYB API Debug] Loading progress for task: 376
[Task Reconciliation] Found 0 responses for task 376
[STATUS DETERMINATION] Calculating status for task with: {
  progress: 0,
  currentStatus: 'not_started',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  hasResponses: false,
  timestamp: '2025-04-20T09:54:30.908Z'
}
[STATUS DETERMINATION] Task has 0% progress, setting to NOT_STARTED
[Task Reconciliation] Progress calculation: {
  taskId: 376,
  currentProgress: 0,
  calculatedProgress: 0,
  currentStatus: 'not_started',
  calculatedStatus: 'not_started',
  responseCount: 0,
  completeCount: 0
}
[Task Reconciliation] No updates needed for task 376
[KYB API Debug] Retrieved task: {
  taskId: 376,
  status: 'not_started',
  progress: 0,
  metadata: [
    'company_id',
    'created_at',
    'created_via',
    'status_flow',
    'company_name',
    'created_by_id',
    'prerequisite_for'
  ],
  timestamp: '2025-04-20T09:54:30.937Z'
}
[KYB API Debug] Retrieved responses: { responseCount: 0, fields: [], timestamp: '2025-04-20T09:54:30.967Z' }
[SERVER DEBUG] No savedFormData found in task table
[SERVER DEBUG] No KYB form file ID found in task metadata
[KYB API Debug] Retrieved task data: {
  id: 376,
  responseCount: 0,
  progress: 0,
  status: 'not_started',
  formDataKeys: []
}
===============================================
[SERVER DEBUG] PREPARING GET RESPONSE at 2025-04-20T09:54:30.968Z
[SERVER DEBUG] Task ID: 376, Found 0 fields in database
===============================================
[SERVER DEBUG] Checking field corporateRegistration in retrieved data: NOT PRESENT
[SERVER DEBUG] Checking field goodStanding in retrieved data: NOT PRESENT
[SERVER DEBUG] Checking field regulatoryActions in retrieved data: NOT PRESENT
[SERVER DEBUG] Checking field investigationsIncidents in retrieved data: NOT PRESENT
[SERVER DEBUG] No fields with value "asdf" found in GET response data
[SERVER DEBUG] Sending GET response with 0 fields, status: not_started, progress: 0%
===============================================
9:54:30 AM [info] GET /api/kyb/progress/376 304 in 150ms :: {"formData":{},"progress":0,"status":"not_started"}
[KYB API Debug] Loading progress for task: 376
[Task Reconciliation] Found 0 responses for task 376
[STATUS DETERMINATION] Calculating status for task with: {
  progress: 0,
  currentStatus: 'not_started',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  hasResponses: false,
  timestamp: '2025-04-20T09:54:31.207Z'
}
[STATUS DETERMINATION] Task has 0% progress, setting to NOT_STARTED
[Task Reconciliation] Progress calculation: {
  taskId: 376,
  currentProgress: 0,
  calculatedProgress: 0,
  currentStatus: 'not_started',
  calculatedStatus: 'not_started',
  responseCount: 0,
  completeCount: 0
}
[Task Reconciliation] No updates needed for task 376
[KYB API Debug] Retrieved task: {
  taskId: 376,
  status: 'not_started',
  progress: 0,
  metadata: [
    'company_id',
    'created_at',
    'created_via',
    'status_flow',
    'company_name',
    'created_by_id',
    'prerequisite_for'
  ],
  timestamp: '2025-04-20T09:54:31.237Z'
}
[KYB API Debug] Retrieved responses: { responseCount: 0, fields: [], timestamp: '2025-04-20T09:54:31.267Z' }
[SERVER DEBUG] No savedFormData found in task table
[SERVER DEBUG] No KYB form file ID found in task metadata
[KYB API Debug] Retrieved task data: {
  id: 376,
  responseCount: 0,
  progress: 0,
  status: 'not_started',
  formDataKeys: []
}
===============================================
[SERVER DEBUG] PREPARING GET RESPONSE at 2025-04-20T09:54:31.267Z
[SERVER DEBUG] Task ID: 376, Found 0 fields in database
===============================================
[SERVER DEBUG] Checking field corporateRegistration in retrieved data: NOT PRESENT
[SERVER DEBUG] Checking field goodStanding in retrieved data: NOT PRESENT
[SERVER DEBUG] Checking field regulatoryActions in retrieved data: NOT PRESENT
[SERVER DEBUG] Checking field investigationsIncidents in retrieved data: NOT PRESENT
[SERVER DEBUG] No fields with value "asdf" found in GET response data
[SERVER DEBUG] Sending GET response with 0 fields, status: not_started, progress: 0%
===============================================
9:54:31 AM [info] GET /api/kyb/progress/376 304 in 150ms :: {"formData":{},"progress":0,"status":"not_started"}
[KYB API Debug] Loading progress for task: 376
[Task Reconciliation] Found 0 responses for task 376
[STATUS DETERMINATION] Calculating status for task with: {
  progress: 0,
  currentStatus: 'not_started',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  hasResponses: false,
  timestamp: '2025-04-20T09:54:31.508Z'
}
[STATUS DETERMINATION] Task has 0% progress, setting to NOT_STARTED
[Task Reconciliation] Progress calculation: {
  taskId: 376,
  currentProgress: 0,
  calculatedProgress: 0,
  currentStatus: 'not_started',
  calculatedStatus: 'not_started',
  responseCount: 0,
  completeCount: 0
}
[Task Reconciliation] No updates needed for task 376
[KYB API Debug] Retrieved task: {
  taskId: 376,
  status: 'not_started',
  progress: 0,
  metadata: [
    'company_id',
    'created_at',
    'created_via',
    'status_flow',
    'company_name',
    'created_by_id',
    'prerequisite_for'
  ],
  timestamp: '2025-04-20T09:54:31.538Z'
}
[KYB API Debug] Retrieved responses: { responseCount: 0, fields: [], timestamp: '2025-04-20T09:54:31.569Z' }
[SERVER DEBUG] No savedFormData found in task table
[SERVER DEBUG] No KYB form file ID found in task metadata
[KYB API Debug] Retrieved task data: {
  id: 376,
  responseCount: 0,
  progress: 0,
  status: 'not_started',
  formDataKeys: []
}
===============================================
[SERVER DEBUG] PREPARING GET RESPONSE at 2025-04-20T09:54:31.569Z
[SERVER DEBUG] Task ID: 376, Found 0 fields in database
===============================================
[SERVER DEBUG] Checking field corporateRegistration in retrieved data: NOT PRESENT
[SERVER DEBUG] Checking field goodStanding in retrieved data: NOT PRESENT
[SERVER DEBUG] Checking field regulatoryActions in retrieved data: NOT PRESENT
[SERVER DEBUG] Checking field investigationsIncidents in retrieved data: NOT PRESENT
[SERVER DEBUG] No fields with value "asdf" found in GET response data
[SERVER DEBUG] Sending GET response with 0 fields, status: not_started, progress: 0%
===============================================
9:54:31 AM [info] GET /api/kyb/progress/376 304 in 152ms :: {"formData":{},"progress":0,"status":"not_started"}
[KYB API Debug] Loading progress for task: 376
[Task Reconciliation] Found 0 responses for task 376
[STATUS DETERMINATION] Calculating status for task with: {
  progress: 0,
  currentStatus: 'not_started',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  hasResponses: false,
  timestamp: '2025-04-20T09:54:31.809Z'
}
[STATUS DETERMINATION] Task has 0% progress, setting to NOT_STARTED
[Task Reconciliation] Progress calculation: {
  taskId: 376,
  currentProgress: 0,
  calculatedProgress: 0,
  currentStatus: 'not_started',
  calculatedStatus: 'not_started',
  responseCount: 0,
  completeCount: 0
}
[Task Reconciliation] No updates needed for task 376
[KYB API Debug] Retrieved task: {
  taskId: 376,
  status: 'not_started',
  progress: 0,
  metadata: [
    'company_id',
    'created_at',
    'created_via',
    'status_flow',
    'company_name',
    'created_by_id',
    'prerequisite_for'
  ],
  timestamp: '2025-04-20T09:54:31.838Z'
}
[KYB API Debug] Retrieved responses: { responseCount: 0, fields: [], timestamp: '2025-04-20T09:54:31.868Z' }
[SERVER DEBUG] No savedFormData found in task table
[SERVER DEBUG] No KYB form file ID found in task metadata
[KYB API Debug] Retrieved task data: {
  id: 376,
  responseCount: 0,
  progress: 0,
  status: 'not_started',
  formDataKeys: []
}
===============================================
[SERVER DEBUG] PREPARING GET RESPONSE at 2025-04-20T09:54:31.868Z
[SERVER DEBUG] Task ID: 376, Found 0 fields in database
===============================================
[SERVER DEBUG] Checking field corporateRegistration in retrieved data: NOT PRESENT
[SERVER DEBUG] Checking field goodStanding in retrieved data: NOT PRESENT
[SERVER DEBUG] Checking field regulatoryActions in retrieved data: NOT PRESENT
[SERVER DEBUG] Checking field investigationsIncidents in retrieved data: NOT PRESENT
[SERVER DEBUG] No fields with value "asdf" found in GET response data
[SERVER DEBUG] Sending GET response with 0 fields, status: not_started, progress: 0%
===============================================
9:54:31 AM [info] GET /api/kyb/progress/376 304 in 151ms :: {"formData":{},"progress":0,"status":"not_started"}
[WebSocket] Received pong
[WebSocket] Received pong
