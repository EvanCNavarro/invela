[vite] connecting...
DOMException {}

[EnhancedKybServiceFactory] Using deprecated default instance - should specify company and task IDs
[EnhancedKybServiceFactory] Creating new EnhancedKybFormService instance for company-default-task-default
[Enhanced KYB Service] Enhanced KYB Form Service initialized with timestamp tracking
[KY3PFormService] [KY3P Form Service] Initializing KY3P Form Service 
Object {companyId: undefined, taskId: undefined}
[Enhanced KYB Service] Enhanced KYB Form Service initialized with timestamp tracking
INFO: [OpenBankingFormService] Initializing Open Banking Form Service 
Object {companyId: undefined, taskId: undefined}
[Enhanced KYB Service] Enhanced KYB Form Service initialized with timestamp tracking
[KY3PFormService] [KY3P Form Service] Initializing KY3P Form Service 
Object {companyId: undefined, taskId: undefined}
[Router] Current location: /task-center/task/613
[WebSocket] Connecting to: wss://9606074c-a9ad-4fe1-8fe5-3d9c3eed0606-00-33ar2rv36ligj.picard.replit.dev/ws
[TanStack Query] Fetching: /api/user
[App] Registering form services at application startup
[Service Registration] Registering form services... 
Object {timestamp: "2025-04-22T06:44:20.696Z", kybServiceState: "initialized"}
[Service Registration] Getting registered services before registration
[ComponentFactory] Getting all registered form services (0 total)
[Service Registration] Found 0 existing services: []
[Service Registration] Registering Enhanced KYB service for type: kyb
[ComponentFactory] Registering form service for task type: kyb 
Object {serviceType: "EnhancedKybFormService", timestamp: "2025-04-22T06:44:20.696Z"}
[ComponentFactory] Current registered services: [kyb: EnhancedKybFormService]
[Service Registration] Registering Enhanced KYB service for type: company_kyb
[ComponentFactory] Registering form service for task type: company_kyb 
Object {serviceType: "EnhancedKybFormService", timestamp: "2025-04-22T06:44:20.696Z"}
[ComponentFactory] Current registered services: [kyb: EnhancedKybFormService, company_kyb: EnhancedKybFormService]
[Service Registration] EnhancedKybServiceFactory initialized and ready for isolated service creation
[ComponentFactory] Getting all registered form services (2 total)
[ComponentFactory] Registered service: kyb -> EnhancedKybFormService
[ComponentFactory] Registered service: company_kyb -> EnhancedKybFormService
[Service Registration] After registration: 2 services registered
[Service Registration] - Service 'kyb' registered with EnhancedKybFormService instance
[Service Registration] - Service 'company_kyb' registered with EnhancedKybFormService instance
[Service Registration] Registering KY3P form service for standard type: ky3p
[ComponentFactory] Registering form service for task type: ky3p 
Object {serviceType: "KY3PFormService", timestamp: "2025-04-22T06:44:20.696Z"}
[ComponentFactory] Current registered services: [kyb: EnhancedKybFormService, company_kyb: EnhancedKybFormService, ky3p: KY3PFormService]
[Service Registration] Registering KY3P form service for legacy type: sp_ky3p_assessment
[ComponentFactory] Registering form service for task type: sp_ky3p_assessment 
Object {serviceType: "KY3PFormService", timestamp: "2025-04-22T06:44:20.696Z"}
[ComponentFactory] Current registered services: [kyb: EnhancedKybFormService, company_kyb: EnhancedKybFormService, ky3p: KY3PFormService, sp_ky3p_assessment: KY3PFormService]
[Service Registration] Registering KY3P form service for legacy type: security
[ComponentFactory] Registering form service for task type: security 
Object {serviceType: "KY3PFormService", timestamp: "2025-04-22T06:44:20.696Z"}
[ComponentFactory] Current registered services: [kyb: EnhancedKybFormService, company_kyb: EnhancedKybFormService, ky3p: KY3PFormService, sp_ky3p_assessment: KY3PFormService, security: KY3PFormService]
[Service Registration] Registering KY3P form service for legacy type: security_assessment
[ComponentFactory] Registering form service for task type: security_assessment 
Object {serviceType: "KY3PFormService", timestamp: "2025-04-22T06:44:20.696Z"}
[ComponentFactory] Current registered services: [kyb: EnhancedKybFormService, company_kyb: EnhancedKybFormService, ky3p: KY3PFormService, sp_ky3p_assessment: KY3PFormService, security: KY3PFormService, security_assessment: KY3PFormService]
[Service Registration] KY3PFormServiceFactory initialized and ready for isolated service creation
[Service Registration] Registering Open Banking form service for type: open_banking_survey
[ComponentFactory] Registering form service for task type: open_banking_survey 
Object {serviceType: "OpenBankingFormService", timestamp: "2025-04-22T06:44:20.696Z"}
[ComponentFactory] Current registered services: [kyb: EnhancedKybFormService, company_kyb: EnhancedKybFormService, ky3p: KY3PFormService, sp_ky3p_assessment: KY3PFormService, security: KY3PFormService, security_assessment: KY3PFormService, open_banking_survey: OpenBankingFormService]
[Service Registration] Registering Open Banking form service for client type: open_banking
[ComponentFactory] Registering form service for task type: open_banking 
Object {serviceType: "OpenBankingFormService", timestamp: "2025-04-22T06:44:20.696Z"}
[ComponentFactory] Current registered services: [kyb: EnhancedKybFormService, company_kyb: EnhancedKybFormService, ky3p: KY3PFormService, sp_ky3p_assessment: KY3PFormService, security: KY3PFormService, security_assessment: KY3PFormService, open_banking_survey: OpenBankingFormService, open_banking: OpenBankingFormService]
[Service Registration] OpenBankingFormServiceFactory initialized and ready for isolated service creation
[ComponentFactory] Looking up form service for task type: kyb 
Object {found: true, serviceType: "EnhancedKybFormService", timestamp: "2025-04-22T06:44:20.697Z"}
[ComponentFactory] Looking up form service for task type: company_kyb 
Object {found: true, serviceType: "EnhancedKybFormService", timestamp: "2025-04-22T06:44:20.697Z"}
[Service Registration] Final verification: 
Object {kybRegistered: true, companyKybRegistered: true, kybServiceType: "EnhancedKybFormService", companyKybServiceType: "EnhancedKybFormService", isEnhanced: true}
[Service Registration] Services registered successfully
[TanStack Query] Response for /api/user: Status 200
[WelcomeModal] Not rendering modal because: 
Object {noUser: false, onboardingCompleted: true, modalHidden: true}
[Sidebar] Available tabs updated: 
Array ["task-center"]
[ONBOARDING DEBUG] WelcomeModal user data received: 
Object {userId: 276, email: "29@e.com", onboardingCompleted: true, userObject: "{↵  "id": 276,↵  "email": "29@e.com",↵  "full_name": "John Doe",↵  "first_name":…"}
[ONBOARDING DEBUG] User is already marked as onboarded in user object
[DashboardLayout] Waiting for company data...
[TaskPage] Task initialization: 
Object {taskSlug: "613", parsedId: 613, taskId: 613, apiEndpoint: "/api/tasks.json/613", timestamp: "2025-04-22T06:44:20.897Z"}
[TaskPage] Fetching task data by ID: 
Object {taskId: 613, fullUrl: "/api/tasks.json/613", timestamp: "2025-04-22T06:44:20.897Z"}
[ONBOARDING DEBUG] User object in AuthProvider changed: 
Object {userId: 276, onboardingCompleted: true, typeOfOnboardingFlag: "boolean", timestamp: "2025-04-22T06:44:20.898Z"}
Preloaded image: /assets/modal_userOboarding_1.png
[WelcomeModal] Not rendering modal because: 
Object {noUser: false, onboardingCompleted: true, modalHidden: true}
[WelcomeModal] Not rendering modal because: 
Object {noUser: false, onboardingCompleted: true, modalHidden: true}
[Sidebar] Available tabs updated: 
Array ["task-center"]
[DashboardLayout] Checking route access: 
Object {currentTab: "task-center", availableTabs: Array(2), isLoadingCompany: false}
[DashboardLayout] Tab "task-center" accessible: true
[WelcomeModal] Not rendering modal because: 
Object {noUser: false, onboardingCompleted: true, modalHidden: true}
[Sidebar] Available tabs updated: 
(2) ["task-center", "file-vault"]
[TaskPage] Task data received: 
Object {taskId: 613, taskType: "ky3p", title: "2. S&P KY3P Security Assessment: DevTest29", status: "not_started", timestamp: "2025-04-22T06:44:21.126Z"}
[DashboardLayout] Checking route access: 
Object {currentTab: "task-center", availableTabs: Array(2), isLoadingCompany: false}
[DashboardLayout] Tab "task-center" accessible: true
[WelcomeModal] Not rendering modal because: 
Object {noUser: false, onboardingCompleted: true, modalHidden: true}
[DashboardLayout] Checking route access: 
Object {currentTab: "task-center", availableTabs: Array(2), isLoadingCompany: false}
[DashboardLayout] Tab "task-center" accessible: true
[WelcomeModal] Not rendering modal because: 
Object {noUser: false, onboardingCompleted: true, modalHidden: true}
[TaskPage] Extracting company name from title: "2. S&P KY3P Security Assessment: DevTest29"
[TaskPage] Extracted company name (colon split): "DevTest29"
[TaskPage] Found current company name from API: "DevTest29"
[TaskPage] Company name set for ky3p form: 
Object {displayNameValue: "DevTest29", extractedName: "DevTest29", metadataName: undefined, currentCompanyName: "DevTest29", taskTitle: "2. S&P KY3P Security Assessment: DevTest29"}
[TaskPage] Company name set for ky3p form: 
Object {displayNameValue: "DevTest29", extractedName: "DevTest29", metadataName: undefined, taskTitle: "2. S&P KY3P Security Assessment: DevTest29"}
[DashboardLayout] Checking route access: 
Object {currentTab: "task-center", availableTabs: Array(2), isLoadingCompany: false}
[DashboardLayout] Tab "task-center" accessible: true
[WelcomeModal] Not rendering modal because: 
Object {noUser: false, onboardingCompleted: true, modalHidden: true}
Preloaded image: /assets/harmonized_modal_userOboarding_2.png
[WelcomeModal] Not rendering modal because: 
Object {noUser: false, onboardingCompleted: true, modalHidden: true}
[WebSocket] Connection established
[WebSocket] Received message: 
Object {type: "connection_established", payload: {…}}
Preloaded image: /assets/harmonized_modal_userOboarding_3.png
Preloaded image: /assets/harmonized_modal_userOboarding_4.png
[WelcomeModal] Not rendering modal because: 
Object {noUser: false, onboardingCompleted: true, modalHidden: true}
Preloaded image: /assets/harmonized_modal_userOboarding_5.png
[WelcomeModal] Not rendering modal because: 
Object {noUser: false, onboardingCompleted: true, modalHidden: true}
[WelcomeModal] Not rendering modal because: 
Object {noUser: false, onboardingCompleted: true, modalHidden: true}
[DashboardLayout] Checking route access: 
Object {currentTab: "task-center", availableTabs: Array(2), isLoadingCompany: false}
[DashboardLayout] Tab "task-center" accessible: true
[WelcomeModal] Not rendering modal because: 
Object {noUser: false, onboardingCompleted: true, modalHidden: true}
User data from API: 
Object {id: 276, email: "29@e.com", full_name: "John Doe", first_name: "John", last_name: "Doe", …}
[UniversalForm] Fetching template for task type: ky3p
[UniversalForm] Task type mapping: ky3p -> ky3p
[TaskTemplateService] Fetching template for task type: ky3p
[UniversalForm] [UniversalForm] Checking demo status for taskId: 613, type: number
[DashboardLayout] Checking route access: 
Object {currentTab: "task-center", availableTabs: Array(2), isLoadingCompany: false}
[DashboardLayout] Tab "task-center" accessible: true
[WelcomeModal] Not rendering modal because: 
Object {noUser: false, onboardingCompleted: true, modalHidden: true}
[TaskPage] Extracting company name from title: "2. S&P KY3P Security Assessment: DevTest29"
[TaskPage] Extracted company name (colon split): "DevTest29"
[TaskPage] Found current company name from API: "DevTest29"