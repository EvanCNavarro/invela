
[Files] Starting file fetch request
[Files] Request parameters: {
  companyId: '755',
  userId: 536,
  query: { company_id: '755', page: '1', pageSize: '5' },
  user: {
    id: 536,
    email: 'rward@meridianresearchunited.com',
    full_name: 'Riley Ward',
    first_name: null,
    last_name: null,
    password: '$2b$10$2/9cx45XiT/ccOKk8mlubu4CSh5MeFJft3TlXK1EowNHnXXwyNtzy',
    company_id: 755,
    onboarding_user_completed: false,
    is_demo_user: true,
    demo_session_id: null,
    demo_created_at: null,
    demo_persona_type: 'new-data-recipient',
    demo_expires_at: null,
    demo_cleanup_eligible: true,
    demo_last_login: null,
    created_at: 2025-05-30T11:02:05.020Z,
    updated_at: 2025-05-30T11:02:05.020Z
  }
}
[Files] Executing database query for company: 755
[Files] ⚠️ ENHANCED DEBUGGING: Fetching files for company 755 {
  companyId: 755,
  userId: 536,
  pagination: { page: 1, pageSize: 5, offset: 0 },
  totalFilesCount: 10,
  timestamp: '2025-05-30T19:35:53.459Z',
  userCompanyId: 755,
  userName: undefined,
  userEmail: 'rward@meridianresearchunited.com'
}
[Files] SQL: SELECT * FROM files WHERE company_id = 755 ORDER BY created_at DESC LIMIT 5 OFFSET 0
[Files] Count SQL: SELECT COUNT(*) FROM files WHERE company_id = 755
[Files] ✅ Query returned 5 files {
  recordCount: 5,
  totalFiles: 10,
  page: 1,
  pageSize: 5,
  fileIds: [ 1031, 1030, 1029, 1028, 1027 ],
  company: { id: 755, name: undefined },
  firstRecord: {
    id: 1031,
    name: '9_FDX_Certification_Questions.csv',
    companyId: 755,
    createdAt: 2025-05-30T19:35:42.764Z
  },
  timestamp: '2025-05-30T19:35:53.491Z'
}
[2025-05-30T19:35:53.523Z] [INFO] [App] GET /api/files 304 in 96ms :: {"data":[{"id":1031,"name":"9_FDX_Certification_Questions.csv","size":5005,"t... 
[Files] Starting file fetch request
[Files] Request parameters: {
  companyId: '755',
  userId: 536,
  query: { company_id: '755', page: '2', pageSize: '5' },
  user: {
    id: 536,
    email: 'rward@meridianresearchunited.com',
    full_name: 'Riley Ward',
    first_name: null,
    last_name: null,
    password: '$2b$10$2/9cx45XiT/ccOKk8mlubu4CSh5MeFJft3TlXK1EowNHnXXwyNtzy',
    company_id: 755,
    onboarding_user_completed: false,
    is_demo_user: true,
    demo_session_id: null,
    demo_created_at: null,
    demo_persona_type: 'new-data-recipient',
    demo_expires_at: null,
    demo_cleanup_eligible: true,
    demo_last_login: null,
    created_at: 2025-05-30T11:02:05.020Z,
    updated_at: 2025-05-30T11:02:05.020Z
  }
}
[Files] Executing database query for company: 755
[Files] ⚠️ ENHANCED DEBUGGING: Fetching files for company 755 {
  companyId: 755,
  userId: 536,
  pagination: { page: 2, pageSize: 5, offset: 5 },
  totalFilesCount: 10,
  timestamp: '2025-05-30T19:35:55.029Z',
  userCompanyId: 755,
  userName: undefined,
  userEmail: 'rward@meridianresearchunited.com'
}
[Files] SQL: SELECT * FROM files WHERE company_id = 755 ORDER BY created_at DESC LIMIT 5 OFFSET 5
[Files] Count SQL: SELECT COUNT(*) FROM files WHERE company_id = 755
[Files] ✅ Query returned 5 files {
  recordCount: 5,
  totalFiles: 10,
  page: 2,
  pageSize: 5,
  fileIds: [ 1026, 1025, 1024, 1023, 1022 ],
  company: { id: 755, name: undefined },
  firstRecord: {
    id: 1026,
    name: '1_SOC_2_Questions.csv',
    companyId: 755,
    createdAt: 2025-05-30T17:22:53.111Z
  },
  timestamp: '2025-05-30T19:35:55.060Z'
}
[2025-05-30T19:35:55.092Z] [INFO] [App] GET /api/files 304 in 93ms :: {"data":[{"id":1026,"name":"1_SOC_2_Questions.csv","size":4139,"type":"text/c... 
[Files] Starting file fetch request
[Files] Request parameters: {
  companyId: '755',
  userId: 536,
  query: { company_id: '755', page: '1', pageSize: '5' },
  user: {
    id: 536,
    email: 'rward@meridianresearchunited.com',
    full_name: 'Riley Ward',
    first_name: null,
    last_name: null,
    password: '$2b$10$2/9cx45XiT/ccOKk8mlubu4CSh5MeFJft3TlXK1EowNHnXXwyNtzy',
    company_id: 755,
    onboarding_user_completed: false,
    is_demo_user: true,
    demo_session_id: null,
    demo_created_at: null,
    demo_persona_type: 'new-data-recipient',
    demo_expires_at: null,
    demo_cleanup_eligible: true,
    demo_last_login: null,
    created_at: 2025-05-30T11:02:05.020Z,
    updated_at: 2025-05-30T11:02:05.020Z
  }
}
[Files] Executing database query for company: 755
[Files] ⚠️ ENHANCED DEBUGGING: Fetching files for company 755 {
  companyId: 755,
  userId: 536,
  pagination: { page: 1, pageSize: 5, offset: 0 },
  totalFilesCount: 10,
  timestamp: '2025-05-30T19:35:56.205Z',
  userCompanyId: 755,
  userName: undefined,
  userEmail: 'rward@meridianresearchunited.com'
}
[Files] SQL: SELECT * FROM files WHERE company_id = 755 ORDER BY created_at DESC LIMIT 5 OFFSET 0
[Files] Count SQL: SELECT COUNT(*) FROM files WHERE company_id = 755
[Files] ✅ Query returned 5 files {
  recordCount: 5,
  totalFiles: 10,
  page: 1,
  pageSize: 5,
  fileIds: [ 1031, 1030, 1029, 1028, 1027 ],
  company: { id: 755, name: undefined },
  firstRecord: {
    id: 1031,
    name: '9_FDX_Certification_Questions.csv',
    companyId: 755,
    createdAt: 2025-05-30T19:35:42.764Z
  },
  timestamp: '2025-05-30T19:35:56.235Z'
}
[2025-05-30T19:35:56.267Z] [INFO] [App] GET /api/files 304 in 92ms :: {"data":[{"id":1031,"name":"9_FDX_Certification_Questions.csv","size":5005,"t... 
[2025-05-30T19:36:10.716Z] [INFO] [WebSocket] Received message from client client-1748633710593-qs64rdv {"module":"WebSocket","type":"ping","data":{"timestamp":"2025-05-30T19:36:10.596Z","source":"unified-websocket-service"},"timestamp":"2025-05-30T19:36:10.596Z"}
[Current Company] Fetching company for user: { userId: 536, companyId: 755 }
[Current Company] Found company: {
  id: 755,
  name: 'Meridian Research United',
  onboardingCompleted: false,
  riskScore: null,
  chosenScore: null,
  isDemo: true
}
[Current Company] Onboarding status check: {
  userId: 536,
  companyId: 755,
  userOnboardingStatus: false,
  companyOnboardingStatus: false,
  timestamp: '2025-05-30T19:36:10.844Z'
}
[2025-05-30T19:36:10.883Z] [INFO] [App] GET /api/companies/current 304 in 77ms :: {"id":755,"name":"Meridian Research United","category":"FinTech","is_demo":tr... [sampled: request 21] 
[Files] Starting file fetch request
[Files] Request parameters: {
  companyId: '755',
  userId: 536,
  query: { company_id: '755', page: '2', pageSize: '5' },
  user: {
    id: 536,
    email: 'rward@meridianresearchunited.com',
    full_name: 'Riley Ward',
    first_name: null,
    last_name: null,
    password: '$2b$10$2/9cx45XiT/ccOKk8mlubu4CSh5MeFJft3TlXK1EowNHnXXwyNtzy',
    company_id: 755,
    onboarding_user_completed: false,
    is_demo_user: true,
    demo_session_id: null,
    demo_created_at: null,
    demo_persona_type: 'new-data-recipient',
    demo_expires_at: null,
    demo_cleanup_eligible: true,
    demo_last_login: null,
    created_at: 2025-05-30T11:02:05.020Z,
    updated_at: 2025-05-30T11:02:05.020Z
  }
}
[Files] Executing database query for company: 755
[Files] ⚠️ ENHANCED DEBUGGING: Fetching files for company 755 {
  companyId: 755,
  userId: 536,
  pagination: { page: 2, pageSize: 5, offset: 5 },
  totalFilesCount: 10,
  timestamp: '2025-05-30T19:36:21.179Z',
  userCompanyId: 755,
  userName: undefined,
  userEmail: 'rward@meridianresearchunited.com'
}
[Files] SQL: SELECT * FROM files WHERE company_id = 755 ORDER BY created_at DESC LIMIT 5 OFFSET 5
[Files] Count SQL: SELECT COUNT(*) FROM files WHERE company_id = 755
[Files] ✅ Query returned 5 files {
  recordCount: 5,
  totalFiles: 10,
  page: 2,
  pageSize: 5,
  fileIds: [ 1026, 1025, 1024, 1023, 1022 ],
  company: { id: 755, name: undefined },
  firstRecord: {
    id: 1026,
    name: '1_SOC_2_Questions.csv',
    companyId: 755,
    createdAt: 2025-05-30T17:22:53.111Z
  },
  timestamp: '2025-05-30T19:36:21.209Z'
}
[2025-05-30T19:36:21.241Z] [INFO] [App] GET /api/files 304 in 92ms :: {"data":[{"id":1026,"name":"1_SOC_2_Questions.csv","size":4139,"type":"text/c... 