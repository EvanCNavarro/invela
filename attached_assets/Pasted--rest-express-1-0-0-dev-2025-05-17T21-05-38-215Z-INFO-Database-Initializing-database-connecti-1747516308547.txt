> rest-express@1.0.0 dev
[2025-05-17T21:05:38.215Z] [INFO] [Database] Initializing database connection with optimized settings for Neon PostgreSQL {"module":"Database"}
Database migrations disabled - schema already applied
[EmailService] Initializing email service
[EmailService] Email service initialized successfully
[OpenAI] Service initialized with API key: API key is set
[2025-05-17T21:05:38.336Z] [INFO] [NeonConnectionService] Initializing Neon Connection Service {"module":"NeonConnectionService"}
[WebSocketService] Initialized in fallback mode (WebSocket server not available)
[Auth] Setting up authentication...
[Auth] Setting up PostgreSQL session store
[Auth] PostgreSQL session store initialized successfully
[Auth] Authentication setup completed
[Routes] Registered KY3P form submission fix routes
[2025-05-17T21:05:38.481Z] [INFO] [App] [KY3P-BATCH-UPDATE] Registering KY3P batch update routes 
[2025-05-17T21:05:38.481Z] [INFO] [App] Registering KY3P batch update routes 
[2025-05-17T21:05:38.481Z] [INFO] [App] [UnifiedKY3P] Registering unified KY3P update routes 
[Routes] Registered KY3P field key router
[Routes] Registered KY3P field key router
[2025-05-17T21:05:38.482Z] [INFO] [App] Registering KY3P field update routes 
[Routes] Setting up unified clear fields router
[Routes] Successfully registered unified clear fields router
[Routes] Setting up task broadcast router
[Routes] Successfully registered task broadcast router
[2025-05-17T21:05:38.483Z] [INFO] [App] [OpenBankingRoutes] Setting up routes... 
[Routes] Setting up transaction-based unified form submission router
[Routes] Successfully registered transaction-based unified form submission router
[Routes] Setting up unified form submission router
[Routes] Successfully registered unified form submission router
[Routes] Setting up transactional form submission router
[Routes] Successfully registered transactional form submission router
[Routes] Routes setup completed
[2025-05-17T21:05:38.488Z] [INFO] [App] [WebSocket] Setting up unified WebSocket server on path /ws 
[2025-05-17T21:05:38.488Z] [INFO] [WebSocket] Unified WebSocket server initialized successfully {"module":"WebSocket","clients":0,"path":"/ws","id":"0pj88w","timestamp":"2025-05-17T21:05:38.488Z"}
[2025-05-17T21:05:38.488Z] [INFO] [App] [WebSocket] Unified WebSocket server initialized successfully 
[2025-05-17T21:05:38.488Z] [WARN] [App] [WebSocket] Form submission WebSocket initialization function not found 
[2025-05-17T21:05:38.488Z] [INFO] [App] [ServerStartup] WebSocket server initialized with unified implementation 
[2025-05-17T21:05:38.489Z] [INFO] [App] [TaskWebSocket] WebSocket server registered with unified implementation 
[2025-05-17T21:05:38.489Z] [INFO] [App] [ServerStartup] WebSocket server registered with task-update utility 
[TaskBroadcast] WebSocket server reference set up
[TaskBroadcast] WebSocket server active with 0 connected clients
[2025-05-17T21:05:38.489Z] [INFO] [App] [ServerStartup] WebSocket server registered with task-broadcast utility 
[2025-05-17T21:05:38.489Z] [INFO] [App] Setting up Vite development server 
[2025-05-17T21:05:38.491Z] [INFO] [App] [ENV] Server will listen on PORT=5000 (deployment mode: no) 
[2025-05-17T21:05:38.491Z] [INFO] [App] [ENV] Environment=development (NODE_ENV explicitly set) 
[2025-05-17T21:05:38.504Z] [INFO] [App] Server running on 0.0.0.0:5000 
[2025-05-17T21:05:38.504Z] [INFO] [App] Environment: development 
[Deployment] Server running on 0.0.0.0:5000
[Deployment] Environment: development
[Deployment] Port forwarding: Custom port: 5000
[Deployment] Development mode: Hot reloading enabled
[2025-05-17T21:05:38.505Z] [INFO] [App] Starting periodic task reconciliation system... 
[PeriodicTaskReconciliation] Stopped periodic reconciliation system
[PeriodicTaskReconciliation] Starting periodic reconciliation system (interval: 300000ms)
[2025-05-17T21:05:38.505Z] [INFO] [App] Task reconciliation system initialized successfully 
[2025-05-17T21:05:39.489Z] [INFO] [App] [ServerStartup] WebSocket server active with 0 connected clients 
[2025-05-17T21:05:39.523Z] [INFO] [Database] New database connection established {"module":"Database"}
[2025-05-17T21:05:48.505Z] [INFO] [App] Running background health checks... 
[2025-05-17T21:05:48.505Z] [StartupChecks] Running application startup health checks... 
[2025-05-17T21:05:48.505Z] [StartupChecks] Database health check attempt 1/3 
[2025-05-17T21:05:48.506Z] [INFO] [NeonConnectionService] Creating minimal connection pool for Neon PostgreSQL {"module":"NeonConnectionService"}
[2025-05-17T21:05:48.686Z] [INFO] [NeonConnectionService] New client connected to the pool {"module":"NeonConnectionService"}
[2025-05-17T21:05:48.715Z] [INFO] [NeonConnectionService] Connection pool initialized successfully {"module":"NeonConnectionService"}
[2025-05-17T21:05:48.747Z] [DBConnectionService] Database connection check successful 
[2025-05-17T21:05:48.747Z] [StartupChecks] Database health check passed 
[2025-05-17T21:05:48.747Z] [StartupChecks] All startup health checks passed! 
[2025-05-17T21:05:48.747Z] [INFO] [App] All background health checks passed successfully. 
[Auth] Returning user session data
[Current Company] Fetching company for user: { userId: 387, companyId: 329 }
[Tasks] ====== Starting task fetch =====
[Tasks] User details: { id: 387, company_id: 329, email: '7@e.com' }
[2025-05-17T21:06:04.845Z] [INFO] [App] Performing dynamic task unlocking check for company {"companyId":329,"userId":387}
[Current Company] Found company: {
  id: 329,
  name: 'DemoTest7',
  onboardingCompleted: false,
  riskScore: null,
  chosenScore: null,
  isDemo: true
}
[Current Company] Onboarding status check: {
  userId: 387,
  companyId: 329,
  userOnboardingStatus: true,
  freshFromDatabase: true,
  companyOnboardingStatus: false,
  timestamp: '2025-05-17T21:06:04.899Z'
}
[2025-05-17T21:06:04.904Z] [INFO] [App] [TabTutorials] Status request for tab "dashboard" from authenticated user ID: 387 
[2025-05-17T21:06:04.904Z] [INFO] [App] [TabTutorials] Normalizing tab name from 'dashboard' to canonical form 
[2025-05-17T21:06:04.904Z] [INFO] [App] [TabTutorials] Tab name already in canonical form: 'dashboard' 
[2025-05-17T21:06:04.904Z] [INFO] [App] [TabTutorials] Checking tutorial status for tab: dashboard (raw: dashboard), user: 387 
[2025-05-17T21:06:04.909Z] [INFO] [WebSocket] Client connected {"module":"WebSocket","clientId":"client-1747515964909-yn5n8i1","clients":1}
[2025-05-17T21:06:04.930Z] [INFO] [App] GET /api/companies/current 304 in 95ms :: {"id":329,"name":"DemoTest7","category":"FinTech","is_demo":true,"revenue_tie... 
[2025-05-17T21:06:04.935Z] [INFO] [App] [TabTutorials] No tutorial status found for dashboard for user 387 
[2025-05-17T21:06:04.965Z] [INFO] [App] GET /api/user-tab-tutorials/dashboard/status 304 in 62ms :: {"exists":false,"completed":false,"currentStep":0,"tabName":"dashboard"} 
[2025-05-17T21:06:05.029Z] [INFO] [WebSocket] Received message from client client-1747515964909-yn5n8i1 {"module":"WebSocket","type":"authenticate","data":{"timestamp":"2025-05-17T21:06:04.891Z"}}
[2025-05-17T21:06:05.029Z] [INFO] [WebSocket] Authentication from client client-1747515964909-yn5n8i1 {"module":"WebSocket","hasToken":true}
[2025-05-17T21:06:05.035Z] [INFO] [Database] New database connection established {"module":"Database"}
[2025-05-17T21:06:05.064Z] [INFO] [App] No completed KYB tasks found, skipping security task unlock check {"companyId":329}
[Tasks] Automatically unlocking all tasks for company { userId: 387, companyId: 329, requestedBy: 'automatic_task_unlock' }
[2025-05-17T21:06:05.066Z] [INFO] [App] [TaskDependencies] Unlocking ALL tasks for company {"companyId":329}
[2025-05-17T21:06:05.096Z] [INFO] [App] [TaskDependencies] Found user onboarding task that needs completion {"taskId":979,"userEmail":"7@e.com","currentStatus":"completed","currentProgress":100}
[TaskDependencies] Skipping task 980 with submission indicators {
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  hasFileId: false,
  status: 'ready_for_submission',
  progress: 100,
  isReadyForSubmission: true
}
[2025-05-17T21:06:05.097Z] [INFO] [App] [TaskDependencies] Found tasks to unlock {"companyId":329,"count":3,"taskIds":[979,981,982],"taskTypes":["user_onboarding","ky3p","open_banking"],"ky3pTaskCount":1,"ky3pTaskIds":[981]}
[2025-05-17T21:06:05.097Z] [INFO] [App] [TaskDependencies] Setting User Onboarding task as completed {"taskId":979,"userEmail":"7@e.com","timestamp":"2025-05-17T21:06:05.097Z"}
[Relationships] Fetching network for company: 329
[2025-05-17T21:06:05.131Z] [INFO] [App] Our WebSocket server not initialized, falling back to unified implementation 
[2025-05-17T21:06:05.131Z] [INFO] [WebSocket] Broadcast message of type 'task_updated' sent to 1 clients {"module":"WebSocket","messageType":"task_updated","recipients":1,"totalClients":1,"filtered":false}
[2025-05-17T21:06:05.132Z] [INFO] [App] Successfully broadcast task update using unified implementation {"taskId":979,"status":"completed"}
[2025-05-17T21:06:05.132Z] [INFO] [App] [TaskDependencies] Processing KY3P task {"taskId":981,"taskType":"ky3p","currentProgress":0,"currentStatus":"not_started","timestamp":"2025-05-17T21:06:05.132Z"}
[UnifiedProgress] Starting progress update for task 981 (ky3p) {
  taskId: 981,
  taskType: 'ky3p',
  diagnosticId: 'prog-1747515965133-818',
  metadata: [
    'locked',
    'prerequisite_completed',
    'prerequisite_completed_at',
    'dependencyUnlockOperation',
    'previousProgress',
    'previousStatus',
    'isKy3pTask',
    'isUserOnboardingTask'
  ]
}
[Relationships] Found network members: { count: 2 }
[UnifiedProgressCalc] Calculating progress for task 981 (ky3p)
[2025-05-17T21:06:05.199Z] [INFO] [App] GET /api/relationships 304 in 78ms :: [{"id":432,"companyId":1,"relatedCompanyId":329,"relationshipType":"network_m... 
[2025-05-17T21:06:05.235Z] [INFO] [App] GET /api/companies/current 304 in 31ms :: {"id":329,"name":"DemoTest7","category":"FinTech","is_demo":true,"revenue_tie... 
[KY3P Progress] Calculated progress for task 981: {
  taskId: 981,
  taskType: 'ky3p',
  normalizedTaskType: 'ky3p',
  totalFields: 120,
  completedFields: 0,
  progress: 0,
  timeStamp: '2025-05-17T21:06:05.252Z'
}
[UnifiedProgressCalc] Task 981 (ky3p) progress: 0/120 = 0%
[2025-05-17T21:06:05.281Z] [INFO] [WebSocket] Broadcast message of type 'task_updated' sent to 1 clients {"module":"WebSocket","messageType":"task_updated","recipients":1,"totalClients":1,"filtered":false}
[2025-05-17T21:06:05.281Z] [INFO] [WebSocket] Broadcast message of type 'task_update' sent to 1 clients {"module":"WebSocket","messageType":"task_update","recipients":1,"totalClients":1,"filtered":false}
[2025-05-17T21:06:05.281Z] [DEBUG] [App] [UnifiedProgressCalc] Successfully broadcast task update using unified implementation {"taskId":981,"messageId":"msg_1747515965280_9a4nfsfl"}
[2025-05-17T21:06:05.281Z] [INFO] [App] [UnifiedProgressCalc] Successfully broadcast task update for task 981 {"progress":0,"status":"not_started","messageId":"msg_1747515965280_9a4nfsfl"}
[2025-05-17T21:06:05.281Z] [INFO] [App] [TaskDependencies] Unlocked task using unified progress calculator {"companyId":329,"taskId":981,"taskType":"ky3p","isKy3pTask":true,"calculatedProgress":0,"previousProgress":0,"wasPreserved":false}
[UnifiedProgress] Starting progress update for task 982 (open_banking) {
  taskId: 982,
  taskType: 'open_banking',
  diagnosticId: 'prog-1747515965282-746',
  metadata: [
    'locked',
    'prerequisite_completed',
    'prerequisite_completed_at',
    'dependencyUnlockOperation',
    'previousProgress',
    'previousStatus',
    'isKy3pTask',
    'isUserOnboardingTask'
  ]
}
[UnifiedProgressCalc] Calculating progress for task 982 (open_banking)
[UnifiedProgressCalc] Task 982 (open_banking) progress: 0/44 = 0%
[2025-05-17T21:06:05.431Z] [INFO] [WebSocket] Broadcast message of type 'task_updated' sent to 1 clients {"module":"WebSocket","messageType":"task_updated","recipients":1,"totalClients":1,"filtered":false}
[2025-05-17T21:06:05.432Z] [INFO] [WebSocket] Broadcast message of type 'task_update' sent to 1 clients {"module":"WebSocket","messageType":"task_update","recipients":1,"totalClients":1,"filtered":false}
[2025-05-17T21:06:05.432Z] [DEBUG] [App] [UnifiedProgressCalc] Successfully broadcast task update using unified implementation {"taskId":982,"messageId":"msg_1747515965431_psbgenss"}
[2025-05-17T21:06:05.432Z] [INFO] [App] [UnifiedProgressCalc] Successfully broadcast task update for task 982 {"progress":0,"status":"not_started","messageId":"msg_1747515965431_psbgenss"}
[2025-05-17T21:06:05.432Z] [INFO] [App] [TaskDependencies] Unlocked task using unified progress calculator {"companyId":329,"taskId":982,"taskType":"open_banking","isKy3pTask":false,"calculatedProgress":0,"previousProgress":0,"wasPreserved":false}
[2025-05-17T21:06:05.432Z] [INFO] [App] [TaskDependencies] Successfully unlocked all tasks {"companyId":329,"count":3}
[Tasks] Successfully unlocked all tasks for company: 329
[2025-05-17T21:06:05.455Z] [INFO] [WebSocket] Client connected {"module":"WebSocket","clientId":"client-1747515965454-v8a35r4","clients":2}
[Tasks] KYB tasks found: { count: 1 }
[Tasks] Query conditions: {
  conditions: {
    condition1: 'tasks.assigned_to = 387',
    condition2: 'tasks.created_by = 387',
    condition3: "tasks.company_id = 329 AND tasks.assigned_to IS NULL AND tasks.task_scope = 'company'",
    condition4: "tasks.task_type = 'user_onboarding' AND LOWER(tasks.user_email) = LOWER('7@e.com')"
  }
}
[Tasks] Tasks found: { count: 4 }
[2025-05-17T21:06:05.526Z] [INFO] [App] GET /api/tasks 200 in 682ms :: [{"id":981,"title":"2. S&P KY3P Security Assessment: DemoTest7","description"... 
[2025-05-17T21:06:05.942Z] [INFO] [WebSocket] Client connected {"module":"WebSocket","clientId":"client-1747515965942-k5636hp","clients":3}
[2025-05-17T21:06:06.059Z] [INFO] [WebSocket] Received message from client client-1747515965942-k5636hp {"module":"WebSocket","type":"authenticate","userId":null,"companyId":null,"clientId":"ws_1747515964151_t6ctnsweo","timestamp":"2025-05-17T21:06:05.920Z"}
[2025-05-17T21:06:06.059Z] [INFO] [WebSocket] Authentication from client client-1747515965942-k5636hp {"module":"WebSocket","userId":null,"companyId":null,"hasToken":true}
[2025-05-17T21:06:06.427Z] [INFO] [WebSocket] Client connected {"module":"WebSocket","clientId":"client-1747515966427-gywjeoq","clients":4}
[2025-05-17T21:06:06.909Z] [INFO] [WebSocket] Client connected {"module":"WebSocket","clientId":"client-1747515966909-qvu3645","clients":5}
[2025-05-17T21:06:07.452Z] [INFO] [WebSocket] Client connected {"module":"WebSocket","clientId":"client-1747515967452-2sokc3p","clients":6}
[Auth] Returning user session data
[2025-05-17T21:06:07.819Z] [INFO] [App] GET /api/companies/current 304 in 31ms :: {"id":329,"name":"DemoTest7","category":"FinTech","is_demo":true,"revenue_tie... 
[2025-05-17T21:06:07.942Z] [INFO] [WebSocket] Received message from client client-1747515967452-2sokc3p {"module":"WebSocket","type":"authenticate","userId":387,"companyId":329,"clientId":"ws_1747515965962_2o79gv0lq","timestamp":"2025-05-17T21:06:07.805Z"}
[2025-05-17T21:06:07.942Z] [INFO] [WebSocket] Authentication from client client-1747515967452-2sokc3p {"module":"WebSocket","userId":387,"companyId":329,"hasToken":true}
[2025-05-17T21:06:08.161Z] [INFO] [App] GET /api/companies/current 304 in 31ms :: {"id":329,"name":"DemoTest7","category":"FinTech","is_demo":true,"revenue_tie... 
[PeriodicTaskReconciliation] Reconciling batch of 10 tasks: [
  965, 963, 964, 968,
  973, 969, 967, 972,
  971, 976
]
[Task Progress] Calculated progress for task 965 (open_banking): 0/44 = 0%
[Task Progress] Calculated progress for task 963 (company_kyb): 0/30 = 0%
[Task Progress] Calculated progress for task 964 (ky3p): 0/0 = 0%
[Task Progress] Calculated progress for task 968 (ky3p): 0/0 = 0%
[Task Progress] Calculated progress for task 973 (open_banking): 0/44 = 0%
[Task Progress] Calculated progress for task 969 (open_banking): 0/44 = 0%
[Task Progress] Calculated progress for task 967 (company_kyb): 0/30 = 0%
[Task Progress] Calculated progress for task 972 (ky3p): 0/0 = 0%
[Task Progress] Calculated progress for task 971 (company_kyb): 30/30 = 100%
[Task Progress] Calculated progress for task 976 (company_kyb): 0/30 = 0%
[2025-05-17T21:06:11.174Z] [INFO] [App] GET /api/companies/current 304 in 31ms :: {"id":329,"name":"DemoTest7","category":"FinTech","is_demo":true,"revenue_tie... 
[2025-05-17T21:06:14.164Z] [INFO] [App] GET /api/companies/current 304 in 32ms :: {"id":329,"name":"DemoTest7","category":"FinTech","is_demo":true,"revenue_tie... 
[2025-05-17T21:06:17.169Z] [INFO] [App] GET /api/companies/current 304 in 32ms :: {"id":329,"name":"DemoTest7","category":"FinTech","is_demo":true,"revenue_tie... 
[2025-05-17T21:06:20.168Z] [INFO] [App] GET /api/companies/current 304 in 32ms :: {"id":329,"name":"DemoTest7","category":"FinTech","is_demo":true,"revenue_tie... 
[2025-05-17T21:06:23.175Z] [INFO] [App] GET /api/companies/current 304 in 31ms :: {"id":329,"name":"DemoTest7","category":"FinTech","is_demo":true,"revenue_tie... 
[2025-05-17T21:06:26.170Z] [INFO] [App] GET /api/companies/current 304 in 32ms :: {"id":329,"name":"DemoTest7","category":"FinTech","is_demo":true,"revenue_tie... 
[2025-05-17T21:06:28.097Z] [INFO] [WebSocket] Received message from client client-1747515967452-2sokc3p {"module":"WebSocket","type":"ping","timestamp":"2025-05-17T21:06:27.960Z","connectionId":"ws_1747515965962_2o79gv0lq"}
[2025-05-17T21:06:29.166Z] [INFO] [App] GET /api/companies/current 304 in 32ms :: {"id":329,"name":"DemoTest7","category":"FinTech","is_demo":true,"revenue_tie... 
[2025-05-17T21:06:32.165Z] [INFO] [App] GET /api/companies/current 304 in 32ms :: {"id":329,"name":"DemoTest7","category":"FinTech","is_demo":true,"revenue_tie... 
[2025-05-17T21:06:35.097Z] [INFO] [WebSocket] Received message from client client-1747515964909-yn5n8i1 {"module":"WebSocket","type":"ping"}
[2025-05-17T21:06:35.175Z] [INFO] [App] GET /api/companies/current 304 in 31ms :: {"id":329,"name":"DemoTest7","category":"FinTech","is_demo":true,"revenue_tie... 
[2025-05-17T21:06:37.099Z] [INFO] [WebSocket] Received message from client client-1747515966427-gywjeoq {"module":"WebSocket","type":"ping","timestamp":"2025-05-17T21:06:36.961Z","connectionId":"ws_1747515966405_a11jucxl5"}
[2025-05-17T21:06:37.100Z] [INFO] [WebSocket] Received message from client client-1747515966909-qvu3645 {"module":"WebSocket","type":"ping","timestamp":"2025-05-17T21:06:36.961Z","connectionId":"ws_1747515965436_6m7baugog"}
[2025-05-17T21:06:38.162Z] [INFO] [App] GET /api/companies/current 304 in 31ms :: {"id":329,"name":"DemoTest7","category":"FinTech","is_demo":true,"revenue_tie... 
[2025-05-17T21:06:46.182Z] [INFO] [App] GET /api/companies/current 304 in 32ms :: {"id":329,"name":"DemoTest7","category":"FinTech","is_demo":true,"revenue_tie... 
[2025-05-17T21:06:48.098Z] [INFO] [WebSocket] Received message from client client-1747515967452-2sokc3p {"module":"WebSocket","type":"ping","timestamp":"2025-05-17T21:06:47.959Z","connectionId":"ws_1747515965962_2o79gv0lq"}
[2025-05-17T21:07:05.098Z] [INFO] [WebSocket] Received message from client client-1747515964909-yn5n8i1 {"module":"WebSocket","type":"ping"}
[2025-05-17T21:07:07.099Z] [INFO] [WebSocket] Received message from client client-1747515966909-qvu3645 {"module":"WebSocket","type":"ping","timestamp":"2025-05-17T21:07:06.960Z","connectionId":"ws_1747515965436_6m7baugog"}
[2025-05-17T21:07:07.099Z] [INFO] [WebSocket] Received message from client client-1747515966427-gywjeoq {"module":"WebSocket","type":"ping","timestamp":"2025-05-17T21:07:06.960Z","connectionId":"ws_1747515966405_a11jucxl5"}
[2025-05-17T21:07:08.105Z] [INFO] [WebSocket] Received message from client client-1747515967452-2sokc3p {"module":"WebSocket","type":"ping","timestamp":"2025-05-17T21:07:07.963Z","connectionId":"ws_1747515965962_2o79gv0lq"}
[2025-05-17T21:07:28.098Z] [INFO] [WebSocket] Received message from client client-1747515967452-2sokc3p {"module":"WebSocket","type":"ping","timestamp":"2025-05-17T21:07:27.960Z","connectionId":"ws_1747515965962_2o79gv0lq"}
[2025-05-17T21:07:35.103Z] [INFO] [WebSocket] Received message from client client-1747515964909-yn5n8i1 {"module":"WebSocket","type":"ping"}
[2025-05-17T21:07:37.100Z] [INFO] [WebSocket] Received message from client client-1747515966427-gywjeoq {"module":"WebSocket","type":"ping","timestamp":"2025-05-17T21:07:36.961Z","connectionId":"ws_1747515966405_a11jucxl5"}
[2025-05-17T21:07:37.102Z] [INFO] [WebSocket] Received message from client client-1747515966909-qvu3645 {"module":"WebSocket","type":"ping","timestamp":"2025-05-17T21:07:36.961Z","connectionId":"ws_1747515965436_6m7baugog"}
[Current Company] Fetching company for user: { userId: 387, companyId: 329 }
[Current Company] Found company: {
  id: 329,
  name: 'DemoTest7',
  onboardingCompleted: false,
  riskScore: null,
  chosenScore: null,
  isDemo: true
}
[Current Company] Onboarding status check: {
  userId: 387,
  companyId: 329,
  userOnboardingStatus: true,
  freshFromDatabase: true,
  companyOnboardingStatus: false,
  timestamp: '2025-05-17T21:07:46.415Z'
}
[2025-05-17T21:07:46.449Z] [INFO] [App] GET /api/companies/current 304 in 93ms :: {"id":329,"name":"DemoTest7","category":"FinTech","is_demo":true,"revenue_tie... 
[2025-05-17T21:07:48.097Z] [INFO] [WebSocket] Received message from client client-1747515967452-2sokc3p {"module":"WebSocket","type":"ping","timestamp":"2025-05-17T21:07:47.960Z","connectionId":"ws_1747515965962_2o79gv0lq"}
[2025-05-17T21:08:05.098Z] [INFO] [WebSocket] Received message from client client-1747515964909-yn5n8i1 {"module":"WebSocket","type":"ping"}
[2025-05-17T21:08:06.102Z] [INFO] [WebSocket] Received message from client client-1747515965942-k5636hp {"module":"WebSocket","type":"ping"}
[2025-05-17T21:08:07.097Z] [INFO] [WebSocket] Received message from client client-1747515966909-qvu3645 {"module":"WebSocket","type":"ping","timestamp":"2025-05-17T21:08:06.960Z","connectionId":"ws_1747515965436_6m7baugog"}
[2025-05-17T21:08:07.098Z] [INFO] [WebSocket] Received message from client client-1747515966427-gywjeoq {"module":"WebSocket","type":"ping","timestamp":"2025-05-17T21:08:06.960Z","connectionId":"ws_1747515966405_a11jucxl5"}
[2025-05-17T21:08:08.106Z] [INFO] [WebSocket] Received message from client client-1747515967452-2sokc3p {"module":"WebSocket","type":"ping","timestamp":"2025-05-17T21:08:07.964Z","connectionId":"ws_1747515965962_2o79gv0lq"}
[2025-05-17T21:08:35.104Z] [INFO] [WebSocket] Received message from client client-1747515964909-yn5n8i1 {"module":"WebSocket","type":"ping"}
[2025-05-17T21:08:37.103Z] [INFO] [WebSocket] Received message from client client-1747515966909-qvu3645 {"module":"WebSocket","type":"ping","timestamp":"2025-05-17T21:08:36.960Z","connectionId":"ws_1747515965436_6m7baugog"}
[2025-05-17T21:08:37.103Z] [INFO] [WebSocket] Received message from client client-1747515966427-gywjeoq {"module":"WebSocket","type":"ping","timestamp":"2025-05-17T21:08:36.960Z","connectionId":"ws_1747515966405_a11jucxl5"}
[2025-05-17T21:08:46.111Z] [INFO] [WebSocket] Received message from client client-1747515967452-2sokc3p {"module":"WebSocket","type":"ping","timestamp":"2025-05-17T21:08:45.969Z","connectionId":"ws_1747515965962_2o79gv0lq"}
[2025-05-17T21:08:46.371Z] [INFO] [App] GET /api/companies/current 304 in 31ms :: {"id":329,"name":"DemoTest7","category":"FinTech","is_demo":true,"revenue_tie... 
[2025-05-17T21:08:55.555Z] [INFO] [WebSocket] Received message from client client-1747515967452-2sokc3p {"module":"WebSocket","type":"ping","timestamp":"2025-05-17T21:08:55.410Z","connectionId":"ws_1747515965962_2o79gv0lq"}
[Current Company] Fetching company for user: { userId: 387, companyId: 329 }
[Current Company] Found company: {
  id: 329,
  name: 'DemoTest7',
  onboardingCompleted: false,
  riskScore: null,
  chosenScore: null,
  isDemo: true
}
[Current Company] Onboarding status check: {
  userId: 387,
  companyId: 329,
  userOnboardingStatus: true,
  freshFromDatabase: true,
  companyOnboardingStatus: false,
  timestamp: '2025-05-17T21:08:55.744Z'
}
[2025-05-17T21:08:55.775Z] [INFO] [App] GET /api/companies/current 304 in 103ms :: {"id":329,"name":"DemoTest7","category":"FinTech","is_demo":true,"revenue_tie... 
[Tasks] ====== Starting task fetch =====
[Tasks] User details: { id: 387, company_id: 329, email: '7@e.com' }
[2025-05-17T21:08:55.876Z] [INFO] [App] Performing dynamic task unlocking check for company {"companyId":329,"userId":387}
[2025-05-17T21:08:55.909Z] [INFO] [App] No completed KYB tasks found, skipping security task unlock check {"companyId":329}
[Tasks] Automatically unlocking all tasks for company { userId: 387, companyId: 329, requestedBy: 'automatic_task_unlock' }
[2025-05-17T21:08:55.910Z] [INFO] [App] [TaskDependencies] Unlocking ALL tasks for company {"companyId":329}
[2025-05-17T21:08:55.939Z] [INFO] [App] [TaskDependencies] Found user onboarding task that needs completion {"taskId":979,"userEmail":"7@e.com","currentStatus":"completed","currentProgress":100}
[TaskDependencies] Skipping task 980 with submission indicators {
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  hasFileId: false,
  status: 'ready_for_submission',
  progress: 100,
  isReadyForSubmission: true
}
[2025-05-17T21:08:55.939Z] [INFO] [App] [TaskDependencies] Found tasks to unlock {"companyId":329,"count":3,"taskIds":[981,979,982],"taskTypes":["ky3p","user_onboarding","open_banking"],"ky3pTaskCount":1,"ky3pTaskIds":[981]}
[2025-05-17T21:08:55.939Z] [INFO] [App] [TaskDependencies] Processing KY3P task {"taskId":981,"taskType":"ky3p","currentProgress":0,"currentStatus":"not_started","timestamp":"2025-05-17T21:08:55.939Z"}
[UnifiedProgress] Starting progress update for task 981 (ky3p) {
  taskId: 981,
  taskType: 'ky3p',
  diagnosticId: 'prog-1747516135939-678',
  metadata: [
    'locked',
    'prerequisite_completed',
    'prerequisite_completed_at',
    'dependencyUnlockOperation',
    'previousProgress',
    'previousStatus',
    'isKy3pTask',
    'isUserOnboardingTask'
  ]
}
[2025-05-17T21:08:55.952Z] [INFO] [App] GET /api/companies/current 304 in 30ms :: {"id":329,"name":"DemoTest7","category":"FinTech","is_demo":true,"revenue_tie... 
[UnifiedProgressCalc] Calculating progress for task 981 (ky3p)
[KY3P Progress] Calculated progress for task 981: {
  taskId: 981,
  taskType: 'ky3p',
  normalizedTaskType: 'ky3p',
  totalFields: 120,
  completedFields: 0,
  progress: 0,
  timeStamp: '2025-05-17T21:08:56.055Z'
}
[UnifiedProgressCalc] Task 981 (ky3p) progress: 0/120 = 0%
[2025-05-17T21:08:56.085Z] [INFO] [WebSocket] Broadcast message of type 'task_updated' sent to 6 clients {"module":"WebSocket","messageType":"task_updated","recipients":6,"totalClients":6,"filtered":false}
[2025-05-17T21:08:56.086Z] [INFO] [WebSocket] Broadcast message of type 'task_update' sent to 6 clients {"module":"WebSocket","messageType":"task_update","recipients":6,"totalClients":6,"filtered":false}
[2025-05-17T21:08:56.086Z] [DEBUG] [App] [UnifiedProgressCalc] Successfully broadcast task update using unified implementation {"taskId":981,"messageId":"msg_1747516136085_xo8xd57b"}
[2025-05-17T21:08:56.086Z] [INFO] [App] [UnifiedProgressCalc] Successfully broadcast task update for task 981 {"progress":0,"status":"not_started","messageId":"msg_1747516136085_xo8xd57b"}
[2025-05-17T21:08:56.086Z] [INFO] [App] [TaskDependencies] Unlocked task using unified progress calculator {"companyId":329,"taskId":981,"taskType":"ky3p","isKy3pTask":true,"calculatedProgress":0,"previousProgress":0,"wasPreserved":false}
[2025-05-17T21:08:56.086Z] [INFO] [App] [TaskDependencies] Setting User Onboarding task as completed {"taskId":979,"userEmail":"7@e.com","timestamp":"2025-05-17T21:08:56.086Z"}
[2025-05-17T21:08:56.118Z] [INFO] [App] Our WebSocket server not initialized, falling back to unified implementation 
[2025-05-17T21:08:56.120Z] [INFO] [WebSocket] Broadcast message of type 'task_updated' sent to 6 clients {"module":"WebSocket","messageType":"task_updated","recipients":6,"totalClients":6,"filtered":false}
[2025-05-17T21:08:56.121Z] [INFO] [App] Successfully broadcast task update using unified implementation {"taskId":979,"status":"completed"}
[UnifiedProgress] Starting progress update for task 982 (open_banking) {
  taskId: 982,
  taskType: 'open_banking',
  diagnosticId: 'prog-1747516136122-92',
  metadata: [
    'locked',
    'prerequisite_completed',
    'prerequisite_completed_at',
    'dependencyUnlockOperation',
    'previousProgress',
    'previousStatus',
    'isKy3pTask',
    'isUserOnboardingTask'
  ]
}
[2025-05-17T21:08:56.129Z] [INFO] [App] GET /api/companies/current 304 in 30ms :: {"id":329,"name":"DemoTest7","category":"FinTech","is_demo":true,"revenue_tie... 
[UnifiedProgressCalc] Calculating progress for task 982 (open_banking)
[UnifiedProgressCalc] Task 982 (open_banking) progress: 0/44 = 0%
[2025-05-17T21:08:56.276Z] [INFO] [WebSocket] Broadcast message of type 'task_updated' sent to 6 clients {"module":"WebSocket","messageType":"task_updated","recipients":6,"totalClients":6,"filtered":false}
[2025-05-17T21:08:56.276Z] [INFO] [WebSocket] Broadcast message of type 'task_update' sent to 6 clients {"module":"WebSocket","messageType":"task_update","recipients":6,"totalClients":6,"filtered":false}
[2025-05-17T21:08:56.276Z] [DEBUG] [App] [UnifiedProgressCalc] Successfully broadcast task update using unified implementation {"taskId":982,"messageId":"msg_1747516136275_a5678avi"}
[2025-05-17T21:08:56.276Z] [INFO] [App] [UnifiedProgressCalc] Successfully broadcast task update for task 982 {"progress":0,"status":"not_started","messageId":"msg_1747516136275_a5678avi"}
[2025-05-17T21:08:56.276Z] [INFO] [App] [TaskDependencies] Unlocked task using unified progress calculator {"companyId":329,"taskId":982,"taskType":"open_banking","isKy3pTask":false,"calculatedProgress":0,"previousProgress":0,"wasPreserved":false}
[2025-05-17T21:08:56.276Z] [INFO] [App] [TaskDependencies] Successfully unlocked all tasks {"companyId":329,"count":3}
[Tasks] Successfully unlocked all tasks for company: 329
[Tasks] KYB tasks found: { count: 1 }
[Tasks] Query conditions: {
  conditions: {
    condition1: 'tasks.assigned_to = 387',
    condition2: 'tasks.created_by = 387',
    condition3: "tasks.company_id = 329 AND tasks.assigned_to IS NULL AND tasks.task_scope = 'company'",
    condition4: "tasks.task_type = 'user_onboarding' AND LOWER(tasks.user_email) = LOWER('7@e.com')"
  }
}
[Tasks] Tasks found: { count: 4 }
[2025-05-17T21:08:56.365Z] [INFO] [App] GET /api/tasks 200 in 490ms :: [{"id":979,"title":"New User Invitation: 7@e.com","description":"Complete use... 
[2025-05-17T21:08:59.145Z] [INFO] [App] GET /api/companies/current 304 in 37ms :: {"id":329,"name":"DemoTest7","category":"FinTech","is_demo":true,"revenue_tie... 
[2025-05-17T21:09:02.133Z] [INFO] [App] GET /api/companies/current 304 in 33ms :: {"id":329,"name":"DemoTest7","category":"FinTech","is_demo":true,"revenue_tie... 
[2025-05-17T21:09:05.029Z] [INFO] [WebSocket] Received message from client client-1747515964909-yn5n8i1 {"module":"WebSocket","type":"ping"}
[2025-05-17T21:09:05.141Z] [INFO] [App] GET /api/companies/current 304 in 34ms :: {"id":329,"name":"DemoTest7","category":"FinTech","is_demo":true,"revenue_tie... 
[2025-05-17T21:09:06.547Z] [INFO] [WebSocket] Received message from client client-1747515966427-gywjeoq {"module":"WebSocket","type":"ping","timestamp":"2025-05-17T21:09:06.408Z","connectionId":"ws_1747515966405_a11jucxl5"}
[Auth] Processing logout request
[Auth] Clearing user 387 from cache during logout
[Auth] Clearing company 329 from cache during logout
[Cache] Invalidating company cache for company 329
[Auth] Cache invalidation result for company 329: true
[Auth] Broadcasting cache invalidation WebSocket message
[2025-05-17T21:09:06.651Z] [INFO] [App] Successfully retrieved unified WebSocket server for broadcast 
[WebSocket] Broadcast cache_invalidation to 6 clients (0 errors) { messageId: 'msg_1747516146651_bk307q0g3' }
[2025-05-17T21:09:06.652Z] [INFO] [App] Successfully broadcasted cache_invalidation message 
[Auth] Logout successful for user: 387
[Auth] Session successfully destroyed
[Auth] Unauthenticated user session
[2025-05-17T21:09:07.027Z] [INFO] [WebSocket] Received message from client client-1747515966909-qvu3645 {"module":"WebSocket","type":"ping","timestamp":"2025-05-17T21:09:06.889Z","connectionId":"ws_1747515965436_6m7baugog"}
[2025-05-17T21:09:07.570Z] [INFO] [WebSocket] Received message from client client-1747515967452-2sokc3p {"module":"WebSocket","type":"ping","timestamp":"2025-05-17T21:09:07.433Z","connectionId":"ws_1747515965962_2o79gv0lq"}
[Auth] Processing login request
[Auth] Login request body: {
  email: 'evan.navarro@invela.com',
  hasPassword: true,
  passwordLength: 11
}
[Auth] Login attempt for: evan.navarro@invela.com
[Auth] Password received (first 4 chars): pass
[Auth] Looking up user by email: evan.navarro@invela.com
[Auth] User lookup result: {
  found: true,
  userId: 8,
  hasPassword: true,
  passwordLength: 60,
  passwordStart: '$2a$'
}
[Auth] Found user, checking password
[Auth] Comparing passwords:
[Auth] - Stored hash length: 60
[Auth] - Stored hash format check: true
[Auth] - Supplied password length: 11
[Auth] - Stored hash: $2a$10$unOdtqMesInbTmdENGrZleCmx5Ckl6XTzhCRVIaPxXof0RFBTahii
[Auth] - Supplied password (first 4 chars): pass
[Auth] Starting to hash password
[Auth] Password hashed successfully: { hashLength: 60, startsWithBcrypt: true, rounds: 10 }
[Auth] - Test hash generated: $2b$10$5q7In.Mb3AnZELhSocdCVOxmdKWRtWD/nSXXsCbXeuvHvtL7gmOIq
[Auth] Password comparison result: true
[Auth] Password validation result: true
[Auth] Login successful for user: 8
[Auth] Serializing user: 8
[Auth] Login successful for user: 8
[Current Company] Fetching company for user: { userId: 8, companyId: 1 }
[Current Company] Found company: {
  id: 1,
  name: 'Invela',
  onboardingCompleted: true,
  riskScore: 0,
  chosenScore: 86,
  isDemo: null
}
[Current Company] Onboarding status check: {
  userId: 8,
  companyId: 1,
  userOnboardingStatus: true,
  freshFromDatabase: true,
  companyOnboardingStatus: true,
  timestamp: '2025-05-17T21:09:16.369Z'
}
[2025-05-17T21:09:16.400Z] [INFO] [App] GET /api/companies/current 200 in 89ms :: {"id":1,"name":"Invela","category":"Invela","is_demo":null,"revenue_tier":"sm... 
[2025-05-17T21:09:16.495Z] [INFO] [App] [TabTutorials] Status request for tab "dashboard" from authenticated user ID: 8 
[2025-05-17T21:09:16.495Z] [INFO] [App] [TabTutorials] Normalizing tab name from 'dashboard' to canonical form 
[2025-05-17T21:09:16.495Z] [INFO] [App] [TabTutorials] Tab name already in canonical form: 'dashboard' 
[2025-05-17T21:09:16.495Z] [INFO] [App] [TabTutorials] Checking tutorial status for tab: dashboard (raw: dashboard), user: 8 
[Tasks] ====== Starting task fetch =====
[Tasks] User details: { id: 8, company_id: 1, email: 'evan.navarro@invela.com' }
[2025-05-17T21:09:16.497Z] [INFO] [App] Performing dynamic task unlocking check for company {"companyId":1,"userId":8}
[2025-05-17T21:09:16.531Z] [INFO] [App] No completed KYB tasks found, skipping security task unlock check {"companyId":1}
[Tasks] Automatically unlocking all tasks for company { userId: 8, companyId: 1, requestedBy: 'automatic_task_unlock' }
[2025-05-17T21:09:16.534Z] [INFO] [App] [TaskDependencies] Unlocking ALL tasks for company {"companyId":1}
[2025-05-17T21:09:16.554Z] [INFO] [App] [TabTutorials] Retrieved tutorial status for dashboard for user 8: completed=true, step=2 
[2025-05-17T21:09:16.563Z] [INFO] [App] [TaskDependencies] Found user onboarding task that needs completion {"taskId":121,"userEmail":"darek.nehrebecki@invela.com","currentStatus":"completed","currentProgress":100}
[2025-05-17T21:09:16.563Z] [INFO] [App] [TaskDependencies] Found user onboarding task that needs completion {"taskId":168,"userEmail":"preston.mcfarland@invela.com","currentStatus":"completed","currentProgress":100}
[2025-05-17T21:09:16.563Z] [INFO] [App] [TaskDependencies] Found user onboarding task that needs completion {"taskId":858,"userEmail":"marcin.figiel@invela.com","currentStatus":"completed","currentProgress":100}
[2025-05-17T21:09:16.563Z] [INFO] [App] [TaskDependencies] Found user onboarding task that needs completion {"taskId":123,"userEmail":"dev.kurbur@invela.com","currentStatus":"completed","currentProgress":100}
[2025-05-17T21:09:16.563Z] [INFO] [App] [TaskDependencies] Found user onboarding task that needs completion {"taskId":338,"userEmail":"nathanael.coffing@invela.com","currentStatus":"completed","currentProgress":100}
[2025-05-17T21:09:16.564Z] [INFO] [App] [TaskDependencies] Found user onboarding task that needs completion {"taskId":122,"userEmail":"gaby.sulbaran@invela.com","currentStatus":"completed","currentProgress":100}
[2025-05-17T21:09:16.564Z] [INFO] [App] [TaskDependencies] Found user onboarding task that needs completion {"taskId":251,"userEmail":"krzysztof.pniak@invela.com","currentStatus":"completed","currentProgress":100}
[2025-05-17T21:09:16.564Z] [INFO] [App] [TaskDependencies] Found user onboarding task that needs completion {"taskId":188,"userEmail":"amin.swessi@invela.com","currentStatus":"completed","currentProgress":100}
[2025-05-17T21:09:16.564Z] [INFO] [App] [TaskDependencies] Found user onboarding task that needs completion {"taskId":720,"userEmail":"jim.wadsworth@invela.com","currentStatus":"completed","currentProgress":100}
[2025-05-17T21:09:16.564Z] [INFO] [App] [TaskDependencies] Found user onboarding task that needs completion {"taskId":124,"userEmail":"amar.karvir@invela.com","currentStatus":"completed","currentProgress":100}
[2025-05-17T21:09:16.564Z] [INFO] [App] [TaskDependencies] Found user onboarding task that needs completion {"taskId":172,"userEmail":"krzysztof.pniak@proopro.com","currentStatus":"completed","currentProgress":100}
[2025-05-17T21:09:16.564Z] [INFO] [App] [TaskDependencies] Found tasks to unlock {"companyId":1,"count":11,"taskIds":[121,168,858,123,338,122,251,188,720,124,172],"taskTypes":["user_onboarding","user_onboarding","user_onboarding","user_onboarding","user_onboarding","user_onboarding","user_onboarding","user_onboarding","user_onboarding","user_onboarding","user_onboarding"],"ky3pTaskCount":0,"ky3pTaskIds":[]}
[2025-05-17T21:09:16.564Z] [INFO] [App] [TaskDependencies] Setting User Onboarding task as completed {"taskId":121,"userEmail":"darek.nehrebecki@invela.com","timestamp":"2025-05-17T21:09:16.564Z"}
[2025-05-17T21:09:16.584Z] [INFO] [App] GET /api/user-tab-tutorials/dashboard/status 200 in 89ms :: {"exists":true,"completed":true,"currentStep":2,"lastSeenAt":"2025-05-17T20:4... 
[2025-05-17T21:09:16.588Z] [INFO] [App] GET /api/companies/current 304 in 30ms :: {"id":1,"name":"Invela","category":"Invela","is_demo":null,"revenue_tier":"sm... 
[2025-05-17T21:09:16.593Z] [DEBUG] [App] Broadcasting task update with object format {"taskId":121,"status":"completed"}
[WebSocket] Broadcast task_update to 6 clients (0 errors) { messageId: 'msg_1747516156593_f2ffse2de' }
[2025-05-17T21:09:16.594Z] [INFO] [App] Successfully broadcasted task_update message 
[2025-05-17T21:09:16.594Z] [INFO] [App] [TaskDependencies] Setting User Onboarding task as completed {"taskId":168,"userEmail":"preston.mcfarland@invela.com","timestamp":"2025-05-17T21:09:16.594Z"}
[2025-05-17T21:09:16.625Z] [DEBUG] [App] Broadcasting task update with object format {"taskId":168,"status":"completed"}
[WebSocket] Broadcast task_update to 6 clients (0 errors) { messageId: 'msg_1747516156625_rnbenodzn' }
[2025-05-17T21:09:16.626Z] [INFO] [App] Successfully broadcasted task_update message 
[2025-05-17T21:09:16.626Z] [INFO] [App] [TaskDependencies] Setting User Onboarding task as completed {"taskId":858,"userEmail":"marcin.figiel@invela.com","timestamp":"2025-05-17T21:09:16.626Z"}
[2025-05-17T21:09:16.662Z] [DEBUG] [App] Broadcasting task update with object format {"taskId":858,"status":"completed"}
[WebSocket] Broadcast task_update to 6 clients (0 errors) { messageId: 'msg_1747516156662_r5kamaejd' }
[2025-05-17T21:09:16.663Z] [INFO] [App] Successfully broadcasted task_update message 
[2025-05-17T21:09:16.663Z] [INFO] [App] [TaskDependencies] Setting User Onboarding task as completed {"taskId":123,"userEmail":"dev.kurbur@invela.com","timestamp":"2025-05-17T21:09:16.663Z"}
[2025-05-17T21:09:16.694Z] [DEBUG] [App] Broadcasting task update with object format {"taskId":123,"status":"completed"}
[WebSocket] Broadcast task_update to 6 clients (0 errors) { messageId: 'msg_1747516156694_dh3lr6piu' }
[2025-05-17T21:09:16.695Z] [INFO] [App] Successfully broadcasted task_update message 
[2025-05-17T21:09:16.695Z] [INFO] [App] [TaskDependencies] Setting User Onboarding task as completed {"taskId":338,"userEmail":"nathanael.coffing@invela.com","timestamp":"2025-05-17T21:09:16.695Z"}
[2025-05-17T21:09:16.725Z] [DEBUG] [App] Broadcasting task update with object format {"taskId":338,"status":"completed"}
[WebSocket] Broadcast task_update to 6 clients (0 errors) { messageId: 'msg_1747516156725_v8k18vzlv' }
[2025-05-17T21:09:16.726Z] [INFO] [App] Successfully broadcasted task_update message 
[2025-05-17T21:09:16.726Z] [INFO] [App] [TaskDependencies] Setting User Onboarding task as completed {"taskId":122,"userEmail":"gaby.sulbaran@invela.com","timestamp":"2025-05-17T21:09:16.726Z"}
[Network Visualization] Fetching network data for company: 1
[Relationships] Fetching network for company: 1
[2025-05-17T21:09:16.756Z] [DEBUG] [App] Broadcasting task update with object format {"taskId":122,"status":"completed"}
[WebSocket] Broadcast task_update to 6 clients (0 errors) { messageId: 'msg_1747516156756_kh013vtgm' }
[2025-05-17T21:09:16.757Z] [INFO] [App] Successfully broadcasted task_update message 
[2025-05-17T21:09:16.757Z] [INFO] [App] [TaskDependencies] Setting User Onboarding task as completed {"taskId":251,"userEmail":"krzysztof.pniak@invela.com","timestamp":"2025-05-17T21:09:16.757Z"}
[2025-05-17T21:09:16.790Z] [DEBUG] [App] Broadcasting task update with object format {"taskId":251,"status":"completed"}
[WebSocket] Broadcast task_update to 6 clients (0 errors) { messageId: 'msg_1747516156790_vnp1gmgos' }
[2025-05-17T21:09:16.791Z] [INFO] [App] Successfully broadcasted task_update message 
[2025-05-17T21:09:16.791Z] [INFO] [App] [TaskDependencies] Setting User Onboarding task as completed {"taskId":188,"userEmail":"amin.swessi@invela.com","timestamp":"2025-05-17T21:09:16.791Z"}
[2025-05-17T21:09:16.823Z] [DEBUG] [App] Broadcasting task update with object format {"taskId":188,"status":"completed"}
[WebSocket] Broadcast task_update to 6 clients (0 errors) { messageId: 'msg_1747516156823_ckgdecs75' }
[2025-05-17T21:09:16.824Z] [INFO] [App] Successfully broadcasted task_update message 
[2025-05-17T21:09:16.824Z] [INFO] [App] [TaskDependencies] Setting User Onboarding task as completed {"taskId":720,"userEmail":"jim.wadsworth@invela.com","timestamp":"2025-05-17T21:09:16.824Z"}
[Network Visualization] Found network relationships: { count: 61 }
[Network Visualization] Returning visualization data: { centerNode: 'Invela', nodeCount: 61 }
[2025-05-17T21:09:16.870Z] [DEBUG] [App] Broadcasting task update with object format {"taskId":720,"status":"completed"}
[WebSocket] Broadcast task_update to 6 clients (0 errors) { messageId: 'msg_1747516156870_dsm5ac5ep' }
[2025-05-17T21:09:16.871Z] [INFO] [App] Successfully broadcasted task_update message 
[2025-05-17T21:09:16.871Z] [INFO] [App] [TaskDependencies] Setting User Onboarding task as completed {"taskId":124,"userEmail":"amar.karvir@invela.com","timestamp":"2025-05-17T21:09:16.871Z"}
[2025-05-17T21:09:16.872Z] [INFO] [App] GET /api/network/visualization 200 in 123ms :: {"center":{"id":1,"name":"Invela","riskScore":0,"riskBucket":"none","accredit... 
[2025-05-17T21:09:16.903Z] [DEBUG] [App] Broadcasting task update with object format {"taskId":124,"status":"completed"}
[WebSocket] Broadcast task_update to 6 clients (0 errors) { messageId: 'msg_1747516156903_w3rbzajku' }
[2025-05-17T21:09:16.904Z] [INFO] [App] Successfully broadcasted task_update message 
[2025-05-17T21:09:16.904Z] [INFO] [App] [TaskDependencies] Setting User Onboarding task as completed {"taskId":172,"userEmail":"krzysztof.pniak@proopro.com","timestamp":"2025-05-17T21:09:16.904Z"}
[2025-05-17T21:09:16.934Z] [DEBUG] [App] Broadcasting task update with object format {"taskId":172,"status":"completed"}
[WebSocket] Broadcast task_update to 6 clients (0 errors) { messageId: 'msg_1747516156934_m4uesi82d' }
[2025-05-17T21:09:16.934Z] [INFO] [App] Successfully broadcasted task_update message 
[2025-05-17T21:09:16.934Z] [INFO] [App] [TaskDependencies] Successfully unlocked all tasks {"companyId":1,"count":11}
[Tasks] Successfully unlocked all tasks for company: 1
[2025-05-17T21:09:16.950Z] [INFO] [Database] New database connection established {"module":"Database"}
[Tasks] KYB tasks found: { count: 0 }
[Tasks] Query conditions: {
  conditions: {
    condition1: 'tasks.assigned_to = 8',
    condition2: 'tasks.created_by = 8',
    condition3: "tasks.company_id = 1 AND tasks.assigned_to IS NULL AND tasks.task_scope = 'company'",
    condition4: "tasks.task_type = 'user_onboarding' AND LOWER(tasks.user_email) = LOWER('evan.navarro@invela.com')"
  }
}
[Relationships] Found network members: { count: 61 }
[Tasks] Tasks found: { count: 31 }
[2025-05-17T21:09:17.040Z] [INFO] [App] GET /api/relationships 200 in 287ms :: [{"id":12,"companyId":1,"relatedCompanyId":33,"relationshipType":"network_mem... 
[2025-05-17T21:09:17.052Z] [INFO] [App] GET /api/tasks 200 in 554ms :: [{"id":982,"title":"3. Open Banking Survey: DemoTest7","description":"Complet... 
[2025-05-17T21:09:19.782Z] [INFO] [App] GET /api/companies/current 304 in 34ms :: {"id":1,"name":"Invela","category":"Invela","is_demo":null,"revenue_tier":"sm... 
[2025-05-17T21:09:22.787Z] [INFO] [App] GET /api/companies/current 304 in 31ms :: {"id":1,"name":"Invela","category":"Invela","is_demo":null,"revenue_tier":"sm... 
[2025-05-17T21:09:23.009Z] [WARN] [App] POST /api/fintech/check-company 409 in 60ms :: {"message":"A company with this name already exists","existingCompany":{"id":... 
[2025-05-17T21:09:25.787Z] [INFO] [App] GET /api/companies/current 304 in 37ms :: {"id":1,"name":"Invela","category":"Invela","is_demo":null,"revenue_tier":"sm... 
[2025-05-17T21:09:27.572Z] [INFO] [WebSocket] Received message from client client-1747515967452-2sokc3p {"module":"WebSocket","type":"ping","timestamp":"2025-05-17T21:09:27.435Z","connectionId":"ws_1747515965962_2o79gv0lq"}
[2025-05-17T21:09:28.105Z] [INFO] [App] POST /api/fintech/check-company 200 in 66ms :: {"exists":false} 
[2025-05-17T21:09:28.784Z] [INFO] [App] GET /api/companies/current 304 in 36ms :: {"id":1,"name":"Invela","category":"Invela","is_demo":null,"revenue_tier":"sm... 
[2025-05-17T21:09:31.778Z] [INFO] [App] GET /api/companies/current 304 in 31ms :: {"id":1,"name":"Invela","category":"Invela","is_demo":null,"revenue_tier":"sm... 
[2025-05-17T21:09:34.781Z] [INFO] [App] GET /api/companies/current 304 in 31ms :: {"id":1,"name":"Invela","category":"Invela","is_demo":null,"revenue_tier":"sm... 
[2025-05-17T21:09:35.030Z] [INFO] [WebSocket] Received message from client client-1747515964909-yn5n8i1 {"module":"WebSocket","type":"ping"}
[FinTech Invite] Starting invitation process with payload: {
  email: '***@***.***',
  full_name: 'John Doe8',
  company_name: 'DemoTest8',
  sender_name: 'Evan Navarro',
  sender_company: 'Invela',
  is_demo: true
}
[2025-05-17T21:09:36.545Z] [INFO] [WebSocket] Received message from client client-1747515966427-gywjeoq {"module":"WebSocket","type":"ping","timestamp":"2025-05-17T21:09:36.408Z","connectionId":"ws_1747515966405_a11jucxl5"}
[FinTech Invite] Found sender company: { name: 'Invela', duration: 39 }
[FinTech Invite] Created company: { id: 330, is_demo: true, duration: 73 }
[FinTech Invite] Populating file vault for demo company: { companyId: 330, companyName: 'DemoTest8' }
[Demo File Vault] Starting file vault population for company 330 (DemoTest8)
[FinTech Invite] Created user: { id: 388, duration: 173 }
[FinTech Invite] Creating user onboarding task
[FinTech Invite] Created onboarding task: { taskId: 983, status: 'email_sent', assignedTo: 388, duration: 207 }
[FinTech Invite] Created invitation: { id: 395, code: '5433D7', duration: 242 }
[FinTech Invite] Creating company tasks with existing transaction
[Company Service] Creating new company: DemoTest8 { hasExistingTransaction: true, timestamp: '2025-05-17T21:09:36.847Z' }
[Company Service] Using existing transaction for company creation
[Company Service] Using existing company record: { id: 330, name: 'DemoTest8' }
[Company Service] Creating tasks with creator ID: 8
[Company Service] Creating KYB task for company: 330
[Company Service] Created KYB task: { taskId: 984, companyId: 330, duration: 32 }
[Company Service] Creating S&P KY3P Security Assessment task for company: 330
[Company Service] Created S&P KY3P Security Assessment task: { taskId: 985, companyId: 330, duration: 65 }
[Company Service] Creating Open Banking Survey task for company: 330
[Demo File Vault] Will attempt to add 4 files to company 330
[Demo File Vault] Processing file 1_SOC_2_Questions.csv for company 330...
[Company Service] Created Open Banking Survey task: { taskId: 986, companyId: 330, duration: 94 }
[Company Service] Creating relationship with Invela for company: 330
[Company Service] Creating relationship with creator company: 1
[Company Service] Created relationships: {
  invelaRelationshipId: 434,
  creatorRelationshipId: 435,
  newCompanyId: 330,
  duration: 160
}
[2025-05-17T21:09:37.007Z] [DEBUG] [App] Broadcasting task update with object format {"taskId":984,"status":"not_started"}
[WebSocket] Broadcast task_update to 6 clients (0 errors) { messageId: 'msg_1747516177007_4pd4jczzp' }
[2025-05-17T21:09:37.008Z] [INFO] [App] Successfully broadcasted task_update message 
[2025-05-17T21:09:37.008Z] [DEBUG] [App] Broadcasting task update with object format {"taskId":985,"status":"not_started"}
[WebSocket] Broadcast task_update to 6 clients (0 errors) { messageId: 'msg_1747516177008_96qjtdj6r' }
[2025-05-17T21:09:37.009Z] [INFO] [App] Successfully broadcasted task_update message 
[2025-05-17T21:09:37.009Z] [DEBUG] [App] Broadcasting task update with object format {"taskId":986,"status":"not_started"}
[WebSocket] Broadcast task_update to 6 clients (0 errors) { messageId: 'msg_1747516177009_vm5jkma58' }
[2025-05-17T21:09:37.009Z] [INFO] [App] Successfully broadcasted task_update message 
[Company Service] Checking if this is a demo company for file vault population
[FinTech Invite] Tasks created successfully: {
  companyId: 330,
  tasks: { kyb: 984, security: 985, card: 986, onboarding: 983 },
  duration: 404
}
[2025-05-17T21:09:37.010Z] [INFO] [WebSocket] Broadcast message of type 'task_updated' sent to 6 clients {"module":"WebSocket","messageType":"task_updated","recipients":6,"totalClients":6,"filtered":false}
[2025-05-17T21:09:37.010Z] [INFO] [App] [Demo Hooks] Processing new company: DemoTest8 (ID: 330) 
[2025-05-17T21:09:37.010Z] [INFO] [App] [Demo Hooks] Applying demo enhancements for company 330 (DemoTest8) 
[2025-05-17T21:09:37.011Z] [INFO] [App] [Demo Hooks] Populating file vault for company 330 (DemoTest8) 
[2025-05-17T21:09:37.027Z] [INFO] [WebSocket] Received message from client client-1747515966909-qvu3645 {"module":"WebSocket","type":"ping","timestamp":"2025-05-17T21:09:36.890Z","connectionId":"ws_1747515965436_6m7baugog"}
[FinTech Invite] Sending invitation email
[EmailService] Starting to send template email
[EmailService] Template type: fintech_invite
[EmailService] Recipient: 8@e.com
[EmailService] Template data (raw): {
  "recipientName": "John Doe8",
  "recipientEmail": "8@e.com",
  "senderName": "Evan Navarro",
  "senderCompany": "Invela",
  "targetCompany": "DemoTest8",
  "inviteUrl": "https://9606074c-a9ad-4fe1-8fe5-3d9c3eed0606-00-33ar2rv36ligj.picard.replit.dev/register?code=5433D7&email=8%40e.com",
  "code": "5433D7"
}
[EmailService] Starting email validation for: 8@e.com
[EmailService] Checking MX records for domain: e.com
[2025-05-17T21:09:37.043Z] [INFO] [App] [Demo File Vault] Reading file content from /home/runner/workspace/attached_assets/1_SOC_2_Questions.csv 
[2025-05-17T21:09:37.043Z] [INFO] [App] [Demo File Vault] Adding file "SOC 2 Questions - DemoTest8.csv" to company 330 (DemoTest8) 
[2025-05-17T21:09:37.043Z] [INFO] [App] Creating file: SOC 2 Questions - DemoTest8.csv {"companyId":330,"userId":1,"fileType":"text/csv","fileSize":4139}
[EmailService] MX record check failed: Error: queryMx ENOTFOUND e.com
    at QueryReqWrap.onresolve [as oncomplete] (node:internal/dns/callback_resolver:45:19) {
  errno: undefined,
  code: 'ENOTFOUND',
  syscall: 'queryMx',
  hostname: 'e.com'
}
[EmailService] Continuing despite MX check failure
[EmailService] Email validation successful for: 8@e.com
[EmailService] Transforming template data
[EmailService] Starting template data transformation
[EmailService] Input template data: {
  "recipientName": "John Doe8",
  "recipientEmail": "8@e.com",
  "senderName": "Evan Navarro",
  "senderCompany": "Invela",
  "targetCompany": "DemoTest8",
  "inviteUrl": "https://9606074c-a9ad-4fe1-8fe5-3d9c3eed0606-00-33ar2rv36ligj.picard.replit.dev/register?code=5433D7&email=8%40e.com",
  "code": "5433D7"
}
[EmailService] Built invite URL: https://9606074c-a9ad-4fe1-8fe5-3d9c3eed0606-00-33ar2rv36ligj.picard.replit.dev/register?code=5433D7&email=8%40e.com
[EmailService] Transformed template data: {
  "recipientName": "John Doe8",
  "recipientEmail": "8@e.com",
  "senderName": "Evan Navarro",
  "senderCompany": "Invela",
  "targetCompany": "DemoTest8",
  "inviteUrl": "https://9606074c-a9ad-4fe1-8fe5-3d9c3eed0606-00-33ar2rv36ligj.picard.replit.dev/register?code=5433D7&email=8%40e.com",
  "code": "5433D7"
}
[EmailService] Getting email template: fintech_invite
[EmailTemplate] Getting template: fintech_invite
[EmailTemplate] Template data: {
  "recipientName": "John Doe8",
  "recipientEmail": "8@e.com",
  "senderName": "Evan Navarro",
  "senderCompany": "Invela",
  "targetCompany": "DemoTest8",
  "inviteUrl": "https://9606074c-a9ad-4fe1-8fe5-3d9c3eed0606-00-33ar2rv36ligj.picard.replit.dev/register?code=5433D7&email=8%40e.com",
  "code": "5433D7"
}
[Template:invitation] Received template data: {
  "recipientName": "John Doe8",
  "recipientEmail": "8@e.com",
  "senderName": "Evan Navarro",
  "senderCompany": "Invela",
  "targetCompany": "DemoTest8",
  "inviteUrl": "https://9606074c-a9ad-4fe1-8fe5-3d9c3eed0606-00-33ar2rv36ligj.picard.replit.dev/register?code=5433D7&email=8%40e.com",
  "code": "5433D7",
  "inviteType": "fintech"
}
[EmailService] Template generated successfully
[EmailService] Preparing to send email with configuration: {
  from: 'EvanCNavarro@gmail.com',
  to: '8@e.com',
  subject: 'Invitation to join Invela',
  textLength: 601,
  htmlLength: 1673
}
[2025-05-17T21:09:37.096Z] [ERROR] [App] Error creating file {"error":"insert or update on table \"files\" violates foreign key constraint \"files_user_id_fkey\"","stack":"error: insert or update on table \"files\" violates foreign key constraint \"files_user_id_fkey\"\n    at /home/runner/workspace/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async <anonymous> (/home/runner/workspace/node_modules/src/node-postgres/session.ts:104:19)\n    at async createFile (file:///home/runner/workspace/server/hooks/demo-company-hooks.js:151:20)\n    at async addDemoFileToVault (file:///home/runner/workspace/server/hooks/demo-company-hooks.js:216:20)\n    at async populateFileVault (file:///home/runner/workspace/server/hooks/demo-company-hooks.js:333:22)\n    at async processNewCompany (file:///home/runner/workspace/server/hooks/demo-company-hooks.js:281:29)\n    at async Timeout._onTimeout (/home/runner/workspace/server/services/company.ts:319:30)","fileName":"SOC 2 Questions - DemoTest8.csv","companyId":330}
[2025-05-17T21:09:37.097Z] [ERROR] [App] [Demo File Vault] Error adding demo file to vault: {"companyId":330,"filePath":"../../attached_assets/1_SOC_2_Questions.csv","error":"Failed to create file: insert or update on table \"files\" violates foreign key constraint \"files_user_id_fkey\""}
[2025-05-17T21:09:37.098Z] [ERROR] [App] [Demo Hooks] Error populating file vault: {"companyId":330,"error":"Failed to create file: insert or update on table \"files\" violates foreign key constraint \"files_user_id_fkey\"","stack":"Error: Failed to create file: insert or update on table \"files\" violates foreign key constraint \"files_user_id_fkey\"\n    at addDemoFileToVault (file:///home/runner/workspace/server/hooks/demo-company-hooks.js:232:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async populateFileVault (file:///home/runner/workspace/server/hooks/demo-company-hooks.js:333:22)\n    at async processNewCompany (file:///home/runner/workspace/server/hooks/demo-company-hooks.js:281:29)\n    at async Timeout._onTimeout (/home/runner/workspace/server/services/company.ts:319:30)"}
[Company Service] Demo company processing result: { companyId: 330, success: true, fileCount: 0 }
[Demo File Vault] Directory structure created: /home/runner/workspace/uploads/documents/demo-files
[Demo File Vault] File written to disk: /home/runner/workspace/uploads/documents/demo-files/demo_330_2025-05-17T21-09-37-112Z_1_SOC_2_Questions.csv
[Demo File Vault] Added demo file: SOC 2 Questions for company 330
[Demo File Vault] Successfully added file 1_SOC_2_Questions.csv (ID: 1003)
[Demo File Vault] Processing file 2_ISO_27001_Questions.csv for company 330...
[Demo File Vault] Directory structure created: /home/runner/workspace/uploads/documents/demo-files
[Demo File Vault] File written to disk: /home/runner/workspace/uploads/documents/demo-files/demo_330_2025-05-17T21-09-37-338Z_2_ISO_27001_Questions.csv
[Demo File Vault] Added demo file: ISO 27001 Questions for company 330
[Demo File Vault] Successfully added file 2_ISO_27001_Questions.csv (ID: 1004)
[Demo File Vault] Processing file 3_Penetration_Test_Questions.csv for company 330...
[Demo File Vault] Directory structure created: /home/runner/workspace/uploads/documents/demo-files
[Demo File Vault] File written to disk: /home/runner/workspace/uploads/documents/demo-files/demo_330_2025-05-17T21-09-37-560Z_3_Penetration_Test_Questions.csv
[Demo File Vault] Added demo file: Penetration Test Questions for company 330
[Demo File Vault] Successfully added file 3_Penetration_Test_Questions.csv (ID: 1005)
[Demo File Vault] Processing file 4_Business_Continuity_Plan_Questions.csv for company 330...
[Demo File Vault] Directory structure created: /home/runner/workspace/uploads/documents/demo-files
[Demo File Vault] File written to disk: /home/runner/workspace/uploads/documents/demo-files/demo_330_2025-05-17T21-09-37-780Z_4_Business_Continuity_Plan_Questions.csv
[2025-05-17T21:09:37.811Z] [INFO] [App] GET /api/companies/current 304 in 38ms :: {"id":1,"name":"Invela","category":"Invela","is_demo":null,"revenue_tier":"sm... 
[Demo File Vault] Added demo file: Business Continuity Plan Questions for company 330
[Demo File Vault] Successfully added file 4_Business_Continuity_Plan_Questions.csv (ID: 1006)
[Demo File Vault] Completed population for company 330: 4/4 files added
[Demo File Vault] Successfully added files:
  - SOC 2 Questions (ID: 1003, Type: csv, Path: documents/demo-files/demo_330_2025-05-17T21-09-37-112Z_1_SOC_2_Questions.csv)
  - ISO 27001 Questions (ID: 1004, Type: csv, Path: documents/demo-files/demo_330_2025-05-17T21-09-37-338Z_2_ISO_27001_Questions.csv)
  - Penetration Test Questions (ID: 1005, Type: csv, Path: documents/demo-files/demo_330_2025-05-17T21-09-37-560Z_3_Penetration_Test_Questions.csv)
  - Business Continuity Plan Questions (ID: 1006, Type: csv, Path: documents/demo-files/demo_330_2025-05-17T21-09-37-780Z_4_Business_Continuity_Plan_Questions.csv)
[FinTech Invite] Demo file vault population complete: {
  companyId: 330,
  companyName: 'DemoTest8',
  success: true,
  fileCount: 4
}
[EmailService] Email sent successfully to: 8@e.com
[FinTech Invite] Invitation email sent successfully
[FinTech Invite] Process completed: {
  companyId: 330,
  userId: 388,
  invitationId: 395,
  onboardingTaskId: 983,
  duration: 1881
}
[2025-05-17T21:09:38.452Z] [INFO] [App] POST /api/fintech/invite 201 in 1914ms :: {"message":"FinTech company invited successfully","company":{"id":330,"name":... 
[2025-05-17T21:09:40.788Z] [INFO] [App] GET /api/companies/current 304 in 31ms :: {"id":1,"name":"Invela","category":"Invela","is_demo":null,"revenue_tier":"sm... 
[2025-05-17T21:09:43.782Z] [INFO] [App] GET /api/companies/current 304 in 33ms :: {"id":1,"name":"Invela","category":"Invela","is_demo":null,"revenue_tier":"sm... 
[2025-05-17T21:09:46.841Z] [INFO] [App] GET /api/companies/current 304 in 33ms :: {"id":1,"name":"Invela","category":"Invela","is_demo":null,"revenue_tier":"sm... 
[Auth] Processing logout request
[Auth] Clearing user 8 from cache during logout
[Auth] Clearing company 1 from cache during logout
[Cache] Invalidating company cache for company 1
[Auth] Cache invalidation result for company 1: true
[Auth] Broadcasting cache invalidation WebSocket message
[WebSocket] Broadcast cache_invalidation to 6 clients (0 errors) { messageId: 'msg_1747516186993_rm6phsa1s' }
[2025-05-17T21:09:46.994Z] [INFO] [App] Successfully broadcasted cache_invalidation message 
[Auth] Logout successful for user: 8
[Auth] Session successfully destroyed
[Auth] Unauthenticated user session
[2025-05-17T21:09:47.571Z] [INFO] [WebSocket] Received message from client client-1747515967452-2sokc3p {"module":"WebSocket","type":"ping","timestamp":"2025-05-17T21:09:47.434Z","connectionId":"ws_1747515965962_2o79gv0lq"}
[Invite Debug] Starting validation for code: 5433D7
[Invite Debug] Found valid invitation: {
  id: 395,
  email: '8@e.com',
  status: 'pending',
  expires_at: 2025-05-24T21:09:36.812Z
}
[2025-05-17T21:10:01.840Z] [INFO] [App] GET /api/invitations/5433D7/validate 200 in 33ms :: {"valid":true,"invitation":{"email":"8@e.com","invitee_name":"John Doe8","com... 
[Account Setup] Processing setup request for: 8@e.com
[Account Setup] Updated user: { id: 388, email: '8@e.com', onboarding_completed: false }
[Account Setup] Updated task status: { taskId: 983, status: 'completed', progress: 100 }
[2025-05-17T21:10:04.887Z] [INFO] [WebSocket] Broadcast message of type 'task_updated' sent to 6 clients {"module":"WebSocket","messageType":"task_updated","recipients":6,"totalClients":6,"filtered":false}
[Auth] Serializing user: 388
[Account Setup] Login successful for user ID: 388
[2025-05-17T21:10:05.005Z] [INFO] [App] POST /api/account/setup 200 in 347ms :: {"id":388,"email":"8@e.com","full_name":"John Doe8","first_name":"John","last... 
[2025-05-17T21:10:05.029Z] [INFO] [WebSocket] Received message from client client-1747515964909-yn5n8i1 {"module":"WebSocket","type":"ping"}
[Current Company] Fetching company for user: { userId: 388, companyId: 330 }
[Current Company] Found company: {
  id: 330,
  name: 'DemoTest8',
  onboardingCompleted: false,
  riskScore: null,
  chosenScore: null,
  isDemo: true
}
[Current Company] Onboarding status check: {
  userId: 388,
  companyId: 330,
  userOnboardingStatus: false,
  freshFromDatabase: true,
  companyOnboardingStatus: false,
  timestamp: '2025-05-17T21:10:05.254Z'
}
[2025-05-17T21:10:05.283Z] [INFO] [App] GET /api/companies/current 200 in 89ms :: {"id":330,"name":"DemoTest8","category":"FinTech","is_demo":true,"revenue_tie... 
[2025-05-17T21:10:05.367Z] [INFO] [App] [TabTutorials] Status request for tab "dashboard" from authenticated user ID: 388 
[2025-05-17T21:10:05.367Z] [INFO] [App] [TabTutorials] Normalizing tab name from 'dashboard' to canonical form 
[2025-05-17T21:10:05.367Z] [INFO] [App] [TabTutorials] Tab name already in canonical form: 'dashboard' 
[2025-05-17T21:10:05.367Z] [INFO] [App] [TabTutorials] Checking tutorial status for tab: dashboard (raw: dashboard), user: 388 
[Tasks] ====== Starting task fetch =====
[Tasks] User details: { id: 388, company_id: 330, email: '8@e.com' }
[2025-05-17T21:10:05.374Z] [INFO] [App] Performing dynamic task unlocking check for company {"companyId":330,"userId":388}
[2025-05-17T21:10:05.397Z] [INFO] [App] [TabTutorials] No tutorial status found for dashboard for user 388 
[2025-05-17T21:10:05.403Z] [INFO] [App] No completed KYB tasks found, skipping security task unlock check {"companyId":330}
[Tasks] Automatically unlocking all tasks for company { userId: 388, companyId: 330, requestedBy: 'automatic_task_unlock' }
[2025-05-17T21:10:05.404Z] [INFO] [App] [TaskDependencies] Unlocking ALL tasks for company {"companyId":330}
[2025-05-17T21:10:05.428Z] [INFO] [App] GET /api/user-tab-tutorials/dashboard/status 200 in 62ms :: {"exists":false,"completed":false,"currentStep":0,"tabName":"dashboard"} 
[2025-05-17T21:10:05.432Z] [INFO] [App] [TaskDependencies] Found user onboarding task that needs completion {"taskId":983,"userEmail":"8@e.com","currentStatus":"completed","currentProgress":100}
[2025-05-17T21:10:05.432Z] [INFO] [App] [TaskDependencies] Found tasks to unlock {"companyId":330,"count":4,"taskIds":[984,985,986,983],"taskTypes":["company_kyb","ky3p","open_banking","user_onboarding"],"ky3pTaskCount":1,"ky3pTaskIds":[985]}
[UnifiedProgress] Starting progress update for task 984 (company_kyb) {
  taskId: 984,
  taskType: 'company_kyb',
  diagnosticId: 'prog-1747516205433-692',
  metadata: [
    'locked',
    'prerequisite_completed',
    'prerequisite_completed_at',
    'dependencyUnlockOperation',
    'previousProgress',
    'previousStatus',
    'isKy3pTask',
    'isUserOnboardingTask'
  ]
}
[UnifiedProgressCalc] Calculating progress for task 984 (company_kyb)
[Relationships] Fetching network for company: 330
[UnifiedProgressCalc] Task 984 (company_kyb) progress: 0/30 = 0%
[2025-05-17T21:10:05.583Z] [INFO] [WebSocket] Broadcast message of type 'task_updated' sent to 6 clients {"module":"WebSocket","messageType":"task_updated","recipients":6,"totalClients":6,"filtered":false}
[2025-05-17T21:10:05.583Z] [INFO] [WebSocket] Broadcast message of type 'task_update' sent to 6 clients {"module":"WebSocket","messageType":"task_update","recipients":6,"totalClients":6,"filtered":false}
[2025-05-17T21:10:05.583Z] [DEBUG] [App] [UnifiedProgressCalc] Successfully broadcast task update using unified implementation {"taskId":984,"messageId":"msg_1747516205583_p04uy5yl"}
[2025-05-17T21:10:05.583Z] [INFO] [App] [UnifiedProgressCalc] Successfully broadcast task update for task 984 {"progress":0,"status":"not_started","messageId":"msg_1747516205583_p04uy5yl"}
[2025-05-17T21:10:05.583Z] [INFO] [App] [TaskDependencies] Unlocked task using unified progress calculator {"companyId":330,"taskId":984,"taskType":"company_kyb","isKy3pTask":false,"calculatedProgress":0,"previousProgress":0,"wasPreserved":false}
[2025-05-17T21:10:05.583Z] [INFO] [App] [TaskDependencies] Processing KY3P task {"taskId":985,"taskType":"ky3p","currentProgress":0,"currentStatus":"not_started","timestamp":"2025-05-17T21:10:05.583Z"}
[UnifiedProgress] Starting progress update for task 985 (ky3p) {
  taskId: 985,
  taskType: 'ky3p',
  diagnosticId: 'prog-1747516205584-656',
  metadata: [
    'locked',
    'prerequisite_completed',
    'prerequisite_completed_at',
    'dependencyUnlockOperation',
    'previousProgress',
    'previousStatus',
    'isKy3pTask',
    'isUserOnboardingTask'
  ]
}
[2025-05-17T21:10:05.612Z] [INFO] [App] GET /api/companies/current 304 in 30ms :: {"id":330,"name":"DemoTest8","category":"FinTech","is_demo":true,"revenue_tie... 
[UnifiedProgressCalc] Calculating progress for task 985 (ky3p)
[KY3P Progress] Calculated progress for task 985: {
  taskId: 985,
  taskType: 'ky3p',
  normalizedTaskType: 'ky3p',
  totalFields: 120,
  completedFields: 0,
  progress: 0,
  timeStamp: '2025-05-17T21:10:05.699Z'
}
[UnifiedProgressCalc] Task 985 (ky3p) progress: 0/120 = 0%
[2025-05-17T21:10:05.728Z] [INFO] [WebSocket] Broadcast message of type 'task_updated' sent to 6 clients {"module":"WebSocket","messageType":"task_updated","recipients":6,"totalClients":6,"filtered":false}
[2025-05-17T21:10:05.728Z] [INFO] [WebSocket] Broadcast message of type 'task_update' sent to 6 clients {"module":"WebSocket","messageType":"task_update","recipients":6,"totalClients":6,"filtered":false}
[2025-05-17T21:10:05.728Z] [DEBUG] [App] [UnifiedProgressCalc] Successfully broadcast task update using unified implementation {"taskId":985,"messageId":"msg_1747516205727_5g055jnx"}
[2025-05-17T21:10:05.728Z] [INFO] [App] [UnifiedProgressCalc] Successfully broadcast task update for task 985 {"progress":0,"status":"not_started","messageId":"msg_1747516205727_5g055jnx"}
[2025-05-17T21:10:05.728Z] [INFO] [App] [TaskDependencies] Unlocked task using unified progress calculator {"companyId":330,"taskId":985,"taskType":"ky3p","isKy3pTask":true,"calculatedProgress":0,"previousProgress":0,"wasPreserved":false}
[2025-05-17T21:10:05.729Z] [INFO] [Database] New database connection established {"module":"Database"}
[UnifiedProgress] Starting progress update for task 986 (open_banking) {
  taskId: 986,
  taskType: 'open_banking',
  diagnosticId: 'prog-1747516205729-255',
  metadata: [
    'locked',
    'prerequisite_completed',
    'prerequisite_completed_at',
    'dependencyUnlockOperation',
    'previousProgress',
    'previousStatus',
    'isKy3pTask',
    'isUserOnboardingTask'
  ]
}
[Relationships] Found network members: { count: 2 }
[UnifiedProgressCalc] Calculating progress for task 986 (open_banking)
[2025-05-17T21:10:05.789Z] [INFO] [App] GET /api/relationships 200 in 261ms :: [{"id":434,"companyId":1,"relatedCompanyId":330,"relationshipType":"network_m... 
[UnifiedProgressCalc] Task 986 (open_banking) progress: 0/44 = 0%
[2025-05-17T21:10:05.874Z] [INFO] [WebSocket] Broadcast message of type 'task_updated' sent to 6 clients {"module":"WebSocket","messageType":"task_updated","recipients":6,"totalClients":6,"filtered":false}
[2025-05-17T21:10:05.874Z] [INFO] [WebSocket] Broadcast message of type 'task_update' sent to 6 clients {"module":"WebSocket","messageType":"task_update","recipients":6,"totalClients":6,"filtered":false}
[2025-05-17T21:10:05.874Z] [DEBUG] [App] [UnifiedProgressCalc] Successfully broadcast task update using unified implementation {"taskId":986,"messageId":"msg_1747516205873_8ifi6txi"}
[2025-05-17T21:10:05.874Z] [INFO] [App] [UnifiedProgressCalc] Successfully broadcast task update for task 986 {"progress":0,"status":"not_started","messageId":"msg_1747516205873_8ifi6txi"}
[2025-05-17T21:10:05.875Z] [INFO] [App] [TaskDependencies] Unlocked task using unified progress calculator {"companyId":330,"taskId":986,"taskType":"open_banking","isKy3pTask":false,"calculatedProgress":0,"previousProgress":0,"wasPreserved":false}
[2025-05-17T21:10:05.875Z] [INFO] [App] [TaskDependencies] Setting User Onboarding task as completed {"taskId":983,"userEmail":"8@e.com","timestamp":"2025-05-17T21:10:05.875Z"}
[2025-05-17T21:10:05.906Z] [DEBUG] [App] Broadcasting task update with object format {"taskId":983,"status":"completed"}
[WebSocket] Broadcast task_update to 6 clients (0 errors) { messageId: 'msg_1747516205906_dkr7ng7ze' }
[2025-05-17T21:10:05.906Z] [INFO] [App] Successfully broadcasted task_update message 
[2025-05-17T21:10:05.906Z] [INFO] [App] [TaskDependencies] Successfully unlocked all tasks {"companyId":330,"count":4}
[Tasks] Successfully unlocked all tasks for company: 330
[Tasks] KYB tasks found: { count: 1 }
[Tasks] Query conditions: {
  conditions: {
    condition1: 'tasks.assigned_to = 388',
    condition2: 'tasks.created_by = 388',
    condition3: "tasks.company_id = 330 AND tasks.assigned_to IS NULL AND tasks.task_scope = 'company'",
    condition4: "tasks.task_type = 'user_onboarding' AND LOWER(tasks.user_email) = LOWER('8@e.com')"
  }
}
[Tasks] Tasks found: { count: 4 }
[2025-05-17T21:10:06.007Z] [INFO] [App] GET /api/tasks 200 in 633ms :: [{"id":984,"title":"1. KYB Form: DemoTest8","description":"Complete KYB verif... 
[2025-05-17T21:10:06.063Z] [INFO] [WebSocket] Received message from client client-1747515965942-k5636hp {"module":"WebSocket","type":"ping"}
[2025-05-17T21:10:06.546Z] [INFO] [WebSocket] Received message from client client-1747515966427-gywjeoq {"module":"WebSocket","type":"ping","timestamp":"2025-05-17T21:10:06.407Z","connectionId":"ws_1747515966405_a11jucxl5"}
[2025-05-17T21:10:07.027Z] [INFO] [WebSocket] Received message from client client-1747515966909-qvu3645 {"module":"WebSocket","type":"ping","timestamp":"2025-05-17T21:10:06.890Z","connectionId":"ws_1747515965436_6m7baugog"}
[2025-05-17T21:10:07.572Z] [INFO] [WebSocket] Received message from client client-1747515967452-2sokc3p {"module":"WebSocket","type":"ping","timestamp":"2025-05-17T21:10:07.435Z","connectionId":"ws_1747515965962_2o79gv0lq"}
[2025-05-17T21:10:08.562Z] [INFO] [App] GET /api/companies/current 304 in 30ms :: {"id":330,"name":"DemoTest8","category":"FinTech","is_demo":true,"revenue_tie... 
[2025-05-17T21:10:11.565Z] [INFO] [App] GET /api/companies/current 304 in 32ms :: {"id":330,"name":"DemoTest8","category":"FinTech","is_demo":true,"revenue_tie... 
[2025-05-17T21:10:14.574Z] [INFO] [App] GET /api/companies/current 304 in 35ms :: {"id":330,"name":"DemoTest8","category":"FinTech","is_demo":true,"revenue_tie... 
[Complete Onboarding] Processing request for user: { userId: 388, companyId: 330, timestamp: '2025-05-17T21:10:15.376Z' }
[Complete Onboarding] Successfully updated user record: {
  userId: 388,
  companyId: 330,
  userOnboardingStatus: true,
  elapsedMs: 85
}
[updateOnboardingTaskStatus] Error updating task status: TypeError: undefined is not a function
    at Array.find (<anonymous>)
    at updateOnboardingTaskStatus (/home/runner/workspace/server/routes.ts:3612:139)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async <anonymous> (/home/runner/workspace/server/routes.ts:2947:27)
[Complete Onboarding] Successfully completed onboarding for user: { userId: 388, taskId: undefined, elapsedMs: 153 }
[Complete Onboarding] Failed to broadcast via WebSocket: ReferenceError: require is not defined
    at <anonymous> (/home/runner/workspace/server/routes.ts:2958:47)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
[Cache] Invalidating company cache for company 330
[2025-05-17T21:10:15.590Z] [INFO] [App] POST /api/users/complete-onboarding 200 in 214ms :: {"message":"Onboarding completed successfully","success":true,"user":{"id":38... 
[Company API] Updating company 330 with data: { revenue: 10000000, revenue_tier: 'medium', num_employees: 150 }
[Company API] Processed update data: { revenue: 10000000, revenue_tier: 'medium', num_employees: 150 }
[Company API] Successfully updated company 330
[2025-05-17T21:10:15.808Z] [INFO] [App] PATCH /api/companies/current 200 in 65ms :: {"success":true,"message":"Company updated successfully","data":{"id":330,"na... 
[Current Company] Fetching company for user: { userId: 388, companyId: 330 }
[Current Company] Found company: {
  id: 330,
  name: 'DemoTest8',
  onboardingCompleted: false,
  riskScore: null,
  chosenScore: null,
  isDemo: true
}
[Current Company] User onboarding status discrepancy detected: {
  userId: 388,
  sessionValue: false,
  databaseValue: true,
  timestamp: '2025-05-17T21:10:16.023Z'
}
[Current Company] Onboarding status check: {
  userId: 388,
  companyId: 330,
  userOnboardingStatus: true,
  freshFromDatabase: true,
  companyOnboardingStatus: false,
  timestamp: '2025-05-17T21:10:16.023Z'
}
[2025-05-17T21:10:16.056Z] [INFO] [App] GET /api/companies/current 200 in 93ms :: {"id":330,"name":"DemoTest8","category":"FinTech","is_demo":true,"revenue_tie... 
[Auth] Returning user session data
[2025-05-17T21:10:17.566Z] [INFO] [App] GET /api/companies/current 304 in 31ms :: {"id":330,"name":"DemoTest8","category":"FinTech","is_demo":true,"revenue_tie... 
[2025-05-17T21:10:19.181Z] [INFO] [App] GET /api/companies/current 304 in 29ms :: {"id":330,"name":"DemoTest8","category":"FinTech","is_demo":true,"revenue_tie... 
[2025-05-17T21:10:19.211Z] [INFO] [App] GET /api/tasks/984 200 in 57ms :: {"id":984,"title":"1. KYB Form: DemoTest8","description":"Complete KYB verifi... 
[2025-05-17T21:10:19.395Z] [INFO] [App] GET /api/companies/current 304 in 30ms :: {"id":330,"name":"DemoTest8","category":"FinTech","is_demo":true,"revenue_tie... 
[Task Templates API] Fetching template for task type: company_kyb, user: 388
[Task Templates API] Found template: 1 (KYB Form) for task type: company_kyb
[Task Templates API] Retrieved 9 configuration items for template ID: 1
[2025-05-17T21:10:20.234Z] [INFO] [App] GET /api/tasks/984 304 in 61ms :: {"id":984,"title":"1. KYB Form: DemoTest8","description":"Complete KYB verifi... 
[2025-05-17T21:10:20.263Z] [INFO] [App] GET /api/task-templates/by-type/company_kyb 304 in 89ms :: {"id":1,"name":"KYB Form","description":"Know Your Business form for company ... 
[2025-05-17T21:10:20.979Z] [INFO] [App] Fetching KYB fields 
[2025-05-17T21:10:21.037Z] [INFO] [App] KYB fields retrieved successfully {"fieldCount":30,"groups":["companyProfile","financialProfile","governanceLeadership","operationsCompliance"]}
[2025-05-17T21:10:21.067Z] [INFO] [App] GET /api/kyb/fields 304 in 88ms :: [{"id":1,"field_key":"legalEntityName","display_name":"Legal Entity Name","fi... 
[KYB API Debug] Loading progress for task: 984
[Task Reconciliation] Task submission indicators: {
  taskId: 984,
  status: 'not_started',
  progress: 0,
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  hasFileId: false,
  submissionDate: undefined,
  isTerminalState: false,
  hasBeenSubmitted: false
}
[Task Reconciliation] Found 0 responses for task 984 (type: company_kyb)
[STATUS DETERMINATION] Calculating status for task with: {
  progress: 0,
  currentStatus: 'not_started',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  hasResponses: false,
  effectiveHasResponses: false,
  timestamp: '2025-05-17T21:10:21.287Z'
}
[STATUS DETERMINATION] Task has 0% progress and no responses, setting to NOT_STARTED
[Task Reconciliation] Progress calculation: {
  taskId: 984,
  currentProgress: 0,
  calculatedProgress: 0,
  currentStatus: 'not_started',
  calculatedStatus: 'not_started',
  responseCount: 0,
  completeCount: 0
}
[Task Reconciliation] No updates needed for task 984
[KYB API Debug] Retrieved task: {
  taskId: 984,
  status: 'not_started',
  progress: 0,
  metadata: [
    'locked',
    'company_id',
    'created_at',
    'isKy3pTask',
    'created_via',
    'status_flow',
    'company_name',
    'last_updated',
    'created_by_id',
    'progressHistory',
    'prerequisite_for'
  ],
  timestamp: '2025-05-17T21:10:21.317Z'
}
[KYB API Debug] Retrieved responses: { responseCount: 0, fields: [], timestamp: '2025-05-17T21:10:21.346Z' }
[SERVER DEBUG] No savedFormData found in task table
[SERVER DEBUG] No KYB form file ID found in task metadata
[KYB API Debug] Retrieved task data: {
  id: 984,
  responseCount: 0,
  progress: 0,
  status: 'not_started',
  formDataKeys: []
}
===============================================
[SERVER DEBUG] PREPARING GET RESPONSE at 2025-05-17T21:10:21.347Z
[SERVER DEBUG] Task ID: 984, Found 0 fields in database
===============================================
[SERVER DEBUG] Checking field corporateRegistration in retrieved data: NOT PRESENT
[SERVER DEBUG] Checking field goodStanding in retrieved data: NOT PRESENT
[SERVER DEBUG] Checking field regulatoryActions in retrieved data: NOT PRESENT
[SERVER DEBUG] Checking field investigationsIncidents in retrieved data: NOT PRESENT
[SERVER DEBUG] No fields with value "asdf" found in GET response data
[SERVER DEBUG] Sending GET response with 0 fields, status: not_started, progress: 0%
===============================================
[2025-05-17T21:10:21.377Z] [INFO] [App] GET /api/kyb/progress/984 200 in 151ms :: {"formData":{},"progress":0,"status":"not_started"} 
[KYB API Debug] Loading progress for task: 984
[Task Reconciliation] Task submission indicators: {
  taskId: 984,
  status: 'not_started',
  progress: 0,
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  hasFileId: false,
  submissionDate: undefined,
  isTerminalState: false,
  hasBeenSubmitted: false
}
[Task Reconciliation] Found 0 responses for task 984 (type: company_kyb)
[STATUS DETERMINATION] Calculating status for task with: {
  progress: 0,
  currentStatus: 'not_started',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  hasResponses: false,
  effectiveHasResponses: false,
  timestamp: '2025-05-17T21:10:21.586Z'
}
[STATUS DETERMINATION] Task has 0% progress and no responses, setting to NOT_STARTED
[Task Reconciliation] Progress calculation: {
  taskId: 984,
  currentProgress: 0,
  calculatedProgress: 0,
  currentStatus: 'not_started',
  calculatedStatus: 'not_started',
  responseCount: 0,
  completeCount: 0
}
[Task Reconciliation] No updates needed for task 984
[KYB API Debug] Retrieved task: {
  taskId: 984,
  status: 'not_started',
  progress: 0,
  metadata: [
    'locked',
    'company_id',
    'created_at',
    'isKy3pTask',
    'created_via',
    'status_flow',
    'company_name',
    'last_updated',
    'created_by_id',
    'progressHistory',
    'prerequisite_for'
  ],
  timestamp: '2025-05-17T21:10:21.615Z'
}
[KYB API Debug] Retrieved responses: { responseCount: 0, fields: [], timestamp: '2025-05-17T21:10:21.646Z' }
[SERVER DEBUG] No savedFormData found in task table
[SERVER DEBUG] No KYB form file ID found in task metadata
[KYB API Debug] Retrieved task data: {
  id: 984,
  responseCount: 0,
  progress: 0,
  status: 'not_started',
  formDataKeys: []
}
===============================================
[SERVER DEBUG] PREPARING GET RESPONSE at 2025-05-17T21:10:21.646Z
[SERVER DEBUG] Task ID: 984, Found 0 fields in database
===============================================
[SERVER DEBUG] Checking field corporateRegistration in retrieved data: NOT PRESENT
[SERVER DEBUG] Checking field goodStanding in retrieved data: NOT PRESENT
[SERVER DEBUG] Checking field regulatoryActions in retrieved data: NOT PRESENT
[SERVER DEBUG] Checking field investigationsIncidents in retrieved data: NOT PRESENT
[SERVER DEBUG] No fields with value "asdf" found in GET response data
[SERVER DEBUG] Sending GET response with 0 fields, status: not_started, progress: 0%
===============================================
[2025-05-17T21:10:21.676Z] [INFO] [App] GET /api/kyb/progress/984 304 in 150ms :: {"formData":{},"progress":0,"status":"not_started"} 
[2025-05-17T21:10:22.400Z] [INFO] [App] GET /api/companies/current 304 in 30ms :: {"id":330,"name":"DemoTest8","category":"FinTech","is_demo":true,"revenue_tie... 
[2025-05-17T21:10:23.370Z] [INFO] [App] Demo auto-fill requested for KYB task (GET) {"taskId":984,"userId":388}
[2025-05-17T21:10:23.370Z] [INFO] [App] Generating demo data {"taskId":984,"formType":"kyb","userId":388}
[2025-05-17T21:10:23.514Z] [INFO] [App] Retrieved fields for demo auto-fill {"count":30}
[2025-05-17T21:10:23.515Z] [INFO] [App] Successfully generated demo data {"taskId":984,"formType":"kyb","fieldCount":30}
[2025-05-17T21:10:23.515Z] [INFO] [App] Generated demo data for KYB auto-fill using universal service {"fieldCount":30,"taskId":984}
[2025-05-17T21:10:23.544Z] [INFO] [App] GET /api/kyb/demo-autofill/984 200 in 174ms :: {"legalEntityName":"DemoTest8","registrationNumber":"12-3456789","incorporati... 
[TimestampHandler] Saving 30 timestamps for task 984
[TimestampHandler] Successfully saved timestamps for task 984
[TimestampAPI] Saved 30 timestamps for task 984
[2025-05-17T21:10:24.265Z] [INFO] [App] POST /api/kyb/timestamps/984 200 in 64ms :: {"message":"Timestamps saved successfully","count":30} 
===============================================
[SERVER DEBUG] KYB PROGRESS SAVE REQUEST RECEIVED at 2025-05-17T21:10:24.422Z
===============================================
Task ID: 984
Progress: 100
Status: ready_for_submission
Field count: 30
Sample form data values:
- legalEntityName: "DemoTest8" (string)
- registrationNumber: "12-3456789" (string)
- incorporationDate: "5/12/2010" (string)
- businessType: "Limited Liability Company (LLC)" (string)
- jurisdiction: "Delaware, United States" (string)
Request details:
- Method: POST
- Content-Type: application/json
- Content-Length: 2505
===============================================
===============================================
[SERVER DEBUG] PROCESSING FORM DATA FIELDS AT 2025-05-17T21:10:24.507Z
[SERVER DEBUG] Task ID: 984, Field count: 30
===============================================
[SERVER DEBUG] COMPLETE FORM DATA DUMP:
[SERVER DEBUG] legalEntityName: "DemoTest8" (string)
[SERVER DEBUG] registrationNumber: "12-3456789" (string)
[SERVER DEBUG] incorporationDate: "5/12/2010" (string)
[SERVER DEBUG] businessType: "Limited Liability Company (LLC)" (string)
[SERVER DEBUG] jurisdiction: "Delaware, United States" (string)
[SERVER DEBUG] registeredAddress: "123 Market Street, Wilmington, DE 19801" (string)
[SERVER DEBUG] companyPhone: "(302) 555-1234" (string)
[SERVER DEBUG] priorNames: "None" (string)
[SERVER DEBUG] licenses: "Money Transmitter License #MT-12345, Financial Data Provider License #FDP-98765" (string)
[SERVER DEBUG] goodStanding: "Yes" (string)
[SERVER DEBUG] corporateRegistration: "Delaware State Filing Number 1234567, registered as FinTech Innovations LLC on 05/12/2010" (string)
[SERVER DEBUG] externalAudit: "No" (string)
[SERVER DEBUG] controlEnvironment: "Yes" (string)
[SERVER DEBUG] authorizedSigners: "John Smith (CEO), Sarah Johnson (CFO), Michael Wong (COO)" (string)
[SERVER DEBUG] governmentOwnership: "No" (string)
[SERVER DEBUG] ultimateBeneficialOwners: "None" (string)
[SERVER DEBUG] directorsAndOfficers: "John Smith (Chairman), Jane Doe (Director), Mike Johnson (Director)" (string)
[SERVER DEBUG] contactEmail: "8@e.com" (string)
[SERVER DEBUG] marketCapitalization: "$75 million (privately held)" (string)
[SERVER DEBUG] lifetimeCustomerValue: "$1,250" (string)
[SERVER DEBUG] annualRecurringRevenue: "5,000,000" (string)
[SERVER DEBUG] monthlyRecurringRevenue: "12,500,000" (string)
[SERVER DEBUG] investigationsIncidents: "No significant incidents in the past 3 years" (string)
[SERVER DEBUG] financialStatements: "Yes" (string)
[SERVER DEBUG] operationalPolicies: "ISO 27001 certified, SOC 2 Type II compliant" (string)
[SERVER DEBUG] dataVolume: "Approximately 2 million records per month" (string)
[SERVER DEBUG] dataTypes: "Financial transaction data, Account balances, Customer KYC information" (string)
[SERVER DEBUG] sanctionsCheck: "Approximately 2 million records per month" (string)
[SERVER DEBUG] dueDiligence: "Yes" (string)
[SERVER DEBUG] regulatoryActions: "Yes" (string)
[SERVER DEBUG] END OF FORM DATA DUMP
[SERVER DEBUG] No fields with value "asdf" found in incoming data
[SERVER DEBUG] Processing field: "legalEntityName" (ID: 1)
[SERVER DEBUG] Original value: DemoTest8
[SERVER DEBUG] Normalized value: "DemoTest8" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: NO
[SERVER DEBUG] INSERTING new response for field "legalEntityName"
[SERVER DEBUG] - Value: "DemoTest8" (string)
[SERVER DEBUG] - Status: COMPLETE
[SERVER DEBUG] ✅ INSERT VERIFICATION for field "legalEntityName":
[SERVER DEBUG] - Expected: "DemoTest8"
[SERVER DEBUG] - Actual: "DemoTest8"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ INSERT SUCCESSFUL for field "legalEntityName"
[SERVER DEBUG] Broadcasting legalEntityName insert via WebSocket: "DemoTest8"
[WebSocket] Broadcast field_update to 6 clients (0 errors) { messageId: 'msg_1747516224604_jwwivjzg0' }
[2025-05-17T21:10:24.604Z] [INFO] [App] Successfully broadcasted field_update message 
[Progress Utils] Broadcasting field update for task 984, field legalEntityName: {
  value: 'DemoTest8',
  fieldId: 1,
  timestamp: '2025-05-17T21:10:24.605Z'
}
[SERVER DEBUG] --- Finished processing field "legalEntityName" ---

[SERVER DEBUG] Processing field: "registrationNumber" (ID: 2)
[SERVER DEBUG] Original value: 12-3456789
[SERVER DEBUG] Normalized value: "12-3456789" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: NO
[SERVER DEBUG] INSERTING new response for field "registrationNumber"
[SERVER DEBUG] - Value: "12-3456789" (string)
[SERVER DEBUG] - Status: COMPLETE
[SERVER DEBUG] ✅ INSERT VERIFICATION for field "registrationNumber":
[SERVER DEBUG] - Expected: "12-3456789"
[SERVER DEBUG] - Actual: "12-3456789"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ INSERT SUCCESSFUL for field "registrationNumber"
[SERVER DEBUG] --- Finished processing field "registrationNumber" ---

[SERVER DEBUG] Processing field: "incorporationDate" (ID: 3)
[SERVER DEBUG] Original value: 5/12/2010
[SERVER DEBUG] Normalized value: "5/12/2010" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: NO
[SERVER DEBUG] INSERTING new response for field "incorporationDate"
[SERVER DEBUG] - Value: "5/12/2010" (string)
[SERVER DEBUG] - Status: COMPLETE
[SERVER DEBUG] ✅ INSERT VERIFICATION for field "incorporationDate":
[SERVER DEBUG] - Expected: "5/12/2010"
[SERVER DEBUG] - Actual: "5/12/2010"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ INSERT SUCCESSFUL for field "incorporationDate"
[SERVER DEBUG] --- Finished processing field "incorporationDate" ---

[SERVER DEBUG] Processing field: "businessType" (ID: 4)
[SERVER DEBUG] Original value: Limited Liability Company (LLC)
[SERVER DEBUG] Normalized value: "Limited Liability Company (LLC)" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: NO
[SERVER DEBUG] INSERTING new response for field "businessType"
[SERVER DEBUG] - Value: "Limited Liability Company (LLC)" (string)
[SERVER DEBUG] - Status: COMPLETE
[SERVER DEBUG] ✅ INSERT VERIFICATION for field "businessType":
[SERVER DEBUG] - Expected: "Limited Liability Company (LLC)"
[SERVER DEBUG] - Actual: "Limited Liability Company (LLC)"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ INSERT SUCCESSFUL for field "businessType"
[SERVER DEBUG] --- Finished processing field "businessType" ---

[SERVER DEBUG] Processing field: "jurisdiction" (ID: 5)
[SERVER DEBUG] Original value: Delaware, United States
[SERVER DEBUG] Normalized value: "Delaware, United States" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: NO
[SERVER DEBUG] INSERTING new response for field "jurisdiction"
[SERVER DEBUG] - Value: "Delaware, United States" (string)
[SERVER DEBUG] - Status: COMPLETE
[SERVER DEBUG] ✅ INSERT VERIFICATION for field "jurisdiction":
[SERVER DEBUG] - Expected: "Delaware, United States"
[SERVER DEBUG] - Actual: "Delaware, United States"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ INSERT SUCCESSFUL for field "jurisdiction"
[SERVER DEBUG] --- Finished processing field "jurisdiction" ---

[SERVER DEBUG] Processing field: "registeredAddress" (ID: 6)
[SERVER DEBUG] Original value: 123 Market Street, Wilmington, DE 19801
[SERVER DEBUG] Normalized value: "123 Market Street, Wilmington, DE 19801" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: NO
[SERVER DEBUG] INSERTING new response for field "registeredAddress"
[SERVER DEBUG] - Value: "123 Market Street, Wilmington, DE 19801" (string)
[SERVER DEBUG] - Status: COMPLETE
[SERVER DEBUG] ✅ INSERT VERIFICATION for field "registeredAddress":
[SERVER DEBUG] - Expected: "123 Market Street, Wilmington, DE 19801"
[SERVER DEBUG] - Actual: "123 Market Street, Wilmington, DE 19801"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ INSERT SUCCESSFUL for field "registeredAddress"
[SERVER DEBUG] --- Finished processing field "registeredAddress" ---

[SERVER DEBUG] Processing field: "companyPhone" (ID: 7)
[SERVER DEBUG] Original value: (302) 555-1234
[SERVER DEBUG] Normalized value: "(302) 555-1234" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: NO
[SERVER DEBUG] INSERTING new response for field "companyPhone"
[SERVER DEBUG] - Value: "(302) 555-1234" (string)
[SERVER DEBUG] - Status: COMPLETE
[SERVER DEBUG] ✅ INSERT VERIFICATION for field "companyPhone":
[SERVER DEBUG] - Expected: "(302) 555-1234"
[SERVER DEBUG] - Actual: "(302) 555-1234"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ INSERT SUCCESSFUL for field "companyPhone"
[SERVER DEBUG] --- Finished processing field "companyPhone" ---

[SERVER DEBUG] Processing field: "priorNames" (ID: 8)
[SERVER DEBUG] Original value: None
[SERVER DEBUG] Normalized value: "None" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: NO
[SERVER DEBUG] INSERTING new response for field "priorNames"
[SERVER DEBUG] - Value: "None" (string)
[SERVER DEBUG] - Status: COMPLETE
[SERVER DEBUG] ✅ INSERT VERIFICATION for field "priorNames":
[SERVER DEBUG] - Expected: "None"
[SERVER DEBUG] - Actual: "None"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ INSERT SUCCESSFUL for field "priorNames"
[SERVER DEBUG] --- Finished processing field "priorNames" ---

[SERVER DEBUG] Processing field: "licenses" (ID: 9)
[SERVER DEBUG] Original value: Money Transmitter License #MT-12345, Financial Data Provider License #FDP-98765
[SERVER DEBUG] Normalized value: "Money Transmitter License #MT-12345, Financial Data Provider License #FDP-98765" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: NO
[SERVER DEBUG] INSERTING new response for field "licenses"
[SERVER DEBUG] - Value: "Money Transmitter License #MT-12345, Financial Data Provider License #FDP-98765" (string)
[SERVER DEBUG] - Status: COMPLETE
[SERVER DEBUG] ✅ INSERT VERIFICATION for field "licenses":
[SERVER DEBUG] - Expected: "Money Transmitter License #MT-12345, Financial Data Provider License #FDP-98765"
[SERVER DEBUG] - Actual: "Money Transmitter License #MT-12345, Financial Data Provider License #FDP-98765"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ INSERT SUCCESSFUL for field "licenses"
[SERVER DEBUG] --- Finished processing field "licenses" ---

[SERVER DEBUG] Processing field: "goodStanding" (ID: 10)
[SERVER DEBUG] Original value: Yes
[SERVER DEBUG] Normalized value: "Yes" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: NO
[SERVER DEBUG] INSERTING new response for field "goodStanding"
[SERVER DEBUG] - Value: "Yes" (string)
[SERVER DEBUG] - Status: COMPLETE
[2025-05-17T21:10:25.399Z] [INFO] [App] GET /api/companies/current 304 in 33ms :: {"id":330,"name":"DemoTest8","category":"FinTech","is_demo":true,"revenue_tie... 
[SERVER DEBUG] ✅ INSERT VERIFICATION for field "goodStanding":
[SERVER DEBUG] - Expected: "Yes"
[SERVER DEBUG] - Actual: "Yes"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ INSERT SUCCESSFUL for field "goodStanding"
[SERVER DEBUG] --- Finished processing field "goodStanding" ---

[SERVER DEBUG] Processing field: "corporateRegistration" (ID: 11)
[SERVER DEBUG] Original value: Delaware State Filing Number 1234567, registered as FinTech Innovations LLC on 05/12/2010
[SERVER DEBUG] Normalized value: "Delaware State Filing Number 1234567, registered as FinTech Innovations LLC on 05/12/2010" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: NO
[SERVER DEBUG] INSERTING new response for field "corporateRegistration"
[SERVER DEBUG] - Value: "Delaware State Filing Number 1234567, registered as FinTech Innovations LLC on 05/12/2010" (string)
[SERVER DEBUG] - Status: COMPLETE
[SERVER DEBUG] ✅ INSERT VERIFICATION for field "corporateRegistration":
[SERVER DEBUG] - Expected: "Delaware State Filing Number 1234567, registered as FinTech Innovations LLC on 05/12/2010"
[SERVER DEBUG] - Actual: "Delaware State Filing Number 1234567, registered as FinTech Innovations LLC on 05/12/2010"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ INSERT SUCCESSFUL for field "corporateRegistration"
[SERVER DEBUG] --- Finished processing field "corporateRegistration" ---

[SERVER DEBUG] Processing field: "externalAudit" (ID: 12)
[SERVER DEBUG] Original value: No
[SERVER DEBUG] Normalized value: "No" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: NO
[SERVER DEBUG] INSERTING new response for field "externalAudit"
[SERVER DEBUG] - Value: "No" (string)
[SERVER DEBUG] - Status: COMPLETE
[SERVER DEBUG] ✅ INSERT VERIFICATION for field "externalAudit":
[SERVER DEBUG] - Expected: "No"
[SERVER DEBUG] - Actual: "No"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ INSERT SUCCESSFUL for field "externalAudit"
[SERVER DEBUG] --- Finished processing field "externalAudit" ---

[SERVER DEBUG] Processing field: "controlEnvironment" (ID: 13)
[SERVER DEBUG] Original value: Yes
[SERVER DEBUG] Normalized value: "Yes" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: NO
[SERVER DEBUG] INSERTING new response for field "controlEnvironment"
[SERVER DEBUG] - Value: "Yes" (string)
[SERVER DEBUG] - Status: COMPLETE
[SERVER DEBUG] ✅ INSERT VERIFICATION for field "controlEnvironment":
[SERVER DEBUG] - Expected: "Yes"
[SERVER DEBUG] - Actual: "Yes"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ INSERT SUCCESSFUL for field "controlEnvironment"
[SERVER DEBUG] --- Finished processing field "controlEnvironment" ---

[SERVER DEBUG] Processing field: "authorizedSigners" (ID: 14)
[SERVER DEBUG] Original value: John Smith (CEO), Sarah Johnson (CFO), Michael Wong (COO)
[SERVER DEBUG] Normalized value: "John Smith (CEO), Sarah Johnson (CFO), Michael Wong (COO)" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: NO
[SERVER DEBUG] INSERTING new response for field "authorizedSigners"
[SERVER DEBUG] - Value: "John Smith (CEO), Sarah Johnson (CFO), Michael Wong (COO)" (string)
[SERVER DEBUG] - Status: COMPLETE
[SERVER DEBUG] ✅ INSERT VERIFICATION for field "authorizedSigners":
[SERVER DEBUG] - Expected: "John Smith (CEO), Sarah Johnson (CFO), Michael Wong (COO)"
[SERVER DEBUG] - Actual: "John Smith (CEO), Sarah Johnson (CFO), Michael Wong (COO)"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ INSERT SUCCESSFUL for field "authorizedSigners"
[SERVER DEBUG] --- Finished processing field "authorizedSigners" ---

[SERVER DEBUG] Processing field: "governmentOwnership" (ID: 15)
[SERVER DEBUG] Original value: No
[SERVER DEBUG] Normalized value: "No" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: NO
[SERVER DEBUG] INSERTING new response for field "governmentOwnership"
[SERVER DEBUG] - Value: "No" (string)
[SERVER DEBUG] - Status: COMPLETE
[SERVER DEBUG] ✅ INSERT VERIFICATION for field "governmentOwnership":
[SERVER DEBUG] - Expected: "No"
[SERVER DEBUG] - Actual: "No"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ INSERT SUCCESSFUL for field "governmentOwnership"
[SERVER DEBUG] --- Finished processing field "governmentOwnership" ---

[SERVER DEBUG] Processing field: "ultimateBeneficialOwners" (ID: 16)
[SERVER DEBUG] Original value: None
[SERVER DEBUG] Normalized value: "None" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: NO
[SERVER DEBUG] INSERTING new response for field "ultimateBeneficialOwners"
[SERVER DEBUG] - Value: "None" (string)
[SERVER DEBUG] - Status: COMPLETE
[SERVER DEBUG] ✅ INSERT VERIFICATION for field "ultimateBeneficialOwners":
[SERVER DEBUG] - Expected: "None"
[SERVER DEBUG] - Actual: "None"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ INSERT SUCCESSFUL for field "ultimateBeneficialOwners"
[SERVER DEBUG] --- Finished processing field "ultimateBeneficialOwners" ---

[SERVER DEBUG] Processing field: "directorsAndOfficers" (ID: 17)
[SERVER DEBUG] Original value: John Smith (Chairman), Jane Doe (Director), Mike Johnson (Director)
[SERVER DEBUG] Normalized value: "John Smith (Chairman), Jane Doe (Director), Mike Johnson (Director)" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: NO
[SERVER DEBUG] INSERTING new response for field "directorsAndOfficers"
[SERVER DEBUG] - Value: "John Smith (Chairman), Jane Doe (Director), Mike Johnson (Director)" (string)
[SERVER DEBUG] - Status: COMPLETE
[SERVER DEBUG] ✅ INSERT VERIFICATION for field "directorsAndOfficers":
[SERVER DEBUG] - Expected: "John Smith (Chairman), Jane Doe (Director), Mike Johnson (Director)"
[SERVER DEBUG] - Actual: "John Smith (Chairman), Jane Doe (Director), Mike Johnson (Director)"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ INSERT SUCCESSFUL for field "directorsAndOfficers"
[SERVER DEBUG] --- Finished processing field "directorsAndOfficers" ---

[SERVER DEBUG] Processing field: "contactEmail" (ID: 18)
[SERVER DEBUG] Original value: 8@e.com
[SERVER DEBUG] Normalized value: "8@e.com" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: NO
[SERVER DEBUG] INSERTING new response for field "contactEmail"
[SERVER DEBUG] - Value: "8@e.com" (string)
[SERVER DEBUG] - Status: COMPLETE
[SERVER DEBUG] ✅ INSERT VERIFICATION for field "contactEmail":
[SERVER DEBUG] - Expected: "8@e.com"
[SERVER DEBUG] - Actual: "8@e.com"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ INSERT SUCCESSFUL for field "contactEmail"
[SERVER DEBUG] --- Finished processing field "contactEmail" ---

[SERVER DEBUG] Processing field: "marketCapitalization" (ID: 19)
[SERVER DEBUG] Original value: $75 million (privately held)
[SERVER DEBUG] Normalized value: "$75 million (privately held)" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: NO
[SERVER DEBUG] INSERTING new response for field "marketCapitalization"
[SERVER DEBUG] - Value: "$75 million (privately held)" (string)
[SERVER DEBUG] - Status: COMPLETE
[SERVER DEBUG] ✅ INSERT VERIFICATION for field "marketCapitalization":
[SERVER DEBUG] - Expected: "$75 million (privately held)"
[SERVER DEBUG] - Actual: "$75 million (privately held)"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ INSERT SUCCESSFUL for field "marketCapitalization"
[SERVER DEBUG] --- Finished processing field "marketCapitalization" ---

[SERVER DEBUG] Processing field: "lifetimeCustomerValue" (ID: 20)
[SERVER DEBUG] Original value: $1,250
[SERVER DEBUG] Normalized value: "$1,250" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: NO
[SERVER DEBUG] INSERTING new response for field "lifetimeCustomerValue"
[SERVER DEBUG] - Value: "$1,250" (string)
[SERVER DEBUG] - Status: COMPLETE
[SERVER DEBUG] ✅ INSERT VERIFICATION for field "lifetimeCustomerValue":
[SERVER DEBUG] - Expected: "$1,250"
[SERVER DEBUG] - Actual: "$1,250"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ INSERT SUCCESSFUL for field "lifetimeCustomerValue"
[SERVER DEBUG] --- Finished processing field "lifetimeCustomerValue" ---

[SERVER DEBUG] Processing field: "annualRecurringRevenue" (ID: 21)
[SERVER DEBUG] Original value: 5,000,000
[SERVER DEBUG] Normalized value: "5,000,000" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: NO
[SERVER DEBUG] INSERTING new response for field "annualRecurringRevenue"
[SERVER DEBUG] - Value: "5,000,000" (string)
[SERVER DEBUG] - Status: COMPLETE
[SERVER DEBUG] ✅ INSERT VERIFICATION for field "annualRecurringRevenue":
[SERVER DEBUG] - Expected: "5,000,000"
[SERVER DEBUG] - Actual: "5,000,000"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ INSERT SUCCESSFUL for field "annualRecurringRevenue"
[SERVER DEBUG] --- Finished processing field "annualRecurringRevenue" ---

[SERVER DEBUG] Processing field: "monthlyRecurringRevenue" (ID: 22)
[SERVER DEBUG] Original value: 12,500,000
[SERVER DEBUG] Normalized value: "12,500,000" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: NO
[SERVER DEBUG] INSERTING new response for field "monthlyRecurringRevenue"
[SERVER DEBUG] - Value: "12,500,000" (string)
[SERVER DEBUG] - Status: COMPLETE
[SERVER DEBUG] ✅ INSERT VERIFICATION for field "monthlyRecurringRevenue":
[SERVER DEBUG] - Expected: "12,500,000"
[SERVER DEBUG] - Actual: "12,500,000"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ INSERT SUCCESSFUL for field "monthlyRecurringRevenue"
[SERVER DEBUG] --- Finished processing field "monthlyRecurringRevenue" ---

[SERVER DEBUG] Processing field: "investigationsIncidents" (ID: 23)
[SERVER DEBUG] Original value: No significant incidents in the past 3 years
[SERVER DEBUG] Normalized value: "No significant incidents in the past 3 years" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: NO
[SERVER DEBUG] INSERTING new response for field "investigationsIncidents"
[SERVER DEBUG] - Value: "No significant incidents in the past 3 years" (string)
[SERVER DEBUG] - Status: COMPLETE
[SERVER DEBUG] ✅ INSERT VERIFICATION for field "investigationsIncidents":
[SERVER DEBUG] - Expected: "No significant incidents in the past 3 years"
[SERVER DEBUG] - Actual: "No significant incidents in the past 3 years"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ INSERT SUCCESSFUL for field "investigationsIncidents"
[SERVER DEBUG] --- Finished processing field "investigationsIncidents" ---

[SERVER DEBUG] Processing field: "financialStatements" (ID: 24)
[SERVER DEBUG] Original value: Yes
[SERVER DEBUG] Normalized value: "Yes" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: NO
[SERVER DEBUG] INSERTING new response for field "financialStatements"
[SERVER DEBUG] - Value: "Yes" (string)
[SERVER DEBUG] - Status: COMPLETE
[SERVER DEBUG] ✅ INSERT VERIFICATION for field "financialStatements":
[SERVER DEBUG] - Expected: "Yes"
[SERVER DEBUG] - Actual: "Yes"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ INSERT SUCCESSFUL for field "financialStatements"
[SERVER DEBUG] --- Finished processing field "financialStatements" ---

[SERVER DEBUG] Processing field: "operationalPolicies" (ID: 25)
[SERVER DEBUG] Original value: ISO 27001 certified, SOC 2 Type II compliant
[SERVER DEBUG] Normalized value: "ISO 27001 certified, SOC 2 Type II compliant" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: NO
[SERVER DEBUG] INSERTING new response for field "operationalPolicies"
[SERVER DEBUG] - Value: "ISO 27001 certified, SOC 2 Type II compliant" (string)
[SERVER DEBUG] - Status: COMPLETE
[SERVER DEBUG] ✅ INSERT VERIFICATION for field "operationalPolicies":
[SERVER DEBUG] - Expected: "ISO 27001 certified, SOC 2 Type II compliant"
[SERVER DEBUG] - Actual: "ISO 27001 certified, SOC 2 Type II compliant"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ INSERT SUCCESSFUL for field "operationalPolicies"
[SERVER DEBUG] --- Finished processing field "operationalPolicies" ---

[SERVER DEBUG] Processing field: "dataVolume" (ID: 26)
[SERVER DEBUG] Original value: Approximately 2 million records per month
[SERVER DEBUG] Normalized value: "Approximately 2 million records per month" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: NO
[SERVER DEBUG] INSERTING new response for field "dataVolume"
[SERVER DEBUG] - Value: "Approximately 2 million records per month" (string)
[SERVER DEBUG] - Status: COMPLETE
[SERVER DEBUG] ✅ INSERT VERIFICATION for field "dataVolume":
[SERVER DEBUG] - Expected: "Approximately 2 million records per month"
[SERVER DEBUG] - Actual: "Approximately 2 million records per month"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ INSERT SUCCESSFUL for field "dataVolume"
[SERVER DEBUG] --- Finished processing field "dataVolume" ---

[SERVER DEBUG] Processing field: "dataTypes" (ID: 27)
[SERVER DEBUG] Original value: Financial transaction data, Account balances, Customer KYC information
[SERVER DEBUG] Normalized value: "Financial transaction data, Account balances, Customer KYC information" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: NO
[SERVER DEBUG] INSERTING new response for field "dataTypes"
[SERVER DEBUG] - Value: "Financial transaction data, Account balances, Customer KYC information" (string)
[SERVER DEBUG] - Status: COMPLETE
[SERVER DEBUG] ✅ INSERT VERIFICATION for field "dataTypes":
[SERVER DEBUG] - Expected: "Financial transaction data, Account balances, Customer KYC information"
[SERVER DEBUG] - Actual: "Financial transaction data, Account balances, Customer KYC information"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ INSERT SUCCESSFUL for field "dataTypes"
[SERVER DEBUG] --- Finished processing field "dataTypes" ---

[SERVER DEBUG] Processing field: "sanctionsCheck" (ID: 28)
[SERVER DEBUG] Original value: Approximately 2 million records per month
[SERVER DEBUG] Normalized value: "Approximately 2 million records per month" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: NO
[SERVER DEBUG] INSERTING new response for field "sanctionsCheck"
[SERVER DEBUG] - Value: "Approximately 2 million records per month" (string)
[SERVER DEBUG] - Status: COMPLETE
[SERVER DEBUG] ✅ INSERT VERIFICATION for field "sanctionsCheck":
[SERVER DEBUG] - Expected: "Approximately 2 million records per month"
[SERVER DEBUG] - Actual: "Approximately 2 million records per month"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ INSERT SUCCESSFUL for field "sanctionsCheck"
[SERVER DEBUG] --- Finished processing field "sanctionsCheck" ---

[SERVER DEBUG] Processing field: "dueDiligence" (ID: 29)
[SERVER DEBUG] Original value: Yes
[SERVER DEBUG] Normalized value: "Yes" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: NO
[SERVER DEBUG] INSERTING new response for field "dueDiligence"
[SERVER DEBUG] - Value: "Yes" (string)
[SERVER DEBUG] - Status: COMPLETE
[SERVER DEBUG] ✅ INSERT VERIFICATION for field "dueDiligence":
[SERVER DEBUG] - Expected: "Yes"
[SERVER DEBUG] - Actual: "Yes"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ INSERT SUCCESSFUL for field "dueDiligence"
[SERVER DEBUG] --- Finished processing field "dueDiligence" ---

[SERVER DEBUG] Processing field: "regulatoryActions" (ID: 30)
[SERVER DEBUG] Original value: Yes
[SERVER DEBUG] Normalized value: "Yes" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: NO
[SERVER DEBUG] INSERTING new response for field "regulatoryActions"
[SERVER DEBUG] - Value: "Yes" (string)
[SERVER DEBUG] - Status: COMPLETE
[SERVER DEBUG] ✅ INSERT VERIFICATION for field "regulatoryActions":
[SERVER DEBUG] - Expected: "Yes"
[SERVER DEBUG] - Actual: "Yes"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ INSERT SUCCESSFUL for field "regulatoryActions"
[SERVER DEBUG] --- Finished processing field "regulatoryActions" ---

[KYB API Debug] Using client-provided status: ready_for_submission
[WebSocket] Broadcasting task update for task 984: progress=100, status=ready_for_submission
[Progress Broadcast broadcast-1747516227288-624] Broadcasting progress update for task 984: {
  taskId: 984,
  progress: 100,
  status: 'ready_for_submission',
  timestamp: '2025-05-17T21:10:27.288Z',
  source: 'at <anonymous> (/home/runner/workspace/server/routes/kyb.ts:1202:7)',
  hasMetadata: true
}
[Progress Utils] Broadcasting task progress update: {
  taskId: 984,
  progress: 100,
  requestedStatus: 'ready_for_submission',
  finalStatus: 'ready_for_submission',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  timestamp: '2025-05-17T21:10:27.297Z'
}
[WebSocket] Broadcast task_update to 6 clients (0 errors) { messageId: 'msg_1747516227297_eou1fuyl6' }
[2025-05-17T21:10:27.297Z] [INFO] [App] Successfully broadcasted task_update message 
[Progress Broadcast broadcast-1747516227288-624] Successfully broadcast progress update for task 984
===============================================
[SERVER DEBUG] PREPARING RESPONSE at 2025-05-17T21:10:27.327Z
[SERVER DEBUG] Found 30 fields in database after update
===============================================
[SERVER DEBUG] Checking field corporateRegistration in updated data: "Delaware State Filing Number 1234567, registered as FinTech Innovations LLC on 05/12/2010"
[SERVER DEBUG] Checking field goodStanding in updated data: "Yes"
[SERVER DEBUG] Checking field regulatoryActions in updated data: "Yes"
[SERVER DEBUG] Checking field investigationsIncidents in updated data: "No significant incidents in the past 3 years"
[SERVER DEBUG] No fields with value "asdf" found in response data
[SERVER DEBUG] Sending response with 30 fields, status: ready_for_submission, progress: 100%
[KYB API] ℹ️ Form has reached ready_for_submission status but File Vault tab will only unlock after formal submission
[SERVER DEBUG] Updating task.savedFormData to ensure persistence across navigation
[SERVER DEBUG] ✅ Successfully updated task.savedFormData with latest form data
===============================================
[2025-05-17T21:10:27.392Z] [INFO] [App] POST /api/kyb/progress 200 in 2970ms :: {"success":true,"savedData":{"progress":100,"status":"ready_for_submission","... 
[2025-05-17T21:10:27.571Z] [INFO] [WebSocket] Received message from client client-1747515967452-2sokc3p {"module":"WebSocket","type":"ping","timestamp":"2025-05-17T21:10:27.434Z","connectionId":"ws_1747515965962_2o79gv0lq"}
[TimestampHandler] Saving 30 timestamps for task 984
[TimestampHandler] Successfully saved timestamps for task 984
[TimestampAPI] Saved 30 timestamps for task 984
[2025-05-17T21:10:28.108Z] [INFO] [App] POST /api/kyb/timestamps/984 200 in 64ms :: {"message":"Timestamps saved successfully","count":30} 
===============================================
[SERVER DEBUG] KYB PROGRESS SAVE REQUEST RECEIVED at 2025-05-17T21:10:28.272Z
===============================================
Task ID: 984
Progress: 100
Status: ready_for_submission
Field count: 30
Sample form data values:
- legalEntityName: "DemoTest8" (string)
- registrationNumber: "12-3456789" (string)
- incorporationDate: "5/12/2010" (string)
- businessType: "Limited Liability Company (LLC)" (string)
- jurisdiction: "Delaware, United States" (string)
Request details:
- Method: POST
- Content-Type: application/json
- Content-Length: 2505
===============================================
===============================================
[SERVER DEBUG] PROCESSING FORM DATA FIELDS AT 2025-05-17T21:10:28.370Z
[SERVER DEBUG] Task ID: 984, Field count: 30
===============================================
[SERVER DEBUG] COMPLETE FORM DATA DUMP:
[SERVER DEBUG] legalEntityName: "DemoTest8" (string)
[SERVER DEBUG] registrationNumber: "12-3456789" (string)
[SERVER DEBUG] incorporationDate: "5/12/2010" (string)
[SERVER DEBUG] businessType: "Limited Liability Company (LLC)" (string)
[SERVER DEBUG] jurisdiction: "Delaware, United States" (string)
[SERVER DEBUG] registeredAddress: "123 Market Street, Wilmington, DE 19801" (string)
[SERVER DEBUG] companyPhone: "(302) 555-1234" (string)
[SERVER DEBUG] priorNames: "None" (string)
[SERVER DEBUG] licenses: "Money Transmitter License #MT-12345, Financial Data Provider License #FDP-98765" (string)
[SERVER DEBUG] goodStanding: "Yes" (string)
[SERVER DEBUG] corporateRegistration: "Delaware State Filing Number 1234567, registered as FinTech Innovations LLC on 05/12/2010" (string)
[SERVER DEBUG] externalAudit: "No" (string)
[SERVER DEBUG] controlEnvironment: "Yes" (string)
[SERVER DEBUG] authorizedSigners: "John Smith (CEO), Sarah Johnson (CFO), Michael Wong (COO)" (string)
[SERVER DEBUG] governmentOwnership: "No" (string)
[SERVER DEBUG] ultimateBeneficialOwners: "None" (string)
[SERVER DEBUG] directorsAndOfficers: "John Smith (Chairman), Jane Doe (Director), Mike Johnson (Director)" (string)
[SERVER DEBUG] contactEmail: "8@e.com" (string)
[SERVER DEBUG] marketCapitalization: "$75 million (privately held)" (string)
[SERVER DEBUG] lifetimeCustomerValue: "$1,250" (string)
[SERVER DEBUG] annualRecurringRevenue: "5,000,000" (string)
[SERVER DEBUG] monthlyRecurringRevenue: "12,500,000" (string)
[SERVER DEBUG] investigationsIncidents: "No significant incidents in the past 3 years" (string)
[SERVER DEBUG] financialStatements: "Yes" (string)
[SERVER DEBUG] operationalPolicies: "ISO 27001 certified, SOC 2 Type II compliant" (string)
[SERVER DEBUG] dataVolume: "Approximately 2 million records per month" (string)
[SERVER DEBUG] dataTypes: "Financial transaction data, Account balances, Customer KYC information" (string)
[SERVER DEBUG] sanctionsCheck: "Approximately 2 million records per month" (string)
[SERVER DEBUG] dueDiligence: "Yes" (string)
[SERVER DEBUG] regulatoryActions: "Yes" (string)
[SERVER DEBUG] END OF FORM DATA DUMP
[SERVER DEBUG] No fields with value "asdf" found in incoming data
[SERVER DEBUG] Processing field: "legalEntityName" (ID: 1)
[SERVER DEBUG] Original value: DemoTest8
[SERVER DEBUG] Normalized value: "DemoTest8" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "legalEntityName" in database
[SERVER DEBUG] - Old value: "DemoTest8" (string)
[SERVER DEBUG] - New value: "DemoTest8" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: legalEntityName
[SERVER DEBUG] - field_id: 1
[SERVER DEBUG] - response_value: "DemoTest8"
[2025-05-17T21:10:28.405Z] [INFO] [App] GET /api/companies/current 304 in 32ms :: {"id":330,"name":"DemoTest8","category":"FinTech","is_demo":true,"revenue_tie... 
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "legalEntityName":
[SERVER DEBUG] - Expected: "DemoTest8"
[SERVER DEBUG] - Actual: "DemoTest8"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "legalEntityName" (ID: 8017)
[SERVER DEBUG] Broadcasting legalEntityName update via WebSocket: "DemoTest8"
[WebSocket] Broadcast field_update to 6 clients (0 errors) { messageId: 'msg_1747516228475_ud96ggtrn' }
[2025-05-17T21:10:28.476Z] [INFO] [App] Successfully broadcasted field_update message 
[Progress Utils] Broadcasting field update for task 984, field legalEntityName: {
  value: 'DemoTest8',
  fieldId: 1,
  timestamp: '2025-05-17T21:10:28.476Z'
}
[SERVER DEBUG] --- Finished processing field "legalEntityName" ---

[SERVER DEBUG] Processing field: "registrationNumber" (ID: 2)
[SERVER DEBUG] Original value: 12-3456789
[SERVER DEBUG] Normalized value: "12-3456789" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "registrationNumber" in database
[SERVER DEBUG] - Old value: "12-3456789" (string)
[SERVER DEBUG] - New value: "12-3456789" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: registrationNumber
[SERVER DEBUG] - field_id: 2
[SERVER DEBUG] - response_value: "12-3456789"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "registrationNumber":
[SERVER DEBUG] - Expected: "12-3456789"
[SERVER DEBUG] - Actual: "12-3456789"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "registrationNumber" (ID: 8018)
[SERVER DEBUG] --- Finished processing field "registrationNumber" ---

[SERVER DEBUG] Processing field: "incorporationDate" (ID: 3)
[SERVER DEBUG] Original value: 5/12/2010
[SERVER DEBUG] Normalized value: "5/12/2010" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "incorporationDate" in database
[SERVER DEBUG] - Old value: "5/12/2010" (string)
[SERVER DEBUG] - New value: "5/12/2010" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: incorporationDate
[SERVER DEBUG] - field_id: 3
[SERVER DEBUG] - response_value: "5/12/2010"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "incorporationDate":
[SERVER DEBUG] - Expected: "5/12/2010"
[SERVER DEBUG] - Actual: "5/12/2010"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "incorporationDate" (ID: 8019)
[SERVER DEBUG] --- Finished processing field "incorporationDate" ---

[SERVER DEBUG] Processing field: "businessType" (ID: 4)
[SERVER DEBUG] Original value: Limited Liability Company (LLC)
[SERVER DEBUG] Normalized value: "Limited Liability Company (LLC)" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "businessType" in database
[SERVER DEBUG] - Old value: "Limited Liability Company (LLC)" (string)
[SERVER DEBUG] - New value: "Limited Liability Company (LLC)" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: businessType
[SERVER DEBUG] - field_id: 4
[SERVER DEBUG] - response_value: "Limited Liability Company (LLC)"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "businessType":
[SERVER DEBUG] - Expected: "Limited Liability Company (LLC)"
[SERVER DEBUG] - Actual: "Limited Liability Company (LLC)"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "businessType" (ID: 8020)
[SERVER DEBUG] --- Finished processing field "businessType" ---

[SERVER DEBUG] Processing field: "jurisdiction" (ID: 5)
[SERVER DEBUG] Original value: Delaware, United States
[SERVER DEBUG] Normalized value: "Delaware, United States" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "jurisdiction" in database
[SERVER DEBUG] - Old value: "Delaware, United States" (string)
[SERVER DEBUG] - New value: "Delaware, United States" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: jurisdiction
[SERVER DEBUG] - field_id: 5
[SERVER DEBUG] - response_value: "Delaware, United States"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "jurisdiction":
[SERVER DEBUG] - Expected: "Delaware, United States"
[SERVER DEBUG] - Actual: "Delaware, United States"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "jurisdiction" (ID: 8021)
[SERVER DEBUG] --- Finished processing field "jurisdiction" ---

[SERVER DEBUG] Processing field: "registeredAddress" (ID: 6)
[SERVER DEBUG] Original value: 123 Market Street, Wilmington, DE 19801
[SERVER DEBUG] Normalized value: "123 Market Street, Wilmington, DE 19801" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "registeredAddress" in database
[SERVER DEBUG] - Old value: "123 Market Street, Wilmington, DE 19801" (string)
[SERVER DEBUG] - New value: "123 Market Street, Wilmington, DE 19801" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: registeredAddress
[SERVER DEBUG] - field_id: 6
[SERVER DEBUG] - response_value: "123 Market Street, Wilmington, DE 19801"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "registeredAddress":
[SERVER DEBUG] - Expected: "123 Market Street, Wilmington, DE 19801"
[SERVER DEBUG] - Actual: "123 Market Street, Wilmington, DE 19801"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "registeredAddress" (ID: 8022)
[SERVER DEBUG] --- Finished processing field "registeredAddress" ---

[SERVER DEBUG] Processing field: "companyPhone" (ID: 7)
[SERVER DEBUG] Original value: (302) 555-1234
[SERVER DEBUG] Normalized value: "(302) 555-1234" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "companyPhone" in database
[SERVER DEBUG] - Old value: "(302) 555-1234" (string)
[SERVER DEBUG] - New value: "(302) 555-1234" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: companyPhone
[SERVER DEBUG] - field_id: 7
[SERVER DEBUG] - response_value: "(302) 555-1234"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "companyPhone":
[SERVER DEBUG] - Expected: "(302) 555-1234"
[SERVER DEBUG] - Actual: "(302) 555-1234"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "companyPhone" (ID: 8023)
[SERVER DEBUG] --- Finished processing field "companyPhone" ---

[SERVER DEBUG] Processing field: "priorNames" (ID: 8)
[SERVER DEBUG] Original value: None
[SERVER DEBUG] Normalized value: "None" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "priorNames" in database
[SERVER DEBUG] - Old value: "None" (string)
[SERVER DEBUG] - New value: "None" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: priorNames
[SERVER DEBUG] - field_id: 8
[SERVER DEBUG] - response_value: "None"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "priorNames":
[SERVER DEBUG] - Expected: "None"
[SERVER DEBUG] - Actual: "None"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "priorNames" (ID: 8024)
[SERVER DEBUG] --- Finished processing field "priorNames" ---

[SERVER DEBUG] Processing field: "licenses" (ID: 9)
[SERVER DEBUG] Original value: Money Transmitter License #MT-12345, Financial Data Provider License #FDP-98765
[SERVER DEBUG] Normalized value: "Money Transmitter License #MT-12345, Financial Data Provider License #FDP-98765" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "licenses" in database
[SERVER DEBUG] - Old value: "Money Transmitter License #MT-12345, Financial Data Provider License #FDP-98765" (string)
[SERVER DEBUG] - New value: "Money Transmitter License #MT-12345, Financial Data Provider License #FDP-98765" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: licenses
[SERVER DEBUG] - field_id: 9
[SERVER DEBUG] - response_value: "Money Transmitter License #MT-12345, Financial Data Provider License #FDP-98765"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "licenses":
[SERVER DEBUG] - Expected: "Money Transmitter License #MT-12345, Financial Data Provider License #FDP-98765"
[SERVER DEBUG] - Actual: "Money Transmitter License #MT-12345, Financial Data Provider License #FDP-98765"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "licenses" (ID: 8025)
[SERVER DEBUG] --- Finished processing field "licenses" ---

[SERVER DEBUG] Processing field: "goodStanding" (ID: 10)
[SERVER DEBUG] Original value: Yes
[SERVER DEBUG] Normalized value: "Yes" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "goodStanding" in database
[SERVER DEBUG] - Old value: "Yes" (string)
[SERVER DEBUG] - New value: "Yes" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: goodStanding
[SERVER DEBUG] - field_id: 10
[SERVER DEBUG] - response_value: "Yes"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "goodStanding":
[SERVER DEBUG] - Expected: "Yes"
[SERVER DEBUG] - Actual: "Yes"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "goodStanding" (ID: 8026)
[SERVER DEBUG] --- Finished processing field "goodStanding" ---

[SERVER DEBUG] Processing field: "corporateRegistration" (ID: 11)
[SERVER DEBUG] Original value: Delaware State Filing Number 1234567, registered as FinTech Innovations LLC on 05/12/2010
[SERVER DEBUG] Normalized value: "Delaware State Filing Number 1234567, registered as FinTech Innovations LLC on 05/12/2010" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "corporateRegistration" in database
[SERVER DEBUG] - Old value: "Delaware State Filing Number 1234567, registered as FinTech Innovations LLC on 05/12/2010" (string)
[SERVER DEBUG] - New value: "Delaware State Filing Number 1234567, registered as FinTech Innovations LLC on 05/12/2010" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: corporateRegistration
[SERVER DEBUG] - field_id: 11
[SERVER DEBUG] - response_value: "Delaware State Filing Number 1234567, registered as FinTech Innovations LLC on 05/12/2010"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "corporateRegistration":
[SERVER DEBUG] - Expected: "Delaware State Filing Number 1234567, registered as FinTech Innovations LLC on 05/12/2010"
[SERVER DEBUG] - Actual: "Delaware State Filing Number 1234567, registered as FinTech Innovations LLC on 05/12/2010"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "corporateRegistration" (ID: 8027)
[SERVER DEBUG] --- Finished processing field "corporateRegistration" ---

[SERVER DEBUG] Processing field: "externalAudit" (ID: 12)
[SERVER DEBUG] Original value: No
[SERVER DEBUG] Normalized value: "No" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "externalAudit" in database
[SERVER DEBUG] - Old value: "No" (string)
[SERVER DEBUG] - New value: "No" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: externalAudit
[SERVER DEBUG] - field_id: 12
[SERVER DEBUG] - response_value: "No"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "externalAudit":
[SERVER DEBUG] - Expected: "No"
[SERVER DEBUG] - Actual: "No"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "externalAudit" (ID: 8028)
[SERVER DEBUG] --- Finished processing field "externalAudit" ---

[SERVER DEBUG] Processing field: "controlEnvironment" (ID: 13)
[SERVER DEBUG] Original value: Yes
[SERVER DEBUG] Normalized value: "Yes" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "controlEnvironment" in database
[SERVER DEBUG] - Old value: "Yes" (string)
[SERVER DEBUG] - New value: "Yes" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: controlEnvironment
[SERVER DEBUG] - field_id: 13
[SERVER DEBUG] - response_value: "Yes"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "controlEnvironment":
[SERVER DEBUG] - Expected: "Yes"
[SERVER DEBUG] - Actual: "Yes"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "controlEnvironment" (ID: 8029)
[SERVER DEBUG] --- Finished processing field "controlEnvironment" ---

[SERVER DEBUG] Processing field: "authorizedSigners" (ID: 14)
[SERVER DEBUG] Original value: John Smith (CEO), Sarah Johnson (CFO), Michael Wong (COO)
[SERVER DEBUG] Normalized value: "John Smith (CEO), Sarah Johnson (CFO), Michael Wong (COO)" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "authorizedSigners" in database
[SERVER DEBUG] - Old value: "John Smith (CEO), Sarah Johnson (CFO), Michael Wong (COO)" (string)
[SERVER DEBUG] - New value: "John Smith (CEO), Sarah Johnson (CFO), Michael Wong (COO)" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: authorizedSigners
[SERVER DEBUG] - field_id: 14
[SERVER DEBUG] - response_value: "John Smith (CEO), Sarah Johnson (CFO), Michael Wong (COO)"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "authorizedSigners":
[SERVER DEBUG] - Expected: "John Smith (CEO), Sarah Johnson (CFO), Michael Wong (COO)"
[SERVER DEBUG] - Actual: "John Smith (CEO), Sarah Johnson (CFO), Michael Wong (COO)"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "authorizedSigners" (ID: 8030)
[SERVER DEBUG] --- Finished processing field "authorizedSigners" ---

[SERVER DEBUG] Processing field: "governmentOwnership" (ID: 15)
[SERVER DEBUG] Original value: No
[SERVER DEBUG] Normalized value: "No" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "governmentOwnership" in database
[SERVER DEBUG] - Old value: "No" (string)
[SERVER DEBUG] - New value: "No" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: governmentOwnership
[SERVER DEBUG] - field_id: 15
[SERVER DEBUG] - response_value: "No"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "governmentOwnership":
[SERVER DEBUG] - Expected: "No"
[SERVER DEBUG] - Actual: "No"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "governmentOwnership" (ID: 8031)
[SERVER DEBUG] --- Finished processing field "governmentOwnership" ---

[SERVER DEBUG] Processing field: "ultimateBeneficialOwners" (ID: 16)
[SERVER DEBUG] Original value: None
[SERVER DEBUG] Normalized value: "None" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "ultimateBeneficialOwners" in database
[SERVER DEBUG] - Old value: "None" (string)
[SERVER DEBUG] - New value: "None" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: ultimateBeneficialOwners
[SERVER DEBUG] - field_id: 16
[SERVER DEBUG] - response_value: "None"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "ultimateBeneficialOwners":
[SERVER DEBUG] - Expected: "None"
[SERVER DEBUG] - Actual: "None"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "ultimateBeneficialOwners" (ID: 8032)
[SERVER DEBUG] --- Finished processing field "ultimateBeneficialOwners" ---

[SERVER DEBUG] Processing field: "directorsAndOfficers" (ID: 17)
[SERVER DEBUG] Original value: John Smith (Chairman), Jane Doe (Director), Mike Johnson (Director)
[SERVER DEBUG] Normalized value: "John Smith (Chairman), Jane Doe (Director), Mike Johnson (Director)" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "directorsAndOfficers" in database
[SERVER DEBUG] - Old value: "John Smith (Chairman), Jane Doe (Director), Mike Johnson (Director)" (string)
[SERVER DEBUG] - New value: "John Smith (Chairman), Jane Doe (Director), Mike Johnson (Director)" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: directorsAndOfficers
[SERVER DEBUG] - field_id: 17
[SERVER DEBUG] - response_value: "John Smith (Chairman), Jane Doe (Director), Mike Johnson (Director)"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "directorsAndOfficers":
[SERVER DEBUG] - Expected: "John Smith (Chairman), Jane Doe (Director), Mike Johnson (Director)"
[SERVER DEBUG] - Actual: "John Smith (Chairman), Jane Doe (Director), Mike Johnson (Director)"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "directorsAndOfficers" (ID: 8033)
[SERVER DEBUG] --- Finished processing field "directorsAndOfficers" ---

[SERVER DEBUG] Processing field: "contactEmail" (ID: 18)
[SERVER DEBUG] Original value: 8@e.com
[SERVER DEBUG] Normalized value: "8@e.com" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "contactEmail" in database
[SERVER DEBUG] - Old value: "8@e.com" (string)
[SERVER DEBUG] - New value: "8@e.com" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: contactEmail
[SERVER DEBUG] - field_id: 18
[SERVER DEBUG] - response_value: "8@e.com"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "contactEmail":
[SERVER DEBUG] - Expected: "8@e.com"
[SERVER DEBUG] - Actual: "8@e.com"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "contactEmail" (ID: 8034)
[SERVER DEBUG] --- Finished processing field "contactEmail" ---

[SERVER DEBUG] Processing field: "marketCapitalization" (ID: 19)
[SERVER DEBUG] Original value: $75 million (privately held)
[SERVER DEBUG] Normalized value: "$75 million (privately held)" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "marketCapitalization" in database
[SERVER DEBUG] - Old value: "$75 million (privately held)" (string)
[SERVER DEBUG] - New value: "$75 million (privately held)" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: marketCapitalization
[SERVER DEBUG] - field_id: 19
[SERVER DEBUG] - response_value: "$75 million (privately held)"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "marketCapitalization":
[SERVER DEBUG] - Expected: "$75 million (privately held)"
[SERVER DEBUG] - Actual: "$75 million (privately held)"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "marketCapitalization" (ID: 8035)
[SERVER DEBUG] --- Finished processing field "marketCapitalization" ---

[SERVER DEBUG] Processing field: "lifetimeCustomerValue" (ID: 20)
[SERVER DEBUG] Original value: $1,250
[SERVER DEBUG] Normalized value: "$1,250" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "lifetimeCustomerValue" in database
[SERVER DEBUG] - Old value: "$1,250" (string)
[SERVER DEBUG] - New value: "$1,250" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: lifetimeCustomerValue
[SERVER DEBUG] - field_id: 20
[SERVER DEBUG] - response_value: "$1,250"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "lifetimeCustomerValue":
[SERVER DEBUG] - Expected: "$1,250"
[SERVER DEBUG] - Actual: "$1,250"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "lifetimeCustomerValue" (ID: 8036)
[SERVER DEBUG] --- Finished processing field "lifetimeCustomerValue" ---

[SERVER DEBUG] Processing field: "annualRecurringRevenue" (ID: 21)
[SERVER DEBUG] Original value: 5,000,000
[SERVER DEBUG] Normalized value: "5,000,000" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "annualRecurringRevenue" in database
[SERVER DEBUG] - Old value: "5,000,000" (string)
[SERVER DEBUG] - New value: "5,000,000" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: annualRecurringRevenue
[SERVER DEBUG] - field_id: 21
[SERVER DEBUG] - response_value: "5,000,000"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "annualRecurringRevenue":
[SERVER DEBUG] - Expected: "5,000,000"
[SERVER DEBUG] - Actual: "5,000,000"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "annualRecurringRevenue" (ID: 8037)
[SERVER DEBUG] --- Finished processing field "annualRecurringRevenue" ---

[SERVER DEBUG] Processing field: "monthlyRecurringRevenue" (ID: 22)
[SERVER DEBUG] Original value: 12,500,000
[SERVER DEBUG] Normalized value: "12,500,000" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "monthlyRecurringRevenue" in database
[SERVER DEBUG] - Old value: "12,500,000" (string)
[SERVER DEBUG] - New value: "12,500,000" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: monthlyRecurringRevenue
[SERVER DEBUG] - field_id: 22
[SERVER DEBUG] - response_value: "12,500,000"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "monthlyRecurringRevenue":
[SERVER DEBUG] - Expected: "12,500,000"
[SERVER DEBUG] - Actual: "12,500,000"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "monthlyRecurringRevenue" (ID: 8038)
[SERVER DEBUG] --- Finished processing field "monthlyRecurringRevenue" ---

[SERVER DEBUG] Processing field: "investigationsIncidents" (ID: 23)
[SERVER DEBUG] Original value: No significant incidents in the past 3 years
[SERVER DEBUG] Normalized value: "No significant incidents in the past 3 years" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "investigationsIncidents" in database
[SERVER DEBUG] - Old value: "No significant incidents in the past 3 years" (string)
[SERVER DEBUG] - New value: "No significant incidents in the past 3 years" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: investigationsIncidents
[SERVER DEBUG] - field_id: 23
[SERVER DEBUG] - response_value: "No significant incidents in the past 3 years"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "investigationsIncidents":
[SERVER DEBUG] - Expected: "No significant incidents in the past 3 years"
[SERVER DEBUG] - Actual: "No significant incidents in the past 3 years"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "investigationsIncidents" (ID: 8039)
[SERVER DEBUG] --- Finished processing field "investigationsIncidents" ---

[SERVER DEBUG] Processing field: "financialStatements" (ID: 24)
[SERVER DEBUG] Original value: Yes
[SERVER DEBUG] Normalized value: "Yes" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "financialStatements" in database
[SERVER DEBUG] - Old value: "Yes" (string)
[SERVER DEBUG] - New value: "Yes" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: financialStatements
[SERVER DEBUG] - field_id: 24
[SERVER DEBUG] - response_value: "Yes"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "financialStatements":
[SERVER DEBUG] - Expected: "Yes"
[SERVER DEBUG] - Actual: "Yes"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "financialStatements" (ID: 8040)
[SERVER DEBUG] --- Finished processing field "financialStatements" ---

[SERVER DEBUG] Processing field: "operationalPolicies" (ID: 25)
[SERVER DEBUG] Original value: ISO 27001 certified, SOC 2 Type II compliant
[SERVER DEBUG] Normalized value: "ISO 27001 certified, SOC 2 Type II compliant" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "operationalPolicies" in database
[SERVER DEBUG] - Old value: "ISO 27001 certified, SOC 2 Type II compliant" (string)
[SERVER DEBUG] - New value: "ISO 27001 certified, SOC 2 Type II compliant" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: operationalPolicies
[SERVER DEBUG] - field_id: 25
[SERVER DEBUG] - response_value: "ISO 27001 certified, SOC 2 Type II compliant"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "operationalPolicies":
[SERVER DEBUG] - Expected: "ISO 27001 certified, SOC 2 Type II compliant"
[SERVER DEBUG] - Actual: "ISO 27001 certified, SOC 2 Type II compliant"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "operationalPolicies" (ID: 8041)
[SERVER DEBUG] --- Finished processing field "operationalPolicies" ---

[SERVER DEBUG] Processing field: "dataVolume" (ID: 26)
[SERVER DEBUG] Original value: Approximately 2 million records per month
[SERVER DEBUG] Normalized value: "Approximately 2 million records per month" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "dataVolume" in database
[SERVER DEBUG] - Old value: "Approximately 2 million records per month" (string)
[SERVER DEBUG] - New value: "Approximately 2 million records per month" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: dataVolume
[SERVER DEBUG] - field_id: 26
[SERVER DEBUG] - response_value: "Approximately 2 million records per month"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "dataVolume":
[SERVER DEBUG] - Expected: "Approximately 2 million records per month"
[SERVER DEBUG] - Actual: "Approximately 2 million records per month"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "dataVolume" (ID: 8042)
[SERVER DEBUG] --- Finished processing field "dataVolume" ---

[SERVER DEBUG] Processing field: "dataTypes" (ID: 27)
[SERVER DEBUG] Original value: Financial transaction data, Account balances, Customer KYC information
[SERVER DEBUG] Normalized value: "Financial transaction data, Account balances, Customer KYC information" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "dataTypes" in database
[SERVER DEBUG] - Old value: "Financial transaction data, Account balances, Customer KYC information" (string)
[SERVER DEBUG] - New value: "Financial transaction data, Account balances, Customer KYC information" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: dataTypes
[SERVER DEBUG] - field_id: 27
[SERVER DEBUG] - response_value: "Financial transaction data, Account balances, Customer KYC information"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "dataTypes":
[SERVER DEBUG] - Expected: "Financial transaction data, Account balances, Customer KYC information"
[SERVER DEBUG] - Actual: "Financial transaction data, Account balances, Customer KYC information"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "dataTypes" (ID: 8043)
[SERVER DEBUG] --- Finished processing field "dataTypes" ---

[SERVER DEBUG] Processing field: "sanctionsCheck" (ID: 28)
[SERVER DEBUG] Original value: Approximately 2 million records per month
[SERVER DEBUG] Normalized value: "Approximately 2 million records per month" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "sanctionsCheck" in database
[SERVER DEBUG] - Old value: "Approximately 2 million records per month" (string)
[SERVER DEBUG] - New value: "Approximately 2 million records per month" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: sanctionsCheck
[SERVER DEBUG] - field_id: 28
[SERVER DEBUG] - response_value: "Approximately 2 million records per month"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "sanctionsCheck":
[SERVER DEBUG] - Expected: "Approximately 2 million records per month"
[SERVER DEBUG] - Actual: "Approximately 2 million records per month"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "sanctionsCheck" (ID: 8044)
[SERVER DEBUG] --- Finished processing field "sanctionsCheck" ---

[SERVER DEBUG] Processing field: "dueDiligence" (ID: 29)
[SERVER DEBUG] Original value: Yes
[SERVER DEBUG] Normalized value: "Yes" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "dueDiligence" in database
[SERVER DEBUG] - Old value: "Yes" (string)
[SERVER DEBUG] - New value: "Yes" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: dueDiligence
[SERVER DEBUG] - field_id: 29
[SERVER DEBUG] - response_value: "Yes"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "dueDiligence":
[SERVER DEBUG] - Expected: "Yes"
[SERVER DEBUG] - Actual: "Yes"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "dueDiligence" (ID: 8045)
[SERVER DEBUG] --- Finished processing field "dueDiligence" ---

[SERVER DEBUG] Processing field: "regulatoryActions" (ID: 30)
[SERVER DEBUG] Original value: Yes
[SERVER DEBUG] Normalized value: "Yes" (string)
[SERVER DEBUG] Field status: COMPLETE
[TransactionalFormRoutes] 📬 FORM SUBMISSION START - 2025-05-17T21:10:31.092Z {
  path: '/submit/kyb/984',
  method: 'POST',
  params: { formType: 'kyb', taskId: '984' },
  userPresent: true,
  userIdPresent: true,
  bodyKeys: [ 'taskId', 'formType', 'formData', 'companyId' ],
  timestamp: '2025-05-17T21:10:31.092Z'
}
[TransactionalFormRoutes] 🧾 Form submission parameters validated: {
  taskId: 984,
  formType: 'kyb',
  companyId: 330,
  userId: 388,
  formDataFields: 4
}
[2025-05-17T21:10:31.092Z] [INFO] [App] Received form submission request {"taskId":984,"formType":"kyb","userId":388,"companyId":330,"dataKeysCount":4}
[WebSocket] Broadcast form_submission to 6 clients (0 errors) { messageId: 'msg_1747516231092_zxttq8tvl' }
[2025-05-17T21:10:31.093Z] [INFO] [App] Successfully broadcasted form_submission message 
[2025-05-17T21:10:31.093Z] [INFO] [App] Starting transactional form submission {"taskId":984,"userId":388,"companyId":330,"formType":"kyb","fieldsCount":4}
[2025-05-17T21:10:31.093Z] [INFO] [App] Starting form submission transaction {"taskId":984,"userId":388,"companyId":330,"formType":"kyb","transactionId":"tx-1747516231093-yz2dr","logContext":{"service":"TransactionalFormHandler"}}
[2025-05-17T21:10:31.094Z] [INFO] [WebSocket] Broadcast message of type 'task_updated' sent to 6 clients {"module":"WebSocket","messageType":"task_updated","recipients":6,"totalClients":6,"filtered":false}
[2025-05-17T21:10:31.094Z] [INFO] [WebSocket] Broadcast message of type 'task_update' sent to 6 clients {"module":"WebSocket","messageType":"task_update","recipients":6,"totalClients":6,"filtered":false}
[FormNotifications] Sent in-progress notification for kyb task 984 (25%)
[2025-05-17T21:10:31.094Z] [DEBUG] [TransactionManager] Starting new transaction {"module":"TransactionManager"}
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "regulatoryActions" in database
[SERVER DEBUG] - Old value: "Yes" (string)
[SERVER DEBUG] - New value: "Yes" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: regulatoryActions
[SERVER DEBUG] - field_id: 30
[SERVER DEBUG] - response_value: "Yes"
[2025-05-17T21:10:31.122Z] [DEBUG] [TransactionManager] Transaction started successfully {"module":"TransactionManager"}
[TransactionalFormHandler] Starting file creation for task 984 {
  taskId: 984,
  formType: 'kyb',
  companyId: 330,
  userId: 388,
  formDataKeys: 4,
  timestamp: '2025-05-17T21:10:31.151Z'
}
[2025-05-17T21:10:31.151Z] [INFO] [WebSocket] Broadcast message of type 'task_updated' sent to 6 clients {"module":"WebSocket","messageType":"task_updated","recipients":6,"totalClients":6,"filtered":false}
[2025-05-17T21:10:31.151Z] [INFO] [WebSocket] Broadcast message of type 'task_update' sent to 6 clients {"module":"WebSocket","messageType":"task_update","recipients":6,"totalClients":6,"filtered":false}
[FormNotifications] Sent in-progress notification for kyb task 984 (50%)
[2025-05-17T21:10:31.152Z] [INFO] [App] Creating file for kyb task 984 {"taskId":984,"normalizedFormType":"kyb"}
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "regulatoryActions":
[SERVER DEBUG] - Expected: "Yes"
[SERVER DEBUG] - Actual: "Yes"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "regulatoryActions" (ID: 8046)
[SERVER DEBUG] --- Finished processing field "regulatoryActions" ---

[FileCreation] Retrieved 30 KYB responses for task 984 ordered by UI form order
[2025-05-17T21:10:31.183Z] [INFO] [App] [FileCreation] Filtering responses with status 'complete' (case-insensitive) {"taskId":984,"formType":"kyb","totalResponses":30,"completeResponses":30,"timestamp":"2025-05-17T21:10:31.183Z"}
[2025-05-17T21:10:31.183Z] [INFO] [App] Response status distribution: {"COMPLETE":30} {"taskId":984}
[2025-05-17T21:10:31.183Z] [INFO] [App] Building CSV from 30 complete responses {"taskId":984}
[2025-05-17T21:10:31.183Z] [INFO] [App] Created 30 data rows from database responses {"taskId":984}
[2025-05-17T21:10:31.183Z] [INFO] [App] Created CSV with 30 rows (form fields only, no metadata rows) {"taskId":984}
[FileCreation] Created standard CSV file with 30 data rows for task 984
[FileCreation] CSV file created with 30 fields: {
  rowCount: 31,
  headerRow: [ 'id', 'question', 'response', 'field_key', 'timestamp' ],
  contentLength: 4088
}
[FileCreation] Created CSV file for task 984
[FileCreation] Creating file with metadata for task 984: {
  taskId: 984,
  formType: 'kyb',
  fileName: 'kyb_984_330_v1.0_20250517211031.csv',
  metadataFields: [
    'taskId',
    'taskType',
    'submissionDate',
    'formType',
    'formSubmission',
    'fieldCount',
    'fileName',
    'version',
    'jsonBackup'
  ]
}
[2025-05-17T21:10:31.184Z] [INFO] [App] Creating file: kyb_984_330_v1.0_20250517211031.csv {"companyId":330,"userId":388,"fileType":"text/csv","fileSize":4088}
[FileCreation] Creating file for company 330 by user 388 {
  fileName: 'kyb_984_330_v1.0_20250517211031.csv',
  fileType: 'text/csv',
  fileSize: 4088,
  timestamp: '2025-05-17T21:10:31.184Z'
}
[KYB API Debug] Using client-provided status: ready_for_submission
[2025-05-17T21:10:31.220Z] [INFO] [App] File created successfully {"fileId":1007,"fileName":"kyb_984_330_v1.0_20250517211031.csv","companyId":330}
[TransactionalFormHandler] File creation result for task 984: {
  success: true,
  fileId: 1007,
  fileName: 'kyb_984_330_v1.0_20250517211031.csv',
  error: undefined,
  timestamp: '2025-05-17T21:10:31.220Z'
}
[FileCreation] ✅ File 1007 created for task 984 and linked to file vault
[TransactionalFormHandler] Updating task 984 status to 'submitted' with 100% progress
[2025-05-17T21:10:31.277Z] [INFO] [App] [TransactionalFormHandler] Starting task status update to 'submitted' for task 984 {"taskId":984,"formType":"kyb","companyId":330,"transactionId":"tx-1747516231277-8bt9h"}
[TransactionalFormHandler] 🔴 TASK UPDATE START for task 984: {
  taskType: 'kyb',
  companyId: 330,
  submissionDate: '2025-05-17T21:10:31.277Z',
  timestamp: '2025-05-17T21:10:31.277Z',
  traceId: 'task_update_984_1747516231277',
  thread: 'main_transaction'
}
[TransactionalFormHandler] 📊 PRE-UPDATE TASK STATE for task 984: {
  originalStatus: 'submitted',
  originalProgress: 100,
  hasRows: true,
  timestamp: '2025-05-17T21:10:31.304Z'
}
[2025-05-17T21:10:31.305Z] [INFO] [App] [TransactionalFormHandler] Pre-update task state: {"taskId":984,"status":"submitted","progress":100,"timestamp":"2025-05-17T21:10:31.305Z"}
[TransactionalFormHandler] 🔄 EXECUTING SQL UPDATE for task 984...
[TransactionalFormHandler] ✅ SQL UPDATE RESULT for task 984: {
  success: true,
  rowCount: 1,
  updatedStatus: 'submitted',
  updatedProgress: 100,
  hasMetadata: true,
  returnedRowCount: 1,
  timestamp: '2025-05-17T21:10:31.332Z'
}
[2025-05-17T21:10:31.355Z] [INFO] [App] GET /api/tasks/984 200 in 62ms :: {"id":984,"title":"1. KYB Form: DemoTest8","description":"Complete KYB verifi... 
[TransactionalFormHandler] 🔍 VERIFICATION QUERY RESULT for task 984: {
  verifiedStatus: 'submitted',
  verifiedProgress: 100,
  submitted: true,
  submissionDate: '2025-05-17T21:10:31.277Z',
  hasRows: true,
  timestamp: '2025-05-17T21:10:31.362Z'
}
[2025-05-17T21:10:31.362Z] [INFO] [App] [TransactionalFormHandler] Task status update result: {"taskId":984,"formType":"kyb","rowCount":1,"success":true,"returnedStatus":"submitted","returnedProgress":100,"hasMetadata":true,"submissionDate":"2025-05-17T21:10:31.277Z","timestamp":"2025-05-17T21:10:31.362Z"}
[TransactionalFormHandler] ✅ Successfully updated task 984 status: {
  updatedStatus: 'submitted',
  updatedProgress: 100,
  timestamp: '2025-05-17T21:10:31.362Z'
}
[2025-05-17T21:10:31.362Z] [INFO] [App] [TabAccess] Unlocking tabs for form submission {"companyId":330,"formType":"kyb"}
[2025-05-17T21:10:31.363Z] [INFO] [App] [TabAccess] Adding tabs to company {"companyId":330,"tabs":["file-vault"],"source":"form_submission"}
[2025-05-17T21:10:31.401Z] [INFO] [App] GET /api/companies/current 304 in 31ms :: {"id":330,"name":"DemoTest8","category":"FinTech","is_demo":true,"revenue_tie... 
[2025-05-17T21:10:31.421Z] [ERROR] [App] WebSocket server not available, cannot broadcast company_tabs_updated message 
[2025-05-17T21:10:31.422Z] [DEBUG] [App] [TabAccess] Broadcast company tabs update via WebSocket {"companyId":330,"availableTabs":["task-center","file-vault"],"source":"form_submission"}
[2025-05-17T21:10:31.422Z] [INFO] [App] [TabAccess] Successfully added tabs to company {"companyId":330,"addedTabs":["file-vault"],"allTabs":["task-center","file-vault"],"source":"form_submission"}
[TransactionalFormHandler] Broadcasting form submission for task 984: {
  formType: 'kyb',
  taskId: 984,
  companyId: 330,
  hasFileId: true,
  hasUnlockedTabs: true,
  timestamp: '2025-05-17T21:10:31.422Z'
}
[2025-05-17T21:10:31.422Z] [INFO] [WebSocket] Broadcast message of type 'task_updated' sent to 6 clients {"module":"WebSocket","messageType":"task_updated","recipients":6,"totalClients":6,"filtered":false}
[2025-05-17T21:10:31.423Z] [INFO] [WebSocket] Broadcast message of type 'task_update' sent to 6 clients {"module":"WebSocket","messageType":"task_update","recipients":6,"totalClients":6,"filtered":false}
[FormNotifications] Sent in-progress notification for kyb task 984 (90%)
[TransactionalFormHandler] Sending FINAL completion message for task 984: {
  formType: 'kyb',
  taskId: 984,
  companyId: 330,
  hasCompletedActions: 3,
  timestamp: '2025-05-17T21:10:31.423Z'
}
[2025-05-17T21:10:31.423Z] [INFO] [WebSocket] Broadcast message of type 'form_submission_completed' sent to 6 clients {"module":"WebSocket","messageType":"form_submission_completed","recipients":6,"totalClients":6,"filtered":false}
[2025-05-17T21:10:31.424Z] [INFO] [WebSocket] Broadcast message of type 'task_updated' sent to 6 clients {"module":"WebSocket","messageType":"task_updated","recipients":6,"totalClients":6,"filtered":false}
[2025-05-17T21:10:31.424Z] [INFO] [WebSocket] Broadcast message of type 'task_update' sent to 6 clients {"module":"WebSocket","messageType":"task_update","recipients":6,"totalClients":6,"filtered":false}
[2025-05-17T21:10:31.424Z] [DEBUG] [TransactionManager] Committing transaction {"module":"TransactionManager"}
[2025-05-17T21:10:31.453Z] [DEBUG] [TransactionManager] Transaction committed successfully {"module":"TransactionManager"}
[2025-05-17T21:10:31.453Z] [INFO] [App] Sending form submission completion event {"taskId":984,"formType":"kyb","companyId":330,"fileId":1007,"actionCount":2,"timestamp":"2025-05-17T21:10:31.453Z"}
[2025-05-17T21:10:31.453Z] [INFO] [WebSocket] Broadcast message of type 'form_submission_completed' sent to 6 clients {"module":"WebSocket","messageType":"form_submission_completed","recipients":6,"totalClients":6,"filtered":false}
[2025-05-17T21:10:31.454Z] [INFO] [WebSocket] Broadcast message of type 'task_updated' sent to 6 clients {"module":"WebSocket","messageType":"task_updated","recipients":6,"totalClients":6,"filtered":false}
[2025-05-17T21:10:31.454Z] [INFO] [WebSocket] Broadcast message of type 'task_update' sent to 6 clients {"module":"WebSocket","messageType":"task_update","recipients":6,"totalClients":6,"filtered":false}
[WebSocket] Broadcasting task update for task 984: progress=100, status=ready_for_submission
[Progress Broadcast broadcast-1747516231455-493] Broadcasting progress update for task 984: {
  taskId: 984,
  progress: 100,
  status: 'ready_for_submission',
  timestamp: '2025-05-17T21:10:31.455Z',
  source: 'at <anonymous> (/home/runner/workspace/server/routes/kyb.ts:1202:7)',
  hasMetadata: true
}
[Progress Utils] Broadcasting task progress update: {
  taskId: 984,
  progress: 100,
  requestedStatus: 'ready_for_submission',
  finalStatus: 'ready_for_submission',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  timestamp: '2025-05-17T21:10:31.456Z'
}
[WebSocket] Broadcast task_update to 6 clients (0 errors) { messageId: 'msg_1747516231456_83mzs0jcc' }
[2025-05-17T21:10:31.456Z] [INFO] [App] Successfully broadcasted task_update message 
[Progress Broadcast broadcast-1747516231455-493] Successfully broadcast progress update for task 984
===============================================
[SERVER DEBUG] PREPARING RESPONSE at 2025-05-17T21:10:31.485Z
[SERVER DEBUG] Found 30 fields in database after update
===============================================
[SERVER DEBUG] Checking field corporateRegistration in updated data: "Delaware State Filing Number 1234567, registered as FinTech Innovations LLC on 05/12/2010"
[SERVER DEBUG] Checking field goodStanding in updated data: "Yes"
[SERVER DEBUG] Checking field regulatoryActions in updated data: "Yes"
[SERVER DEBUG] Checking field investigationsIncidents in updated data: "No significant incidents in the past 3 years"
[SERVER DEBUG] No fields with value "asdf" found in response data
[SERVER DEBUG] Sending response with 30 fields, status: ready_for_submission, progress: 100%
[KYB API] ℹ️ Form has reached ready_for_submission status but File Vault tab will only unlock after formal submission
[SERVER DEBUG] Updating task.savedFormData to ensure persistence across navigation
[2025-05-17T21:10:31.491Z] [INFO] [App] POST /api/forms-tx/submit/kyb/984 200 in 400ms :: {"success":true,"message":"Form submitted successfully","fileId":1007} 
[SERVER DEBUG] ✅ Successfully updated task.savedFormData with latest form data
===============================================
[2025-05-17T21:10:31.545Z] [INFO] [App] POST /api/kyb/progress 200 in 3274ms :: {"success":true,"savedData":{"progress":100,"status":"ready_for_submission","... 
[2025-05-17T21:10:31.616Z] [INFO] [App] GET /api/tasks 304 in 31ms :: [{"id":984,"title":"1. KYB Form: DemoTest8","description":"Complete KYB verif... 
[2025-05-17T21:10:31.794Z] [INFO] [App] GET /api/tasks 304 in 31ms :: [{"id":984,"title":"1. KYB Form: DemoTest8","description":"Complete KYB verif... 
[2025-05-17T21:10:31.990Z] [INFO] [App] GET /api/tasks 304 in 48ms :: [{"id":984,"title":"1. KYB Form: DemoTest8","description":"Complete KYB verif... 
[2025-05-17T21:10:32.181Z] [INFO] [App] GET /api/tasks 304 in 33ms :: [{"id":984,"title":"1. KYB Form: DemoTest8","description":"Complete KYB verif... 
[TimestampHandler] Saving 30 timestamps for task 984
[TimestampHandler] Successfully saved timestamps for task 984
[TimestampAPI] Saved 30 timestamps for task 984
[2025-05-17T21:10:32.268Z] [INFO] [App] POST /api/kyb/timestamps/984 200 in 64ms :: {"message":"Timestamps saved successfully","count":30} 
===============================================
[SERVER DEBUG] KYB PROGRESS SAVE REQUEST RECEIVED at 2025-05-17T21:10:32.424Z
===============================================
Task ID: 984
Progress: 100
Status: ready_for_submission
Field count: 30
Sample form data values:
- legalEntityName: "DemoTest8" (string)
- registrationNumber: "12-3456789" (string)
- incorporationDate: "5/12/2010" (string)
- businessType: "Limited Liability Company (LLC)" (string)
- jurisdiction: "Delaware, United States" (string)
Request details:
- Method: POST
- Content-Type: application/json
- Content-Length: 2505
===============================================
===============================================
[SERVER DEBUG] PROCESSING FORM DATA FIELDS AT 2025-05-17T21:10:32.510Z
[SERVER DEBUG] Task ID: 984, Field count: 30
===============================================
[SERVER DEBUG] COMPLETE FORM DATA DUMP:
[SERVER DEBUG] legalEntityName: "DemoTest8" (string)
[SERVER DEBUG] registrationNumber: "12-3456789" (string)
[SERVER DEBUG] incorporationDate: "5/12/2010" (string)
[SERVER DEBUG] businessType: "Limited Liability Company (LLC)" (string)
[SERVER DEBUG] jurisdiction: "Delaware, United States" (string)
[SERVER DEBUG] registeredAddress: "123 Market Street, Wilmington, DE 19801" (string)
[SERVER DEBUG] companyPhone: "(302) 555-1234" (string)
[SERVER DEBUG] priorNames: "None" (string)
[SERVER DEBUG] licenses: "Money Transmitter License #MT-12345, Financial Data Provider License #FDP-98765" (string)
[SERVER DEBUG] goodStanding: "Yes" (string)
[SERVER DEBUG] corporateRegistration: "Delaware State Filing Number 1234567, registered as FinTech Innovations LLC on 05/12/2010" (string)
[SERVER DEBUG] externalAudit: "No" (string)
[SERVER DEBUG] controlEnvironment: "Yes" (string)
[SERVER DEBUG] authorizedSigners: "John Smith (CEO), Sarah Johnson (CFO), Michael Wong (COO)" (string)
[SERVER DEBUG] governmentOwnership: "No" (string)
[SERVER DEBUG] ultimateBeneficialOwners: "None" (string)
[SERVER DEBUG] directorsAndOfficers: "John Smith (Chairman), Jane Doe (Director), Mike Johnson (Director)" (string)
[SERVER DEBUG] contactEmail: "8@e.com" (string)
[SERVER DEBUG] marketCapitalization: "$75 million (privately held)" (string)
[SERVER DEBUG] lifetimeCustomerValue: "$1,250" (string)
[SERVER DEBUG] annualRecurringRevenue: "5,000,000" (string)
[SERVER DEBUG] monthlyRecurringRevenue: "12,500,000" (string)
[SERVER DEBUG] investigationsIncidents: "No significant incidents in the past 3 years" (string)
[SERVER DEBUG] financialStatements: "Yes" (string)
[SERVER DEBUG] operationalPolicies: "ISO 27001 certified, SOC 2 Type II compliant" (string)
[SERVER DEBUG] dataVolume: "Approximately 2 million records per month" (string)
[SERVER DEBUG] dataTypes: "Financial transaction data, Account balances, Customer KYC information" (string)
[SERVER DEBUG] sanctionsCheck: "Approximately 2 million records per month" (string)
[SERVER DEBUG] dueDiligence: "Yes" (string)
[SERVER DEBUG] regulatoryActions: "Yes" (string)
[SERVER DEBUG] END OF FORM DATA DUMP
[SERVER DEBUG] No fields with value "asdf" found in incoming data
[SERVER DEBUG] Processing field: "legalEntityName" (ID: 1)
[SERVER DEBUG] Original value: DemoTest8
[SERVER DEBUG] Normalized value: "DemoTest8" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "legalEntityName" in database
[SERVER DEBUG] - Old value: "DemoTest8" (string)
[SERVER DEBUG] - New value: "DemoTest8" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: legalEntityName
[SERVER DEBUG] - field_id: 1
[SERVER DEBUG] - response_value: "DemoTest8"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "legalEntityName":
[SERVER DEBUG] - Expected: "DemoTest8"
[SERVER DEBUG] - Actual: "DemoTest8"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "legalEntityName" (ID: 8017)
[SERVER DEBUG] Broadcasting legalEntityName update via WebSocket: "DemoTest8"
[WebSocket] Broadcast field_update to 6 clients (0 errors) { messageId: 'msg_1747516232601_bhwk7sbxi' }
[2025-05-17T21:10:32.602Z] [INFO] [App] Successfully broadcasted field_update message 
[Progress Utils] Broadcasting field update for task 984, field legalEntityName: {
  value: 'DemoTest8',
  fieldId: 1,
  timestamp: '2025-05-17T21:10:32.602Z'
}
[SERVER DEBUG] --- Finished processing field "legalEntityName" ---

[SERVER DEBUG] Processing field: "registrationNumber" (ID: 2)
[SERVER DEBUG] Original value: 12-3456789
[SERVER DEBUG] Normalized value: "12-3456789" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "registrationNumber" in database
[SERVER DEBUG] - Old value: "12-3456789" (string)
[SERVER DEBUG] - New value: "12-3456789" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: registrationNumber
[SERVER DEBUG] - field_id: 2
[SERVER DEBUG] - response_value: "12-3456789"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "registrationNumber":
[SERVER DEBUG] - Expected: "12-3456789"
[SERVER DEBUG] - Actual: "12-3456789"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "registrationNumber" (ID: 8018)
[SERVER DEBUG] --- Finished processing field "registrationNumber" ---

[SERVER DEBUG] Processing field: "incorporationDate" (ID: 3)
[SERVER DEBUG] Original value: 5/12/2010
[SERVER DEBUG] Normalized value: "5/12/2010" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "incorporationDate" in database
[SERVER DEBUG] - Old value: "5/12/2010" (string)
[SERVER DEBUG] - New value: "5/12/2010" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: incorporationDate
[SERVER DEBUG] - field_id: 3
[SERVER DEBUG] - response_value: "5/12/2010"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "incorporationDate":
[SERVER DEBUG] - Expected: "5/12/2010"
[SERVER DEBUG] - Actual: "5/12/2010"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "incorporationDate" (ID: 8019)
[SERVER DEBUG] --- Finished processing field "incorporationDate" ---

[SERVER DEBUG] Processing field: "businessType" (ID: 4)
[SERVER DEBUG] Original value: Limited Liability Company (LLC)
[SERVER DEBUG] Normalized value: "Limited Liability Company (LLC)" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "businessType" in database
[SERVER DEBUG] - Old value: "Limited Liability Company (LLC)" (string)
[SERVER DEBUG] - New value: "Limited Liability Company (LLC)" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: businessType
[SERVER DEBUG] - field_id: 4
[SERVER DEBUG] - response_value: "Limited Liability Company (LLC)"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "businessType":
[SERVER DEBUG] - Expected: "Limited Liability Company (LLC)"
[SERVER DEBUG] - Actual: "Limited Liability Company (LLC)"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "businessType" (ID: 8020)
[SERVER DEBUG] --- Finished processing field "businessType" ---

[SERVER DEBUG] Processing field: "jurisdiction" (ID: 5)
[SERVER DEBUG] Original value: Delaware, United States
[SERVER DEBUG] Normalized value: "Delaware, United States" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "jurisdiction" in database
[SERVER DEBUG] - Old value: "Delaware, United States" (string)
[SERVER DEBUG] - New value: "Delaware, United States" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: jurisdiction
[SERVER DEBUG] - field_id: 5
[SERVER DEBUG] - response_value: "Delaware, United States"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "jurisdiction":
[SERVER DEBUG] - Expected: "Delaware, United States"
[SERVER DEBUG] - Actual: "Delaware, United States"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "jurisdiction" (ID: 8021)
[SERVER DEBUG] --- Finished processing field "jurisdiction" ---

[SERVER DEBUG] Processing field: "registeredAddress" (ID: 6)
[SERVER DEBUG] Original value: 123 Market Street, Wilmington, DE 19801
[SERVER DEBUG] Normalized value: "123 Market Street, Wilmington, DE 19801" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "registeredAddress" in database
[SERVER DEBUG] - Old value: "123 Market Street, Wilmington, DE 19801" (string)
[SERVER DEBUG] - New value: "123 Market Street, Wilmington, DE 19801" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: registeredAddress
[SERVER DEBUG] - field_id: 6
[SERVER DEBUG] - response_value: "123 Market Street, Wilmington, DE 19801"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "registeredAddress":
[SERVER DEBUG] - Expected: "123 Market Street, Wilmington, DE 19801"
[SERVER DEBUG] - Actual: "123 Market Street, Wilmington, DE 19801"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "registeredAddress" (ID: 8022)
[SERVER DEBUG] --- Finished processing field "registeredAddress" ---

[SERVER DEBUG] Processing field: "companyPhone" (ID: 7)
[SERVER DEBUG] Original value: (302) 555-1234
[SERVER DEBUG] Normalized value: "(302) 555-1234" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "companyPhone" in database
[SERVER DEBUG] - Old value: "(302) 555-1234" (string)
[SERVER DEBUG] - New value: "(302) 555-1234" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: companyPhone
[SERVER DEBUG] - field_id: 7
[SERVER DEBUG] - response_value: "(302) 555-1234"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "companyPhone":
[SERVER DEBUG] - Expected: "(302) 555-1234"
[SERVER DEBUG] - Actual: "(302) 555-1234"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "companyPhone" (ID: 8023)
[SERVER DEBUG] --- Finished processing field "companyPhone" ---

[SERVER DEBUG] Processing field: "priorNames" (ID: 8)
[SERVER DEBUG] Original value: None
[SERVER DEBUG] Normalized value: "None" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "priorNames" in database
[SERVER DEBUG] - Old value: "None" (string)
[SERVER DEBUG] - New value: "None" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: priorNames
[SERVER DEBUG] - field_id: 8
[SERVER DEBUG] - response_value: "None"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "priorNames":
[SERVER DEBUG] - Expected: "None"
[SERVER DEBUG] - Actual: "None"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "priorNames" (ID: 8024)
[SERVER DEBUG] --- Finished processing field "priorNames" ---

[SERVER DEBUG] Processing field: "licenses" (ID: 9)
[SERVER DEBUG] Original value: Money Transmitter License #MT-12345, Financial Data Provider License #FDP-98765
[SERVER DEBUG] Normalized value: "Money Transmitter License #MT-12345, Financial Data Provider License #FDP-98765" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "licenses" in database
[SERVER DEBUG] - Old value: "Money Transmitter License #MT-12345, Financial Data Provider License #FDP-98765" (string)
[SERVER DEBUG] - New value: "Money Transmitter License #MT-12345, Financial Data Provider License #FDP-98765" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: licenses
[SERVER DEBUG] - field_id: 9
[SERVER DEBUG] - response_value: "Money Transmitter License #MT-12345, Financial Data Provider License #FDP-98765"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "licenses":
[SERVER DEBUG] - Expected: "Money Transmitter License #MT-12345, Financial Data Provider License #FDP-98765"
[SERVER DEBUG] - Actual: "Money Transmitter License #MT-12345, Financial Data Provider License #FDP-98765"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "licenses" (ID: 8025)
[SERVER DEBUG] --- Finished processing field "licenses" ---

[SERVER DEBUG] Processing field: "goodStanding" (ID: 10)
[SERVER DEBUG] Original value: Yes
[SERVER DEBUG] Normalized value: "Yes" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "goodStanding" in database
[SERVER DEBUG] - Old value: "Yes" (string)
[SERVER DEBUG] - New value: "Yes" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: goodStanding
[SERVER DEBUG] - field_id: 10
[SERVER DEBUG] - response_value: "Yes"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "goodStanding":
[SERVER DEBUG] - Expected: "Yes"
[SERVER DEBUG] - Actual: "Yes"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "goodStanding" (ID: 8026)
[SERVER DEBUG] --- Finished processing field "goodStanding" ---

[SERVER DEBUG] Processing field: "corporateRegistration" (ID: 11)
[SERVER DEBUG] Original value: Delaware State Filing Number 1234567, registered as FinTech Innovations LLC on 05/12/2010
[SERVER DEBUG] Normalized value: "Delaware State Filing Number 1234567, registered as FinTech Innovations LLC on 05/12/2010" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "corporateRegistration" in database
[SERVER DEBUG] - Old value: "Delaware State Filing Number 1234567, registered as FinTech Innovations LLC on 05/12/2010" (string)
[SERVER DEBUG] - New value: "Delaware State Filing Number 1234567, registered as FinTech Innovations LLC on 05/12/2010" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: corporateRegistration
[SERVER DEBUG] - field_id: 11
[SERVER DEBUG] - response_value: "Delaware State Filing Number 1234567, registered as FinTech Innovations LLC on 05/12/2010"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "corporateRegistration":
[SERVER DEBUG] - Expected: "Delaware State Filing Number 1234567, registered as FinTech Innovations LLC on 05/12/2010"
[SERVER DEBUG] - Actual: "Delaware State Filing Number 1234567, registered as FinTech Innovations LLC on 05/12/2010"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "corporateRegistration" (ID: 8027)
[SERVER DEBUG] --- Finished processing field "corporateRegistration" ---

[SERVER DEBUG] Processing field: "externalAudit" (ID: 12)
[SERVER DEBUG] Original value: No
[SERVER DEBUG] Normalized value: "No" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "externalAudit" in database
[SERVER DEBUG] - Old value: "No" (string)
[SERVER DEBUG] - New value: "No" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: externalAudit
[SERVER DEBUG] - field_id: 12
[SERVER DEBUG] - response_value: "No"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "externalAudit":
[SERVER DEBUG] - Expected: "No"
[SERVER DEBUG] - Actual: "No"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "externalAudit" (ID: 8028)
[SERVER DEBUG] --- Finished processing field "externalAudit" ---

[SERVER DEBUG] Processing field: "controlEnvironment" (ID: 13)
[SERVER DEBUG] Original value: Yes
[SERVER DEBUG] Normalized value: "Yes" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "controlEnvironment" in database
[SERVER DEBUG] - Old value: "Yes" (string)
[SERVER DEBUG] - New value: "Yes" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: controlEnvironment
[SERVER DEBUG] - field_id: 13
[SERVER DEBUG] - response_value: "Yes"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "controlEnvironment":
[SERVER DEBUG] - Expected: "Yes"
[SERVER DEBUG] - Actual: "Yes"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "controlEnvironment" (ID: 8029)
[SERVER DEBUG] --- Finished processing field "controlEnvironment" ---

[SERVER DEBUG] Processing field: "authorizedSigners" (ID: 14)
[SERVER DEBUG] Original value: John Smith (CEO), Sarah Johnson (CFO), Michael Wong (COO)
[SERVER DEBUG] Normalized value: "John Smith (CEO), Sarah Johnson (CFO), Michael Wong (COO)" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "authorizedSigners" in database
[SERVER DEBUG] - Old value: "John Smith (CEO), Sarah Johnson (CFO), Michael Wong (COO)" (string)
[SERVER DEBUG] - New value: "John Smith (CEO), Sarah Johnson (CFO), Michael Wong (COO)" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: authorizedSigners
[SERVER DEBUG] - field_id: 14
[SERVER DEBUG] - response_value: "John Smith (CEO), Sarah Johnson (CFO), Michael Wong (COO)"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "authorizedSigners":
[SERVER DEBUG] - Expected: "John Smith (CEO), Sarah Johnson (CFO), Michael Wong (COO)"
[SERVER DEBUG] - Actual: "John Smith (CEO), Sarah Johnson (CFO), Michael Wong (COO)"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "authorizedSigners" (ID: 8030)
[SERVER DEBUG] --- Finished processing field "authorizedSigners" ---

[SERVER DEBUG] Processing field: "governmentOwnership" (ID: 15)
[SERVER DEBUG] Original value: No
[SERVER DEBUG] Normalized value: "No" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "governmentOwnership" in database
[SERVER DEBUG] - Old value: "No" (string)
[SERVER DEBUG] - New value: "No" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: governmentOwnership
[SERVER DEBUG] - field_id: 15
[SERVER DEBUG] - response_value: "No"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "governmentOwnership":
[SERVER DEBUG] - Expected: "No"
[SERVER DEBUG] - Actual: "No"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "governmentOwnership" (ID: 8031)
[SERVER DEBUG] --- Finished processing field "governmentOwnership" ---

[SERVER DEBUG] Processing field: "ultimateBeneficialOwners" (ID: 16)
[SERVER DEBUG] Original value: None
[SERVER DEBUG] Normalized value: "None" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "ultimateBeneficialOwners" in database
[SERVER DEBUG] - Old value: "None" (string)
[SERVER DEBUG] - New value: "None" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: ultimateBeneficialOwners
[SERVER DEBUG] - field_id: 16
[SERVER DEBUG] - response_value: "None"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "ultimateBeneficialOwners":
[SERVER DEBUG] - Expected: "None"
[SERVER DEBUG] - Actual: "None"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "ultimateBeneficialOwners" (ID: 8032)
[SERVER DEBUG] --- Finished processing field "ultimateBeneficialOwners" ---

[SERVER DEBUG] Processing field: "directorsAndOfficers" (ID: 17)
[SERVER DEBUG] Original value: John Smith (Chairman), Jane Doe (Director), Mike Johnson (Director)
[SERVER DEBUG] Normalized value: "John Smith (Chairman), Jane Doe (Director), Mike Johnson (Director)" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "directorsAndOfficers" in database
[SERVER DEBUG] - Old value: "John Smith (Chairman), Jane Doe (Director), Mike Johnson (Director)" (string)
[SERVER DEBUG] - New value: "John Smith (Chairman), Jane Doe (Director), Mike Johnson (Director)" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: directorsAndOfficers
[SERVER DEBUG] - field_id: 17
[SERVER DEBUG] - response_value: "John Smith (Chairman), Jane Doe (Director), Mike Johnson (Director)"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "directorsAndOfficers":
[SERVER DEBUG] - Expected: "John Smith (Chairman), Jane Doe (Director), Mike Johnson (Director)"
[SERVER DEBUG] - Actual: "John Smith (Chairman), Jane Doe (Director), Mike Johnson (Director)"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "directorsAndOfficers" (ID: 8033)
[SERVER DEBUG] --- Finished processing field "directorsAndOfficers" ---

[SERVER DEBUG] Processing field: "contactEmail" (ID: 18)
[SERVER DEBUG] Original value: 8@e.com
[SERVER DEBUG] Normalized value: "8@e.com" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "contactEmail" in database
[SERVER DEBUG] - Old value: "8@e.com" (string)
[SERVER DEBUG] - New value: "8@e.com" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: contactEmail
[SERVER DEBUG] - field_id: 18
[SERVER DEBUG] - response_value: "8@e.com"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "contactEmail":
[SERVER DEBUG] - Expected: "8@e.com"
[SERVER DEBUG] - Actual: "8@e.com"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "contactEmail" (ID: 8034)
[SERVER DEBUG] --- Finished processing field "contactEmail" ---

[SERVER DEBUG] Processing field: "marketCapitalization" (ID: 19)
[SERVER DEBUG] Original value: $75 million (privately held)
[SERVER DEBUG] Normalized value: "$75 million (privately held)" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "marketCapitalization" in database
[SERVER DEBUG] - Old value: "$75 million (privately held)" (string)
[SERVER DEBUG] - New value: "$75 million (privately held)" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: marketCapitalization
[SERVER DEBUG] - field_id: 19
[SERVER DEBUG] - response_value: "$75 million (privately held)"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "marketCapitalization":
[SERVER DEBUG] - Expected: "$75 million (privately held)"
[SERVER DEBUG] - Actual: "$75 million (privately held)"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "marketCapitalization" (ID: 8035)
[SERVER DEBUG] --- Finished processing field "marketCapitalization" ---

[SERVER DEBUG] Processing field: "lifetimeCustomerValue" (ID: 20)
[SERVER DEBUG] Original value: $1,250
[SERVER DEBUG] Normalized value: "$1,250" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "lifetimeCustomerValue" in database
[SERVER DEBUG] - Old value: "$1,250" (string)
[SERVER DEBUG] - New value: "$1,250" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: lifetimeCustomerValue
[SERVER DEBUG] - field_id: 20
[SERVER DEBUG] - response_value: "$1,250"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "lifetimeCustomerValue":
[SERVER DEBUG] - Expected: "$1,250"
[SERVER DEBUG] - Actual: "$1,250"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "lifetimeCustomerValue" (ID: 8036)
[SERVER DEBUG] --- Finished processing field "lifetimeCustomerValue" ---

[SERVER DEBUG] Processing field: "annualRecurringRevenue" (ID: 21)
[SERVER DEBUG] Original value: 5,000,000
[SERVER DEBUG] Normalized value: "5,000,000" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "annualRecurringRevenue" in database
[SERVER DEBUG] - Old value: "5,000,000" (string)
[SERVER DEBUG] - New value: "5,000,000" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: annualRecurringRevenue
[SERVER DEBUG] - field_id: 21
[SERVER DEBUG] - response_value: "5,000,000"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "annualRecurringRevenue":
[SERVER DEBUG] - Expected: "5,000,000"
[SERVER DEBUG] - Actual: "5,000,000"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "annualRecurringRevenue" (ID: 8037)
[SERVER DEBUG] --- Finished processing field "annualRecurringRevenue" ---

[SERVER DEBUG] Processing field: "monthlyRecurringRevenue" (ID: 22)
[SERVER DEBUG] Original value: 12,500,000
[SERVER DEBUG] Normalized value: "12,500,000" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "monthlyRecurringRevenue" in database
[SERVER DEBUG] - Old value: "12,500,000" (string)
[SERVER DEBUG] - New value: "12,500,000" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: monthlyRecurringRevenue
[SERVER DEBUG] - field_id: 22
[SERVER DEBUG] - response_value: "12,500,000"
[2025-05-17T21:10:34.396Z] [INFO] [App] GET /api/companies/current 304 in 29ms :: {"id":330,"name":"DemoTest8","category":"FinTech","is_demo":true,"revenue_tie... 
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "monthlyRecurringRevenue":
[SERVER DEBUG] - Expected: "12,500,000"
[SERVER DEBUG] - Actual: "12,500,000"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "monthlyRecurringRevenue" (ID: 8038)
[SERVER DEBUG] --- Finished processing field "monthlyRecurringRevenue" ---

[SERVER DEBUG] Processing field: "investigationsIncidents" (ID: 23)
[SERVER DEBUG] Original value: No significant incidents in the past 3 years
[SERVER DEBUG] Normalized value: "No significant incidents in the past 3 years" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "investigationsIncidents" in database
[SERVER DEBUG] - Old value: "No significant incidents in the past 3 years" (string)
[SERVER DEBUG] - New value: "No significant incidents in the past 3 years" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: investigationsIncidents
[SERVER DEBUG] - field_id: 23
[SERVER DEBUG] - response_value: "No significant incidents in the past 3 years"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "investigationsIncidents":
[SERVER DEBUG] - Expected: "No significant incidents in the past 3 years"
[SERVER DEBUG] - Actual: "No significant incidents in the past 3 years"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "investigationsIncidents" (ID: 8039)
[SERVER DEBUG] --- Finished processing field "investigationsIncidents" ---

[SERVER DEBUG] Processing field: "financialStatements" (ID: 24)
[SERVER DEBUG] Original value: Yes
[SERVER DEBUG] Normalized value: "Yes" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "financialStatements" in database
[SERVER DEBUG] - Old value: "Yes" (string)
[SERVER DEBUG] - New value: "Yes" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: financialStatements
[SERVER DEBUG] - field_id: 24
[SERVER DEBUG] - response_value: "Yes"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "financialStatements":
[SERVER DEBUG] - Expected: "Yes"
[SERVER DEBUG] - Actual: "Yes"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "financialStatements" (ID: 8040)
[SERVER DEBUG] --- Finished processing field "financialStatements" ---

[SERVER DEBUG] Processing field: "operationalPolicies" (ID: 25)
[SERVER DEBUG] Original value: ISO 27001 certified, SOC 2 Type II compliant
[SERVER DEBUG] Normalized value: "ISO 27001 certified, SOC 2 Type II compliant" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "operationalPolicies" in database
[SERVER DEBUG] - Old value: "ISO 27001 certified, SOC 2 Type II compliant" (string)
[SERVER DEBUG] - New value: "ISO 27001 certified, SOC 2 Type II compliant" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: operationalPolicies
[SERVER DEBUG] - field_id: 25
[SERVER DEBUG] - response_value: "ISO 27001 certified, SOC 2 Type II compliant"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "operationalPolicies":
[SERVER DEBUG] - Expected: "ISO 27001 certified, SOC 2 Type II compliant"
[SERVER DEBUG] - Actual: "ISO 27001 certified, SOC 2 Type II compliant"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "operationalPolicies" (ID: 8041)
[SERVER DEBUG] --- Finished processing field "operationalPolicies" ---

[SERVER DEBUG] Processing field: "dataVolume" (ID: 26)
[SERVER DEBUG] Original value: Approximately 2 million records per month
[SERVER DEBUG] Normalized value: "Approximately 2 million records per month" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "dataVolume" in database
[SERVER DEBUG] - Old value: "Approximately 2 million records per month" (string)
[SERVER DEBUG] - New value: "Approximately 2 million records per month" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: dataVolume
[SERVER DEBUG] - field_id: 26
[SERVER DEBUG] - response_value: "Approximately 2 million records per month"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "dataVolume":
[SERVER DEBUG] - Expected: "Approximately 2 million records per month"
[SERVER DEBUG] - Actual: "Approximately 2 million records per month"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "dataVolume" (ID: 8042)
[SERVER DEBUG] --- Finished processing field "dataVolume" ---

[SERVER DEBUG] Processing field: "dataTypes" (ID: 27)
[SERVER DEBUG] Original value: Financial transaction data, Account balances, Customer KYC information
[SERVER DEBUG] Normalized value: "Financial transaction data, Account balances, Customer KYC information" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "dataTypes" in database
[SERVER DEBUG] - Old value: "Financial transaction data, Account balances, Customer KYC information" (string)
[SERVER DEBUG] - New value: "Financial transaction data, Account balances, Customer KYC information" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: dataTypes
[SERVER DEBUG] - field_id: 27
[SERVER DEBUG] - response_value: "Financial transaction data, Account balances, Customer KYC information"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "dataTypes":
[SERVER DEBUG] - Expected: "Financial transaction data, Account balances, Customer KYC information"
[SERVER DEBUG] - Actual: "Financial transaction data, Account balances, Customer KYC information"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "dataTypes" (ID: 8043)
[SERVER DEBUG] --- Finished processing field "dataTypes" ---

[SERVER DEBUG] Processing field: "sanctionsCheck" (ID: 28)
[SERVER DEBUG] Original value: Approximately 2 million records per month
[SERVER DEBUG] Normalized value: "Approximately 2 million records per month" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "sanctionsCheck" in database
[SERVER DEBUG] - Old value: "Approximately 2 million records per month" (string)
[SERVER DEBUG] - New value: "Approximately 2 million records per month" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: sanctionsCheck
[SERVER DEBUG] - field_id: 28
[SERVER DEBUG] - response_value: "Approximately 2 million records per month"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "sanctionsCheck":
[SERVER DEBUG] - Expected: "Approximately 2 million records per month"
[SERVER DEBUG] - Actual: "Approximately 2 million records per month"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "sanctionsCheck" (ID: 8044)
[SERVER DEBUG] --- Finished processing field "sanctionsCheck" ---

[SERVER DEBUG] Processing field: "dueDiligence" (ID: 29)
[SERVER DEBUG] Original value: Yes
[SERVER DEBUG] Normalized value: "Yes" (string)
[SERVER DEBUG] Field status: COMPLETE
[2025-05-17T21:10:35.031Z] [INFO] [WebSocket] Received message from client client-1747515964909-yn5n8i1 {"module":"WebSocket","type":"ping"}
[Tasks Routes] Updating task progress: { taskId: 984, timestamp: '2025-05-17T21:10:35.035Z' }
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "dueDiligence" in database
[SERVER DEBUG] - Old value: "Yes" (string)
[SERVER DEBUG] - New value: "Yes" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: dueDiligence
[SERVER DEBUG] - field_id: 29
[SERVER DEBUG] - response_value: "Yes"
[Task Reconciliation] Task submission indicators: {
  taskId: 984,
  status: 'ready_for_submission',
  progress: 100,
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  hasFileId: false,
  submissionDate: undefined,
  isTerminalState: false,
  hasBeenSubmitted: false
}
[2025-05-17T21:10:35.097Z] [INFO] [App] GET /api/tasks 304 in 48ms :: [{"id":984,"title":"1. KYB Form: DemoTest8","description":"Complete KYB verif... 
[Task Reconciliation] Found 30 responses for task 984 (type: company_kyb)
[STATUS DETERMINATION] Calculating status for task with: {
  progress: 100,
  currentStatus: 'ready_for_submission',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  hasResponses: true,
  effectiveHasResponses: true,
  timestamp: '2025-05-17T21:10:35.099Z'
}
[STATUS DETERMINATION] Task has 100% progress but is not submitted, setting to READY_FOR_SUBMISSION
[Task Reconciliation] Progress calculation: {
  taskId: 984,
  currentProgress: 100,
  calculatedProgress: 100,
  currentStatus: 'ready_for_submission',
  calculatedStatus: 'ready_for_submission',
  responseCount: 30,
  completeCount: 30
}
[Task Reconciliation] Correcting task 984: {
  progressFrom: 100,
  progressTo: 100,
  statusFrom: 'ready_for_submission',
  statusTo: 'ready_for_submission',
  forceUpdate: true
}
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "dueDiligence":
[SERVER DEBUG] - Expected: "Yes"
[SERVER DEBUG] - Actual: "Yes"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "dueDiligence" (ID: 8045)
[SERVER DEBUG] --- Finished processing field "dueDiligence" ---

[SERVER DEBUG] Processing field: "regulatoryActions" (ID: 30)
[SERVER DEBUG] Original value: Yes
[SERVER DEBUG] Normalized value: "Yes" (string)
[SERVER DEBUG] Field status: COMPLETE
[Progress Broadcast broadcast-1747516235133-14] Broadcasting progress update for task 984: {
  taskId: 984,
  progress: 100,
  status: 'ready_for_submission',
  timestamp: '2025-05-17T21:10:35.133Z',
  source: 'at reconcileTaskProgress (/home/runner/workspace/server/utils/task-reconciliation.ts:504:7)',
  hasMetadata: true
}
[Progress Utils] Broadcasting task progress update: {
  taskId: 984,
  progress: 100,
  requestedStatus: 'ready_for_submission',
  finalStatus: 'ready_for_submission',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  timestamp: '2025-05-17T21:10:35.134Z'
}
[WebSocket] Broadcast task_update to 6 clients (0 errors) { messageId: 'msg_1747516235135_t8si9e326' }
[2025-05-17T21:10:35.135Z] [INFO] [App] Successfully broadcasted task_update message 
[Progress Broadcast broadcast-1747516235133-14] Successfully broadcast progress update for task 984
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "regulatoryActions" in database
[SERVER DEBUG] - Old value: "Yes" (string)
[SERVER DEBUG] - New value: "Yes" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: regulatoryActions
[SERVER DEBUG] - field_id: 30
[SERVER DEBUG] - response_value: "Yes"
[Tasks Routes] Task progress reconciled: {
  taskId: 984,
  progress: 100,
  status: 'ready_for_submission',
  timestamp: '2025-05-17T21:10:35.163Z'
}
[2025-05-17T21:10:35.193Z] [INFO] [App] POST /api/tasks/984/update-progress 200 in 159ms :: {"success":true,"progress":100,"status":"ready_for_submission","taskId":984} 
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "regulatoryActions":
[SERVER DEBUG] - Expected: "Yes"
[SERVER DEBUG] - Actual: "Yes"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "regulatoryActions" (ID: 8046)
[SERVER DEBUG] --- Finished processing field "regulatoryActions" ---

[KYB API Debug] Using client-provided status: ready_for_submission
[2025-05-17T21:10:35.252Z] [INFO] [App] GET /api/companies/current 304 in 30ms :: {"id":330,"name":"DemoTest8","category":"FinTech","is_demo":true,"revenue_tie... 
[WebSocket] Broadcasting task update for task 984: progress=100, status=ready_for_submission
[Progress Broadcast broadcast-1747516235256-411] Broadcasting progress update for task 984: {
  taskId: 984,
  progress: 100,
  status: 'ready_for_submission',
  timestamp: '2025-05-17T21:10:35.256Z',
  source: 'at <anonymous> (/home/runner/workspace/server/routes/kyb.ts:1202:7)',
  hasMetadata: true
}
[Progress Utils] Broadcasting task progress update: {
  taskId: 984,
  progress: 100,
  requestedStatus: 'ready_for_submission',
  finalStatus: 'ready_for_submission',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  timestamp: '2025-05-17T21:10:35.256Z'
}
[WebSocket] Broadcast task_update to 6 clients (0 errors) { messageId: 'msg_1747516235256_rmolk12n5' }
[2025-05-17T21:10:35.257Z] [INFO] [App] Successfully broadcasted task_update message 
[Progress Broadcast broadcast-1747516235256-411] Successfully broadcast progress update for task 984
===============================================
[SERVER DEBUG] PREPARING RESPONSE at 2025-05-17T21:10:35.286Z
[SERVER DEBUG] Found 30 fields in database after update
===============================================
[SERVER DEBUG] Checking field corporateRegistration in updated data: "Delaware State Filing Number 1234567, registered as FinTech Innovations LLC on 05/12/2010"
[SERVER DEBUG] Checking field goodStanding in updated data: "Yes"
[SERVER DEBUG] Checking field regulatoryActions in updated data: "Yes"
[SERVER DEBUG] Checking field investigationsIncidents in updated data: "No significant incidents in the past 3 years"
[SERVER DEBUG] No fields with value "asdf" found in response data
[SERVER DEBUG] Sending response with 30 fields, status: ready_for_submission, progress: 100%
[KYB API] ℹ️ Form has reached ready_for_submission status but File Vault tab will only unlock after formal submission
[SERVER DEBUG] Updating task.savedFormData to ensure persistence across navigation
[SERVER DEBUG] ✅ Successfully updated task.savedFormData with latest form data
===============================================
[2025-05-17T21:10:35.423Z] [INFO] [App] POST /api/kyb/progress 200 in 2999ms :: {"success":true,"savedData":{"progress":100,"status":"ready_for_submission","... 
[TimestampHandler] Saving 30 timestamps for task 984
[TimestampHandler] Successfully saved timestamps for task 984
[TimestampAPI] Saved 30 timestamps for task 984
[2025-05-17T21:10:36.138Z] [INFO] [App] POST /api/kyb/timestamps/984 200 in 62ms :: {"message":"Timestamps saved successfully","count":30} 
===============================================
[SERVER DEBUG] KYB PROGRESS SAVE REQUEST RECEIVED at 2025-05-17T21:10:36.288Z
===============================================
Task ID: 984
Progress: 100
Status: ready_for_submission
Field count: 30
Sample form data values:
- legalEntityName: "DemoTest8" (string)
- registrationNumber: "12-3456789" (string)
- incorporationDate: "5/12/2010" (string)
- businessType: "Limited Liability Company (LLC)" (string)
- jurisdiction: "Delaware, United States" (string)
Request details:
- Method: POST
- Content-Type: application/json
- Content-Length: 2505
===============================================
===============================================
[SERVER DEBUG] PROCESSING FORM DATA FIELDS AT 2025-05-17T21:10:36.374Z
[SERVER DEBUG] Task ID: 984, Field count: 30
===============================================
[SERVER DEBUG] COMPLETE FORM DATA DUMP:
[SERVER DEBUG] legalEntityName: "DemoTest8" (string)
[SERVER DEBUG] registrationNumber: "12-3456789" (string)
[SERVER DEBUG] incorporationDate: "5/12/2010" (string)
[SERVER DEBUG] businessType: "Limited Liability Company (LLC)" (string)
[SERVER DEBUG] jurisdiction: "Delaware, United States" (string)
[SERVER DEBUG] registeredAddress: "123 Market Street, Wilmington, DE 19801" (string)
[SERVER DEBUG] companyPhone: "(302) 555-1234" (string)
[SERVER DEBUG] priorNames: "None" (string)
[SERVER DEBUG] licenses: "Money Transmitter License #MT-12345, Financial Data Provider License #FDP-98765" (string)
[SERVER DEBUG] goodStanding: "Yes" (string)
[SERVER DEBUG] corporateRegistration: "Delaware State Filing Number 1234567, registered as FinTech Innovations LLC on 05/12/2010" (string)
[SERVER DEBUG] externalAudit: "No" (string)
[SERVER DEBUG] controlEnvironment: "Yes" (string)
[SERVER DEBUG] authorizedSigners: "John Smith (CEO), Sarah Johnson (CFO), Michael Wong (COO)" (string)
[SERVER DEBUG] governmentOwnership: "No" (string)
[SERVER DEBUG] ultimateBeneficialOwners: "None" (string)
[SERVER DEBUG] directorsAndOfficers: "John Smith (Chairman), Jane Doe (Director), Mike Johnson (Director)" (string)
[SERVER DEBUG] contactEmail: "8@e.com" (string)
[SERVER DEBUG] marketCapitalization: "$75 million (privately held)" (string)
[SERVER DEBUG] lifetimeCustomerValue: "$1,250" (string)
[SERVER DEBUG] annualRecurringRevenue: "5,000,000" (string)
[SERVER DEBUG] monthlyRecurringRevenue: "12,500,000" (string)
[SERVER DEBUG] investigationsIncidents: "No significant incidents in the past 3 years" (string)
[SERVER DEBUG] financialStatements: "Yes" (string)
[SERVER DEBUG] operationalPolicies: "ISO 27001 certified, SOC 2 Type II compliant" (string)
[SERVER DEBUG] dataVolume: "Approximately 2 million records per month" (string)
[SERVER DEBUG] dataTypes: "Financial transaction data, Account balances, Customer KYC information" (string)
[SERVER DEBUG] sanctionsCheck: "Approximately 2 million records per month" (string)
[SERVER DEBUG] dueDiligence: "Yes" (string)
[SERVER DEBUG] regulatoryActions: "Yes" (string)
[SERVER DEBUG] END OF FORM DATA DUMP
[SERVER DEBUG] No fields with value "asdf" found in incoming data
[SERVER DEBUG] Processing field: "legalEntityName" (ID: 1)
[SERVER DEBUG] Original value: DemoTest8
[SERVER DEBUG] Normalized value: "DemoTest8" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "legalEntityName" in database
[SERVER DEBUG] - Old value: "DemoTest8" (string)
[SERVER DEBUG] - New value: "DemoTest8" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: legalEntityName
[SERVER DEBUG] - field_id: 1
[SERVER DEBUG] - response_value: "DemoTest8"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "legalEntityName":
[SERVER DEBUG] - Expected: "DemoTest8"
[SERVER DEBUG] - Actual: "DemoTest8"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "legalEntityName" (ID: 8017)
[SERVER DEBUG] Broadcasting legalEntityName update via WebSocket: "DemoTest8"
[WebSocket] Broadcast field_update to 6 clients (0 errors) { messageId: 'msg_1747516236463_uiii0r707' }
[2025-05-17T21:10:36.464Z] [INFO] [App] Successfully broadcasted field_update message 
[Progress Utils] Broadcasting field update for task 984, field legalEntityName: {
  value: 'DemoTest8',
  fieldId: 1,
  timestamp: '2025-05-17T21:10:36.464Z'
}
[SERVER DEBUG] --- Finished processing field "legalEntityName" ---

[SERVER DEBUG] Processing field: "registrationNumber" (ID: 2)
[SERVER DEBUG] Original value: 12-3456789
[SERVER DEBUG] Normalized value: "12-3456789" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "registrationNumber" in database
[SERVER DEBUG] - Old value: "12-3456789" (string)
[SERVER DEBUG] - New value: "12-3456789" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: registrationNumber
[SERVER DEBUG] - field_id: 2
[SERVER DEBUG] - response_value: "12-3456789"
[2025-05-17T21:10:36.548Z] [INFO] [WebSocket] Received message from client client-1747515966427-gywjeoq {"module":"WebSocket","type":"ping","timestamp":"2025-05-17T21:10:36.408Z","connectionId":"ws_1747515966405_a11jucxl5"}
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "registrationNumber":
[SERVER DEBUG] - Expected: "12-3456789"
[SERVER DEBUG] - Actual: "12-3456789"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "registrationNumber" (ID: 8018)
[SERVER DEBUG] --- Finished processing field "registrationNumber" ---

[SERVER DEBUG] Processing field: "incorporationDate" (ID: 3)
[SERVER DEBUG] Original value: 5/12/2010
[SERVER DEBUG] Normalized value: "5/12/2010" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "incorporationDate" in database
[SERVER DEBUG] - Old value: "5/12/2010" (string)
[SERVER DEBUG] - New value: "5/12/2010" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: incorporationDate
[SERVER DEBUG] - field_id: 3
[SERVER DEBUG] - response_value: "5/12/2010"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "incorporationDate":
[SERVER DEBUG] - Expected: "5/12/2010"
[SERVER DEBUG] - Actual: "5/12/2010"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "incorporationDate" (ID: 8019)
[SERVER DEBUG] --- Finished processing field "incorporationDate" ---

[SERVER DEBUG] Processing field: "businessType" (ID: 4)
[SERVER DEBUG] Original value: Limited Liability Company (LLC)
[SERVER DEBUG] Normalized value: "Limited Liability Company (LLC)" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "businessType" in database
[SERVER DEBUG] - Old value: "Limited Liability Company (LLC)" (string)
[SERVER DEBUG] - New value: "Limited Liability Company (LLC)" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: businessType
[SERVER DEBUG] - field_id: 4
[SERVER DEBUG] - response_value: "Limited Liability Company (LLC)"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "businessType":
[SERVER DEBUG] - Expected: "Limited Liability Company (LLC)"
[SERVER DEBUG] - Actual: "Limited Liability Company (LLC)"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "businessType" (ID: 8020)
[SERVER DEBUG] --- Finished processing field "businessType" ---

[SERVER DEBUG] Processing field: "jurisdiction" (ID: 5)
[SERVER DEBUG] Original value: Delaware, United States
[SERVER DEBUG] Normalized value: "Delaware, United States" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "jurisdiction" in database
[SERVER DEBUG] - Old value: "Delaware, United States" (string)
[SERVER DEBUG] - New value: "Delaware, United States" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: jurisdiction
[SERVER DEBUG] - field_id: 5
[SERVER DEBUG] - response_value: "Delaware, United States"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "jurisdiction":
[SERVER DEBUG] - Expected: "Delaware, United States"
[SERVER DEBUG] - Actual: "Delaware, United States"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "jurisdiction" (ID: 8021)
[SERVER DEBUG] --- Finished processing field "jurisdiction" ---

[SERVER DEBUG] Processing field: "registeredAddress" (ID: 6)
[SERVER DEBUG] Original value: 123 Market Street, Wilmington, DE 19801
[SERVER DEBUG] Normalized value: "123 Market Street, Wilmington, DE 19801" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "registeredAddress" in database
[SERVER DEBUG] - Old value: "123 Market Street, Wilmington, DE 19801" (string)
[SERVER DEBUG] - New value: "123 Market Street, Wilmington, DE 19801" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: registeredAddress
[SERVER DEBUG] - field_id: 6
[SERVER DEBUG] - response_value: "123 Market Street, Wilmington, DE 19801"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "registeredAddress":
[SERVER DEBUG] - Expected: "123 Market Street, Wilmington, DE 19801"
[SERVER DEBUG] - Actual: "123 Market Street, Wilmington, DE 19801"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "registeredAddress" (ID: 8022)
[SERVER DEBUG] --- Finished processing field "registeredAddress" ---

[SERVER DEBUG] Processing field: "companyPhone" (ID: 7)
[SERVER DEBUG] Original value: (302) 555-1234
[SERVER DEBUG] Normalized value: "(302) 555-1234" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "companyPhone" in database
[SERVER DEBUG] - Old value: "(302) 555-1234" (string)
[SERVER DEBUG] - New value: "(302) 555-1234" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: companyPhone
[SERVER DEBUG] - field_id: 7
[SERVER DEBUG] - response_value: "(302) 555-1234"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "companyPhone":
[SERVER DEBUG] - Expected: "(302) 555-1234"
[SERVER DEBUG] - Actual: "(302) 555-1234"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "companyPhone" (ID: 8023)
[SERVER DEBUG] --- Finished processing field "companyPhone" ---

[SERVER DEBUG] Processing field: "priorNames" (ID: 8)
[SERVER DEBUG] Original value: None
[SERVER DEBUG] Normalized value: "None" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "priorNames" in database
[SERVER DEBUG] - Old value: "None" (string)
[SERVER DEBUG] - New value: "None" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: priorNames
[SERVER DEBUG] - field_id: 8
[SERVER DEBUG] - response_value: "None"
[2025-05-17T21:10:37.027Z] [INFO] [WebSocket] Received message from client client-1747515966909-qvu3645 {"module":"WebSocket","type":"ping","timestamp":"2025-05-17T21:10:36.891Z","connectionId":"ws_1747515965436_6m7baugog"}
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "priorNames":
[SERVER DEBUG] - Expected: "None"
[SERVER DEBUG] - Actual: "None"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "priorNames" (ID: 8024)
[SERVER DEBUG] --- Finished processing field "priorNames" ---

[SERVER DEBUG] Processing field: "licenses" (ID: 9)
[SERVER DEBUG] Original value: Money Transmitter License #MT-12345, Financial Data Provider License #FDP-98765
[SERVER DEBUG] Normalized value: "Money Transmitter License #MT-12345, Financial Data Provider License #FDP-98765" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "licenses" in database
[SERVER DEBUG] - Old value: "Money Transmitter License #MT-12345, Financial Data Provider License #FDP-98765" (string)
[SERVER DEBUG] - New value: "Money Transmitter License #MT-12345, Financial Data Provider License #FDP-98765" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: licenses
[SERVER DEBUG] - field_id: 9
[SERVER DEBUG] - response_value: "Money Transmitter License #MT-12345, Financial Data Provider License #FDP-98765"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "licenses":
[SERVER DEBUG] - Expected: "Money Transmitter License #MT-12345, Financial Data Provider License #FDP-98765"
[SERVER DEBUG] - Actual: "Money Transmitter License #MT-12345, Financial Data Provider License #FDP-98765"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "licenses" (ID: 8025)
[SERVER DEBUG] --- Finished processing field "licenses" ---

[SERVER DEBUG] Processing field: "goodStanding" (ID: 10)
[SERVER DEBUG] Original value: Yes
[SERVER DEBUG] Normalized value: "Yes" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "goodStanding" in database
[SERVER DEBUG] - Old value: "Yes" (string)
[SERVER DEBUG] - New value: "Yes" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: goodStanding
[SERVER DEBUG] - field_id: 10
[SERVER DEBUG] - response_value: "Yes"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "goodStanding":
[SERVER DEBUG] - Expected: "Yes"
[SERVER DEBUG] - Actual: "Yes"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "goodStanding" (ID: 8026)
[SERVER DEBUG] --- Finished processing field "goodStanding" ---

[SERVER DEBUG] Processing field: "corporateRegistration" (ID: 11)
[SERVER DEBUG] Original value: Delaware State Filing Number 1234567, registered as FinTech Innovations LLC on 05/12/2010
[SERVER DEBUG] Normalized value: "Delaware State Filing Number 1234567, registered as FinTech Innovations LLC on 05/12/2010" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "corporateRegistration" in database
[SERVER DEBUG] - Old value: "Delaware State Filing Number 1234567, registered as FinTech Innovations LLC on 05/12/2010" (string)
[SERVER DEBUG] - New value: "Delaware State Filing Number 1234567, registered as FinTech Innovations LLC on 05/12/2010" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: corporateRegistration
[SERVER DEBUG] - field_id: 11
[SERVER DEBUG] - response_value: "Delaware State Filing Number 1234567, registered as FinTech Innovations LLC on 05/12/2010"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "corporateRegistration":
[SERVER DEBUG] - Expected: "Delaware State Filing Number 1234567, registered as FinTech Innovations LLC on 05/12/2010"
[SERVER DEBUG] - Actual: "Delaware State Filing Number 1234567, registered as FinTech Innovations LLC on 05/12/2010"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "corporateRegistration" (ID: 8027)
[SERVER DEBUG] --- Finished processing field "corporateRegistration" ---

[SERVER DEBUG] Processing field: "externalAudit" (ID: 12)
[SERVER DEBUG] Original value: No
[SERVER DEBUG] Normalized value: "No" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "externalAudit" in database
[SERVER DEBUG] - Old value: "No" (string)
[SERVER DEBUG] - New value: "No" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: externalAudit
[SERVER DEBUG] - field_id: 12
[SERVER DEBUG] - response_value: "No"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "externalAudit":
[SERVER DEBUG] - Expected: "No"
[SERVER DEBUG] - Actual: "No"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "externalAudit" (ID: 8028)
[SERVER DEBUG] --- Finished processing field "externalAudit" ---

[SERVER DEBUG] Processing field: "controlEnvironment" (ID: 13)
[SERVER DEBUG] Original value: Yes
[SERVER DEBUG] Normalized value: "Yes" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "controlEnvironment" in database
[SERVER DEBUG] - Old value: "Yes" (string)
[SERVER DEBUG] - New value: "Yes" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: controlEnvironment
[SERVER DEBUG] - field_id: 13
[SERVER DEBUG] - response_value: "Yes"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "controlEnvironment":
[SERVER DEBUG] - Expected: "Yes"
[SERVER DEBUG] - Actual: "Yes"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "controlEnvironment" (ID: 8029)
[SERVER DEBUG] --- Finished processing field "controlEnvironment" ---

[SERVER DEBUG] Processing field: "authorizedSigners" (ID: 14)
[SERVER DEBUG] Original value: John Smith (CEO), Sarah Johnson (CFO), Michael Wong (COO)
[SERVER DEBUG] Normalized value: "John Smith (CEO), Sarah Johnson (CFO), Michael Wong (COO)" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "authorizedSigners" in database
[SERVER DEBUG] - Old value: "John Smith (CEO), Sarah Johnson (CFO), Michael Wong (COO)" (string)
[SERVER DEBUG] - New value: "John Smith (CEO), Sarah Johnson (CFO), Michael Wong (COO)" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: authorizedSigners
[SERVER DEBUG] - field_id: 14
[SERVER DEBUG] - response_value: "John Smith (CEO), Sarah Johnson (CFO), Michael Wong (COO)"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "authorizedSigners":
[SERVER DEBUG] - Expected: "John Smith (CEO), Sarah Johnson (CFO), Michael Wong (COO)"
[SERVER DEBUG] - Actual: "John Smith (CEO), Sarah Johnson (CFO), Michael Wong (COO)"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "authorizedSigners" (ID: 8030)
[SERVER DEBUG] --- Finished processing field "authorizedSigners" ---

[SERVER DEBUG] Processing field: "governmentOwnership" (ID: 15)
[SERVER DEBUG] Original value: No
[SERVER DEBUG] Normalized value: "No" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "governmentOwnership" in database
[SERVER DEBUG] - Old value: "No" (string)
[SERVER DEBUG] - New value: "No" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: governmentOwnership
[SERVER DEBUG] - field_id: 15
[SERVER DEBUG] - response_value: "No"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "governmentOwnership":
[SERVER DEBUG] - Expected: "No"
[SERVER DEBUG] - Actual: "No"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "governmentOwnership" (ID: 8031)
[SERVER DEBUG] --- Finished processing field "governmentOwnership" ---

[SERVER DEBUG] Processing field: "ultimateBeneficialOwners" (ID: 16)
[SERVER DEBUG] Original value: None
[SERVER DEBUG] Normalized value: "None" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "ultimateBeneficialOwners" in database
[SERVER DEBUG] - Old value: "None" (string)
[SERVER DEBUG] - New value: "None" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: ultimateBeneficialOwners
[SERVER DEBUG] - field_id: 16
[SERVER DEBUG] - response_value: "None"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "ultimateBeneficialOwners":
[SERVER DEBUG] - Expected: "None"
[SERVER DEBUG] - Actual: "None"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "ultimateBeneficialOwners" (ID: 8032)
[SERVER DEBUG] --- Finished processing field "ultimateBeneficialOwners" ---

[SERVER DEBUG] Processing field: "directorsAndOfficers" (ID: 17)
[SERVER DEBUG] Original value: John Smith (Chairman), Jane Doe (Director), Mike Johnson (Director)
[SERVER DEBUG] Normalized value: "John Smith (Chairman), Jane Doe (Director), Mike Johnson (Director)" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "directorsAndOfficers" in database
[SERVER DEBUG] - Old value: "John Smith (Chairman), Jane Doe (Director), Mike Johnson (Director)" (string)
[SERVER DEBUG] - New value: "John Smith (Chairman), Jane Doe (Director), Mike Johnson (Director)" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: directorsAndOfficers
[SERVER DEBUG] - field_id: 17
[SERVER DEBUG] - response_value: "John Smith (Chairman), Jane Doe (Director), Mike Johnson (Director)"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "directorsAndOfficers":
[SERVER DEBUG] - Expected: "John Smith (Chairman), Jane Doe (Director), Mike Johnson (Director)"
[SERVER DEBUG] - Actual: "John Smith (Chairman), Jane Doe (Director), Mike Johnson (Director)"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "directorsAndOfficers" (ID: 8033)
[SERVER DEBUG] --- Finished processing field "directorsAndOfficers" ---

[SERVER DEBUG] Processing field: "contactEmail" (ID: 18)
[SERVER DEBUG] Original value: 8@e.com
[SERVER DEBUG] Normalized value: "8@e.com" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "contactEmail" in database
[SERVER DEBUG] - Old value: "8@e.com" (string)
[SERVER DEBUG] - New value: "8@e.com" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: contactEmail
[SERVER DEBUG] - field_id: 18
[SERVER DEBUG] - response_value: "8@e.com"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "contactEmail":
[SERVER DEBUG] - Expected: "8@e.com"
[SERVER DEBUG] - Actual: "8@e.com"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "contactEmail" (ID: 8034)
[SERVER DEBUG] --- Finished processing field "contactEmail" ---

[SERVER DEBUG] Processing field: "marketCapitalization" (ID: 19)
[SERVER DEBUG] Original value: $75 million (privately held)
[SERVER DEBUG] Normalized value: "$75 million (privately held)" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "marketCapitalization" in database
[SERVER DEBUG] - Old value: "$75 million (privately held)" (string)
[SERVER DEBUG] - New value: "$75 million (privately held)" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: marketCapitalization
[SERVER DEBUG] - field_id: 19
[SERVER DEBUG] - response_value: "$75 million (privately held)"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "marketCapitalization":
[SERVER DEBUG] - Expected: "$75 million (privately held)"
[SERVER DEBUG] - Actual: "$75 million (privately held)"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "marketCapitalization" (ID: 8035)
[SERVER DEBUG] --- Finished processing field "marketCapitalization" ---

[SERVER DEBUG] Processing field: "lifetimeCustomerValue" (ID: 20)
[SERVER DEBUG] Original value: $1,250
[SERVER DEBUG] Normalized value: "$1,250" (string)
[SERVER DEBUG] Field status: COMPLETE
[2025-05-17T21:10:38.072Z] [INFO] [App] GET /api/companies/current 304 in 30ms :: {"id":330,"name":"DemoTest8","category":"FinTech","is_demo":true,"revenue_tie... 
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "lifetimeCustomerValue" in database
[SERVER DEBUG] - Old value: "$1,250" (string)
[SERVER DEBUG] - New value: "$1,250" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: lifetimeCustomerValue
[SERVER DEBUG] - field_id: 20
[SERVER DEBUG] - response_value: "$1,250"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "lifetimeCustomerValue":
[SERVER DEBUG] - Expected: "$1,250"
[SERVER DEBUG] - Actual: "$1,250"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "lifetimeCustomerValue" (ID: 8036)
[SERVER DEBUG] --- Finished processing field "lifetimeCustomerValue" ---

[SERVER DEBUG] Processing field: "annualRecurringRevenue" (ID: 21)
[SERVER DEBUG] Original value: 5,000,000
[SERVER DEBUG] Normalized value: "5,000,000" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "annualRecurringRevenue" in database
[SERVER DEBUG] - Old value: "5,000,000" (string)
[SERVER DEBUG] - New value: "5,000,000" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: annualRecurringRevenue
[SERVER DEBUG] - field_id: 21
[SERVER DEBUG] - response_value: "5,000,000"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "annualRecurringRevenue":
[SERVER DEBUG] - Expected: "5,000,000"
[SERVER DEBUG] - Actual: "5,000,000"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "annualRecurringRevenue" (ID: 8037)
[SERVER DEBUG] --- Finished processing field "annualRecurringRevenue" ---

[SERVER DEBUG] Processing field: "monthlyRecurringRevenue" (ID: 22)
[SERVER DEBUG] Original value: 12,500,000
[SERVER DEBUG] Normalized value: "12,500,000" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "monthlyRecurringRevenue" in database
[SERVER DEBUG] - Old value: "12,500,000" (string)
[SERVER DEBUG] - New value: "12,500,000" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: monthlyRecurringRevenue
[SERVER DEBUG] - field_id: 22
[SERVER DEBUG] - response_value: "12,500,000"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "monthlyRecurringRevenue":
[SERVER DEBUG] - Expected: "12,500,000"
[SERVER DEBUG] - Actual: "12,500,000"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "monthlyRecurringRevenue" (ID: 8038)
[SERVER DEBUG] --- Finished processing field "monthlyRecurringRevenue" ---

[SERVER DEBUG] Processing field: "investigationsIncidents" (ID: 23)
[SERVER DEBUG] Original value: No significant incidents in the past 3 years
[SERVER DEBUG] Normalized value: "No significant incidents in the past 3 years" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "investigationsIncidents" in database
[SERVER DEBUG] - Old value: "No significant incidents in the past 3 years" (string)
[SERVER DEBUG] - New value: "No significant incidents in the past 3 years" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: investigationsIncidents
[SERVER DEBUG] - field_id: 23
[SERVER DEBUG] - response_value: "No significant incidents in the past 3 years"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "investigationsIncidents":
[SERVER DEBUG] - Expected: "No significant incidents in the past 3 years"
[SERVER DEBUG] - Actual: "No significant incidents in the past 3 years"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "investigationsIncidents" (ID: 8039)
[SERVER DEBUG] --- Finished processing field "investigationsIncidents" ---

[SERVER DEBUG] Processing field: "financialStatements" (ID: 24)
[SERVER DEBUG] Original value: Yes
[SERVER DEBUG] Normalized value: "Yes" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "financialStatements" in database
[SERVER DEBUG] - Old value: "Yes" (string)
[SERVER DEBUG] - New value: "Yes" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: financialStatements
[SERVER DEBUG] - field_id: 24
[SERVER DEBUG] - response_value: "Yes"
[PeriodicTaskReconciliation] Reconciling batch of 10 tasks: [
  963, 964, 965, 968,
  973, 972, 969, 967,
  971, 976
]
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "financialStatements":
[SERVER DEBUG] - Expected: "Yes"
[SERVER DEBUG] - Actual: "Yes"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "financialStatements" (ID: 8040)
[SERVER DEBUG] --- Finished processing field "financialStatements" ---

[SERVER DEBUG] Processing field: "operationalPolicies" (ID: 25)
[SERVER DEBUG] Original value: ISO 27001 certified, SOC 2 Type II compliant
[SERVER DEBUG] Normalized value: "ISO 27001 certified, SOC 2 Type II compliant" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "operationalPolicies" in database
[SERVER DEBUG] - Old value: "ISO 27001 certified, SOC 2 Type II compliant" (string)
[SERVER DEBUG] - New value: "ISO 27001 certified, SOC 2 Type II compliant" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: operationalPolicies
[SERVER DEBUG] - field_id: 25
[SERVER DEBUG] - response_value: "ISO 27001 certified, SOC 2 Type II compliant"
[Task Progress] Calculated progress for task 963 (company_kyb): 0/30 = 0%
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "operationalPolicies":
[SERVER DEBUG] - Expected: "ISO 27001 certified, SOC 2 Type II compliant"
[SERVER DEBUG] - Actual: "ISO 27001 certified, SOC 2 Type II compliant"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "operationalPolicies" (ID: 8041)
[SERVER DEBUG] --- Finished processing field "operationalPolicies" ---

[SERVER DEBUG] Processing field: "dataVolume" (ID: 26)
[SERVER DEBUG] Original value: Approximately 2 million records per month
[SERVER DEBUG] Normalized value: "Approximately 2 million records per month" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "dataVolume" in database
[SERVER DEBUG] - Old value: "Approximately 2 million records per month" (string)
[SERVER DEBUG] - New value: "Approximately 2 million records per month" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: dataVolume
[SERVER DEBUG] - field_id: 26
[SERVER DEBUG] - response_value: "Approximately 2 million records per month"
[Task Progress] Calculated progress for task 964 (ky3p): 0/0 = 0%
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "dataVolume":
[SERVER DEBUG] - Expected: "Approximately 2 million records per month"
[SERVER DEBUG] - Actual: "Approximately 2 million records per month"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "dataVolume" (ID: 8042)
[SERVER DEBUG] --- Finished processing field "dataVolume" ---

[SERVER DEBUG] Processing field: "dataTypes" (ID: 27)
[SERVER DEBUG] Original value: Financial transaction data, Account balances, Customer KYC information
[SERVER DEBUG] Normalized value: "Financial transaction data, Account balances, Customer KYC information" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "dataTypes" in database
[SERVER DEBUG] - Old value: "Financial transaction data, Account balances, Customer KYC information" (string)
[SERVER DEBUG] - New value: "Financial transaction data, Account balances, Customer KYC information" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: dataTypes
[SERVER DEBUG] - field_id: 27
[SERVER DEBUG] - response_value: "Financial transaction data, Account balances, Customer KYC information"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "dataTypes":
[SERVER DEBUG] - Expected: "Financial transaction data, Account balances, Customer KYC information"
[SERVER DEBUG] - Actual: "Financial transaction data, Account balances, Customer KYC information"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "dataTypes" (ID: 8043)
[SERVER DEBUG] --- Finished processing field "dataTypes" ---

[SERVER DEBUG] Processing field: "sanctionsCheck" (ID: 28)
[SERVER DEBUG] Original value: Approximately 2 million records per month
[SERVER DEBUG] Normalized value: "Approximately 2 million records per month" (string)
[SERVER DEBUG] Field status: COMPLETE
[Task Progress] Calculated progress for task 965 (open_banking): 0/44 = 0%
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "sanctionsCheck" in database
[SERVER DEBUG] - Old value: "Approximately 2 million records per month" (string)
[SERVER DEBUG] - New value: "Approximately 2 million records per month" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: sanctionsCheck
[SERVER DEBUG] - field_id: 28
[SERVER DEBUG] - response_value: "Approximately 2 million records per month"
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "sanctionsCheck":
[SERVER DEBUG] - Expected: "Approximately 2 million records per month"
[SERVER DEBUG] - Actual: "Approximately 2 million records per month"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "sanctionsCheck" (ID: 8044)
[SERVER DEBUG] --- Finished processing field "sanctionsCheck" ---

[SERVER DEBUG] Processing field: "dueDiligence" (ID: 29)
[SERVER DEBUG] Original value: Yes
[SERVER DEBUG] Normalized value: "Yes" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "dueDiligence" in database
[SERVER DEBUG] - Old value: "Yes" (string)
[SERVER DEBUG] - New value: "Yes" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: dueDiligence
[SERVER DEBUG] - field_id: 29
[SERVER DEBUG] - response_value: "Yes"
[Task Progress] Calculated progress for task 968 (ky3p): 0/0 = 0%
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "dueDiligence":
[SERVER DEBUG] - Expected: "Yes"
[SERVER DEBUG] - Actual: "Yes"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "dueDiligence" (ID: 8045)
[SERVER DEBUG] --- Finished processing field "dueDiligence" ---

[SERVER DEBUG] Processing field: "regulatoryActions" (ID: 30)
[SERVER DEBUG] Original value: Yes
[SERVER DEBUG] Normalized value: "Yes" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: YES
[SERVER DEBUG] UPDATING field "regulatoryActions" in database
[SERVER DEBUG] - Old value: "Yes" (string)
[SERVER DEBUG] - New value: "Yes" (string)
[SERVER DEBUG] - Old status: COMPLETE, New status: COMPLETE
[SERVER DEBUG] ABOUT TO UPDATE - DOUBLE CHECK VALUES:
[SERVER DEBUG] - field_key: regulatoryActions
[SERVER DEBUG] - field_id: 30
[SERVER DEBUG] - response_value: "Yes"
[Task Progress] Calculated progress for task 973 (open_banking): 0/44 = 0%
[SERVER DEBUG] ✅ UPDATE VERIFICATION for field "regulatoryActions":
[SERVER DEBUG] - Expected: "Yes"
[SERVER DEBUG] - Actual: "Yes"
[SERVER DEBUG] - Match: YES
[SERVER DEBUG] ✅ UPDATE SUCCESSFUL for field "regulatoryActions" (ID: 8046)
[SERVER DEBUG] --- Finished processing field "regulatoryActions" ---

[KYB API Debug] Using client-provided status: ready_for_submission
[WebSocket] Broadcasting task update for task 984: progress=100, status=ready_for_submission
[Progress Broadcast broadcast-1747516239233-21] Broadcasting progress update for task 984: {
  taskId: 984,
  progress: 100,
  status: 'ready_for_submission',
  timestamp: '2025-05-17T21:10:39.233Z',
  source: 'at <anonymous> (/home/runner/workspace/server/routes/kyb.ts:1202:7)',
  hasMetadata: true
}
[Progress Utils] Broadcasting task progress update: {
  taskId: 984,
  progress: 100,
  requestedStatus: 'ready_for_submission',
  finalStatus: 'ready_for_submission',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  timestamp: '2025-05-17T21:10:39.233Z'
}
[WebSocket] Broadcast task_update to 6 clients (0 errors) { messageId: 'msg_1747516239233_42775rjtd' }
[2025-05-17T21:10:39.234Z] [INFO] [App] Successfully broadcasted task_update message 
[Progress Broadcast broadcast-1747516239233-21] Successfully broadcast progress update for task 984
===============================================
[SERVER DEBUG] PREPARING RESPONSE at 2025-05-17T21:10:39.264Z
[SERVER DEBUG] Found 30 fields in database after update
===============================================
[SERVER DEBUG] Checking field corporateRegistration in updated data: "Delaware State Filing Number 1234567, registered as FinTech Innovations LLC on 05/12/2010"
[SERVER DEBUG] Checking field goodStanding in updated data: "Yes"
[SERVER DEBUG] Checking field regulatoryActions in updated data: "Yes"
[SERVER DEBUG] Checking field investigationsIncidents in updated data: "No significant incidents in the past 3 years"
[SERVER DEBUG] No fields with value "asdf" found in response data
[SERVER DEBUG] Sending response with 30 fields, status: ready_for_submission, progress: 100%
[KYB API] ℹ️ Form has reached ready_for_submission status but File Vault tab will only unlock after formal submission
[SERVER DEBUG] Updating task.savedFormData to ensure persistence across navigation
[Task Progress] Calculated progress for task 972 (ky3p): 0/0 = 0%
[SERVER DEBUG] ✅ Successfully updated task.savedFormData with latest form data
===============================================
[2025-05-17T21:10:39.331Z] [INFO] [App] POST /api/kyb/progress 200 in 3043ms :: {"success":true,"savedData":{"progress":100,"status":"ready_for_submission","... 
[Task Progress] Calculated progress for task 969 (open_banking): 0/44 = 0%
[Task Progress] Calculated progress for task 967 (company_kyb): 0/30 = 0%
[Task Progress] Calculated progress for task 971 (company_kyb): 30/30 = 100%
[Task Progress] Calculated progress for task 976 (company_kyb): 0/30 = 0%
[2025-05-17T21:10:41.073Z] [INFO] [App] GET /api/companies/current 304 in 31ms :: {"id":330,"name":"DemoTest8","category":"FinTech","is_demo":true,"revenue_tie... 
[2025-05-17T21:10:44.085Z] [INFO] [App] GET /api/companies/current 304 in 30ms :: {"id":330,"name":"DemoTest8","category":"FinTech","is_demo":true,"revenue_tie... 
[2025-05-17T21:10:47.076Z] [INFO] [App] GET /api/companies/current 304 in 30ms :: {"id":330,"name":"DemoTest8","category":"FinTech","is_demo":true,"revenue_tie... 
[2025-05-17T21:10:47.573Z] [INFO] [WebSocket] Received message from client client-1747515967452-2sokc3p {"module":"WebSocket","type":"ping","timestamp":"2025-05-17T21:10:47.434Z","connectionId":"ws_1747515965962_2o79gv0lq"}
[2025-05-17T21:10:50.078Z] [INFO] [App] GET /api/companies/current 304 in 30ms :: {"id":330,"name":"DemoTest8","category":"FinTech","is_demo":true,"revenue_tie... 
[Tasks] ====== Starting task fetch =====
[Tasks] User details: { id: 388, company_id: 330, email: '8@e.com' }
[2025-05-17T21:10:50.246Z] [INFO] [App] Performing dynamic task unlocking check for company {"companyId":330,"userId":388}
[2025-05-17T21:10:50.278Z] [INFO] [App] No completed KYB tasks found, skipping security task unlock check {"companyId":330}
[Tasks] Automatically unlocking all tasks for company { userId: 388, companyId: 330, requestedBy: 'automatic_task_unlock' }
[2025-05-17T21:10:50.279Z] [INFO] [App] [TaskDependencies] Unlocking ALL tasks for company {"companyId":330}
[2025-05-17T21:10:50.312Z] [INFO] [App] [TaskDependencies] Found user onboarding task that needs completion {"taskId":983,"userEmail":"8@e.com","currentStatus":"completed","currentProgress":100}
[TaskDependencies] Skipping task 984 with submission indicators {
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  hasFileId: false,
  status: 'ready_for_submission',
  progress: 100,
  isReadyForSubmission: true
}
[2025-05-17T21:10:50.312Z] [INFO] [App] [TaskDependencies] Found tasks to unlock {"companyId":330,"count":3,"taskIds":[985,986,983],"taskTypes":["ky3p","open_banking","user_onboarding"],"ky3pTaskCount":1,"ky3pTaskIds":[985]}
[2025-05-17T21:10:50.312Z] [INFO] [App] [TaskDependencies] Processing KY3P task {"taskId":985,"taskType":"ky3p","currentProgress":0,"currentStatus":"not_started","timestamp":"2025-05-17T21:10:50.312Z"}
[UnifiedProgress] Starting progress update for task 985 (ky3p) {
  taskId: 985,
  taskType: 'ky3p',
  diagnosticId: 'prog-1747516250313-750',
  metadata: [
    'locked',
    'prerequisite_completed',
    'prerequisite_completed_at',
    'dependencyUnlockOperation',
    'previousProgress',
    'previousStatus',
    'isKy3pTask',
    'isUserOnboardingTask'
  ]
}
[UnifiedProgressCalc] Calculating progress for task 985 (ky3p)
[KY3P Progress] Calculated progress for task 985: {
  taskId: 985,
  taskType: 'ky3p',
  normalizedTaskType: 'ky3p',
  totalFields: 120,
  completedFields: 0,
  progress: 0,
  timeStamp: '2025-05-17T21:10:50.457Z'
}
[UnifiedProgressCalc] Task 985 (ky3p) progress: 0/120 = 0%
[2025-05-17T21:10:50.486Z] [INFO] [WebSocket] Broadcast message of type 'task_updated' sent to 6 clients {"module":"WebSocket","messageType":"task_updated","recipients":6,"totalClients":6,"filtered":false}
[2025-05-17T21:10:50.486Z] [INFO] [WebSocket] Broadcast message of type 'task_update' sent to 6 clients {"module":"WebSocket","messageType":"task_update","recipients":6,"totalClients":6,"filtered":false}
[2025-05-17T21:10:50.487Z] [DEBUG] [App] [UnifiedProgressCalc] Successfully broadcast task update using unified implementation {"taskId":985,"messageId":"msg_1747516250485_0676lddn"}
[2025-05-17T21:10:50.487Z] [INFO] [App] [UnifiedProgressCalc] Successfully broadcast task update for task 985 {"progress":0,"status":"not_started","messageId":"msg_1747516250485_0676lddn"}
[2025-05-17T21:10:50.487Z] [INFO] [App] [TaskDependencies] Unlocked task using unified progress calculator {"companyId":330,"taskId":985,"taskType":"ky3p","isKy3pTask":true,"calculatedProgress":0,"previousProgress":0,"wasPreserved":false}
[UnifiedProgress] Starting progress update for task 986 (open_banking) {
  taskId: 986,
  taskType: 'open_banking',
  diagnosticId: 'prog-1747516250489-274',
  metadata: [
    'locked',
    'prerequisite_completed',
    'prerequisite_completed_at',
    'dependencyUnlockOperation',
    'previousProgress',
    'previousStatus',
    'isKy3pTask',
    'isUserOnboardingTask'
  ]
}
[UnifiedProgressCalc] Calculating progress for task 986 (open_banking)
[UnifiedProgressCalc] Task 986 (open_banking) progress: 0/44 = 0%
[2025-05-17T21:10:50.645Z] [INFO] [WebSocket] Broadcast message of type 'task_updated' sent to 6 clients {"module":"WebSocket","messageType":"task_updated","recipients":6,"totalClients":6,"filtered":false}
[2025-05-17T21:10:50.646Z] [INFO] [WebSocket] Broadcast message of type 'task_update' sent to 6 clients {"module":"WebSocket","messageType":"task_update","recipients":6,"totalClients":6,"filtered":false}
[2025-05-17T21:10:50.646Z] [DEBUG] [App] [UnifiedProgressCalc] Successfully broadcast task update using unified implementation {"taskId":986,"messageId":"msg_1747516250645_v584uj8z"}
[2025-05-17T21:10:50.646Z] [INFO] [App] [UnifiedProgressCalc] Successfully broadcast task update for task 986 {"progress":0,"status":"not_started","messageId":"msg_1747516250645_v584uj8z"}
[2025-05-17T21:10:50.646Z] [INFO] [App] [TaskDependencies] Unlocked task using unified progress calculator {"companyId":330,"taskId":986,"taskType":"open_banking","isKy3pTask":false,"calculatedProgress":0,"previousProgress":0,"wasPreserved":false}
[2025-05-17T21:10:50.646Z] [INFO] [App] [TaskDependencies] Setting User Onboarding task as completed {"taskId":983,"userEmail":"8@e.com","timestamp":"2025-05-17T21:10:50.646Z"}
[2025-05-17T21:10:50.678Z] [DEBUG] [App] Broadcasting task update with object format {"taskId":983,"status":"completed"}
[WebSocket] Broadcast task_update to 6 clients (0 errors) { messageId: 'msg_1747516250678_rutl4j7sy' }
[2025-05-17T21:10:50.679Z] [INFO] [App] Successfully broadcasted task_update message 
[2025-05-17T21:10:50.679Z] [INFO] [App] [TaskDependencies] Successfully unlocked all tasks {"companyId":330,"count":3}
[Tasks] Successfully unlocked all tasks for company: 330
[Tasks] KYB tasks found: { count: 1 }
[Tasks] Query conditions: {
  conditions: {
    condition1: 'tasks.assigned_to = 388',
    condition2: 'tasks.created_by = 388',
    condition3: "tasks.company_id = 330 AND tasks.assigned_to IS NULL AND tasks.task_scope = 'company'",
    condition4: "tasks.task_type = 'user_onboarding' AND LOWER(tasks.user_email) = LOWER('8@e.com')"
  }
}
[Tasks] Tasks found: { count: 4 }
[2025-05-17T21:10:50.770Z] [INFO] [App] GET /api/tasks 200 in 524ms :: [{"id":985,"title":"2. S&P KY3P Security Assessment: DemoTest8","description"... 
[2025-05-17T21:10:51.288Z] [INFO] [App] GET /api/companies/current 304 in 30ms :: {"id":330,"name":"DemoTest8","category":"FinTech","is_demo":true,"revenue_tie... 
[2025-05-17T21:10:51.530Z] [INFO] [App] GET /api/tasks/984 200 in 67ms :: {"id":984,"title":"1. KYB Form: DemoTest8","description":"Complete KYB verifi... 
[2025-05-17T21:10:51.720Z] [INFO] [App] GET /api/companies/current 304 in 34ms :: {"id":330,"name":"DemoTest8","category":"FinTech","is_demo":true,"revenue_tie... 
[Task Templates API] Fetching template for task type: company_kyb, user: 388
[Auth] Returning user session data
[Task Templates API] Found template: 1 (KYB Form) for task type: company_kyb
[Task Templates API] Retrieved 9 configuration items for template ID: 1
[2025-05-17T21:10:52.596Z] [INFO] [App] GET /api/task-templates/by-type/company_kyb 304 in 104ms :: {"id":1,"name":"KYB Form","description":"Know Your Business form for company ... 
[KYB API Debug] Loading progress for task: 984
[Task Reconciliation] Task submission indicators: {
  taskId: 984,
  status: 'ready_for_submission',
  progress: 100,
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  hasFileId: false,
  submissionDate: undefined,
  isTerminalState: false,
  hasBeenSubmitted: false
}
[Task Reconciliation] Found 30 responses for task 984 (type: company_kyb)
[STATUS DETERMINATION] Calculating status for task with: {
  progress: 100,
  currentStatus: 'ready_for_submission',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  hasResponses: true,
  effectiveHasResponses: true,
  timestamp: '2025-05-17T21:10:52.819Z'
}
[STATUS DETERMINATION] Task has 100% progress but is not submitted, setting to READY_FOR_SUBMISSION
[Task Reconciliation] Progress calculation: {
  taskId: 984,
  currentProgress: 100,
  calculatedProgress: 100,
  currentStatus: 'ready_for_submission',
  calculatedStatus: 'ready_for_submission',
  responseCount: 30,
  completeCount: 30
}
[Task Reconciliation] No updates needed for task 984
[KYB API Debug] Retrieved task: {
  taskId: 984,
  status: 'ready_for_submission',
  progress: 100,
  metadata: [
    'locked',
    'company_id',
    'created_at',
    'isKy3pTask',
    'statusFlow',
    'created_via',
    'lastUpdated',
    'status_flow',
    'company_name',
    'last_updated',
    'created_by_id',
    'progressHistory',
    'prerequisite_for'
  ],
  timestamp: '2025-05-17T21:10:52.850Z'
}
[KYB API Debug] Retrieved responses: {
  responseCount: 30,
  fields: [
    { field: 'businessType', status: 'COMPLETE', hasValue: true },
    { field: 'jurisdiction', status: 'COMPLETE', hasValue: true },
    { field: 'companyPhone', status: 'COMPLETE', hasValue: true },
    { field: 'priorNames', status: 'COMPLETE', hasValue: true },
    { field: 'licenses', status: 'COMPLETE', hasValue: true },
    { field: 'goodStanding', status: 'COMPLETE', hasValue: true },
    {
      field: 'corporateRegistration',
      status: 'COMPLETE',
      hasValue: true
    },
    { field: 'externalAudit', status: 'COMPLETE', hasValue: true },
    { field: 'controlEnvironment', status: 'COMPLETE', hasValue: true },
    { field: 'authorizedSigners', status: 'COMPLETE', hasValue: true },
    {
      field: 'governmentOwnership',
      status: 'COMPLETE',
      hasValue: true
    },
    {
      field: 'ultimateBeneficialOwners',
      status: 'COMPLETE',
      hasValue: true
    },
    {
      field: 'directorsAndOfficers',
      status: 'COMPLETE',
      hasValue: true
    },
    { field: 'contactEmail', status: 'COMPLETE', hasValue: true },
    { field: 'registrationNumber', status: 'COMPLETE', hasValue: true },
    { field: 'incorporationDate', status: 'COMPLETE', hasValue: true },
    { field: 'legalEntityName', status: 'COMPLETE', hasValue: true },
    { field: 'registeredAddress', status: 'COMPLETE', hasValue: true },
    {
      field: 'marketCapitalization',
      status: 'COMPLETE',
      hasValue: true
    },
    {
      field: 'lifetimeCustomerValue',
      status: 'COMPLETE',
      hasValue: true
    },
    {
      field: 'annualRecurringRevenue',
      status: 'COMPLETE',
      hasValue: true
    },
    {
      field: 'monthlyRecurringRevenue',
      status: 'COMPLETE',
      hasValue: true
    },
    {
      field: 'investigationsIncidents',
      status: 'COMPLETE',
      hasValue: true
    },
    {
      field: 'financialStatements',
      status: 'COMPLETE',
      hasValue: true
    },
    {
      field: 'operationalPolicies',
      status: 'COMPLETE',
      hasValue: true
    },
    { field: 'dataVolume', status: 'COMPLETE', hasValue: true },
    { field: 'dataTypes', status: 'COMPLETE', hasValue: true },
    { field: 'sanctionsCheck', status: 'COMPLETE', hasValue: true },
    { field: 'dueDiligence', status: 'COMPLETE', hasValue: true },
    { field: 'regulatoryActions', status: 'COMPLETE', hasValue: true }
  ],
  timestamp: '2025-05-17T21:10:52.884Z'
}
[SERVER DEBUG] No savedFormData found in task table
[SERVER DEBUG] No KYB form file ID found in task metadata
[KYB API Debug] Retrieved task data: {
  id: 984,
  responseCount: 30,
  progress: 100,
  status: 'ready_for_submission',
  formDataKeys: [
    'businessType',
    'jurisdiction',
    'companyPhone',
    'priorNames',
    'licenses',
    'goodStanding',
    'corporateRegistration',
    'externalAudit',
    'controlEnvironment',
    'authorizedSigners',
    'governmentOwnership',
    'ultimateBeneficialOwners',
    'directorsAndOfficers',
    'contactEmail',
    'registrationNumber',
    'incorporationDate',
    'legalEntityName',
    'registeredAddress',
    'marketCapitalization',
    'lifetimeCustomerValue',
    'annualRecurringRevenue',
    'monthlyRecurringRevenue',
    'investigationsIncidents',
    'financialStatements',
    'operationalPolicies',
    'dataVolume',
    'dataTypes',
    'sanctionsCheck',
    'dueDiligence',
    'regulatoryActions'
  ]
}
===============================================
[SERVER DEBUG] PREPARING GET RESPONSE at 2025-05-17T21:10:52.885Z
[SERVER DEBUG] Task ID: 984, Found 30 fields in database
===============================================
[SERVER DEBUG] Checking field corporateRegistration in retrieved data: "Delaware State Filing Number 1234567, registered as FinTech Innovations LLC on 05/12/2010"
[SERVER DEBUG] Checking field goodStanding in retrieved data: "Yes"
[SERVER DEBUG] Checking field regulatoryActions in retrieved data: "Yes"
[SERVER DEBUG] Checking field investigationsIncidents in retrieved data: "No significant incidents in the past 3 years"
[SERVER DEBUG] No fields with value "asdf" found in GET response data
[SERVER DEBUG] Sending GET response with 30 fields, status: ready_for_submission, progress: 100%
===============================================
[2025-05-17T21:10:52.921Z] [INFO] [App] GET /api/kyb/progress/984 200 in 163ms :: {"formData":{"businessType":"Limited Liability Company (LLC)","jurisdiction":... 
[KYB API Debug] Loading progress for task: 984
[Task Reconciliation] Task submission indicators: {
  taskId: 984,
  status: 'ready_for_submission',
  progress: 100,
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  hasFileId: false,
  submissionDate: undefined,
  isTerminalState: false,
  hasBeenSubmitted: false
}
[TimestampHandler] Retrieved 30 timestamps for task 984
[TimestampAPI] Returning 30 timestamps for task 984
[Task Reconciliation] Found 30 responses for task 984 (type: company_kyb)
[STATUS DETERMINATION] Calculating status for task with: {
  progress: 100,
  currentStatus: 'ready_for_submission',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  hasResponses: true,
  effectiveHasResponses: true,
  timestamp: '2025-05-17T21:10:53.144Z'
}
[STATUS DETERMINATION] Task has 100% progress but is not submitted, setting to READY_FOR_SUBMISSION
[Task Reconciliation] Progress calculation: {
  taskId: 984,
  currentProgress: 100,
  calculatedProgress: 100,
  currentStatus: 'ready_for_submission',
  calculatedStatus: 'ready_for_submission',
  responseCount: 30,
  completeCount: 30
}
[Task Reconciliation] No updates needed for task 984
[2025-05-17T21:10:53.149Z] [INFO] [App] GET /api/kyb/timestamps/984 200 in 58ms :: {"legalEntityName":1747516234405,"registrationNumber":1747516234405,"incorpor... 
[KYB API Debug] Retrieved task: {
  taskId: 984,
  status: 'ready_for_submission',
  progress: 100,
  metadata: [
    'locked',
    'company_id',
    'created_at',
    'isKy3pTask',
    'statusFlow',
    'created_via',
    'lastUpdated',
    'status_flow',
    'company_name',
    'last_updated',
    'created_by_id',
    'progressHistory',
    'prerequisite_for'
  ],
  timestamp: '2025-05-17T21:10:53.173Z'
}
[KYB API Debug] Retrieved responses: {
  responseCount: 30,
  fields: [
    { field: 'businessType', status: 'COMPLETE', hasValue: true },
    { field: 'jurisdiction', status: 'COMPLETE', hasValue: true },
    { field: 'companyPhone', status: 'COMPLETE', hasValue: true },
    { field: 'priorNames', status: 'COMPLETE', hasValue: true },
    { field: 'licenses', status: 'COMPLETE', hasValue: true },
    { field: 'goodStanding', status: 'COMPLETE', hasValue: true },
    {
      field: 'corporateRegistration',
      status: 'COMPLETE',
      hasValue: true
    },
    { field: 'externalAudit', status: 'COMPLETE', hasValue: true },
    { field: 'controlEnvironment', status: 'COMPLETE', hasValue: true },
    { field: 'authorizedSigners', status: 'COMPLETE', hasValue: true },
    {
      field: 'governmentOwnership',
      status: 'COMPLETE',
      hasValue: true
    },
    {
      field: 'ultimateBeneficialOwners',
      status: 'COMPLETE',
      hasValue: true
    },
    {
      field: 'directorsAndOfficers',
      status: 'COMPLETE',
      hasValue: true
    },
    { field: 'contactEmail', status: 'COMPLETE', hasValue: true },
    { field: 'registrationNumber', status: 'COMPLETE', hasValue: true },
    { field: 'incorporationDate', status: 'COMPLETE', hasValue: true },
    { field: 'legalEntityName', status: 'COMPLETE', hasValue: true },
    { field: 'registeredAddress', status: 'COMPLETE', hasValue: true },
    {
      field: 'marketCapitalization',
      status: 'COMPLETE',
      hasValue: true
    },
    {
      field: 'lifetimeCustomerValue',
      status: 'COMPLETE',
      hasValue: true
    },
    {
      field: 'annualRecurringRevenue',
      status: 'COMPLETE',
      hasValue: true
    },
    {
      field: 'monthlyRecurringRevenue',
      status: 'COMPLETE',
      hasValue: true
    },
    {
      field: 'investigationsIncidents',
      status: 'COMPLETE',
      hasValue: true
    },
    {
      field: 'financialStatements',
      status: 'COMPLETE',
      hasValue: true
    },
    {
      field: 'operationalPolicies',
      status: 'COMPLETE',
      hasValue: true
    },
    { field: 'dataVolume', status: 'COMPLETE', hasValue: true },
    { field: 'dataTypes', status: 'COMPLETE', hasValue: true },
    { field: 'sanctionsCheck', status: 'COMPLETE', hasValue: true },
    { field: 'dueDiligence', status: 'COMPLETE', hasValue: true },
    { field: 'regulatoryActions', status: 'COMPLETE', hasValue: true }
  ],
  timestamp: '2025-05-17T21:10:53.201Z'
}
[SERVER DEBUG] No savedFormData found in task table
[SERVER DEBUG] No KYB form file ID found in task metadata
[KYB API Debug] Retrieved task data: {
  id: 984,
  responseCount: 30,
  progress: 100,
  status: 'ready_for_submission',
  formDataKeys: [
    'businessType',
    'jurisdiction',
    'companyPhone',
    'priorNames',
    'licenses',
    'goodStanding',
    'corporateRegistration',
    'externalAudit',
    'controlEnvironment',
    'authorizedSigners',
    'governmentOwnership',
    'ultimateBeneficialOwners',
    'directorsAndOfficers',
    'contactEmail',
    'registrationNumber',
    'incorporationDate',
    'legalEntityName',
    'registeredAddress',
    'marketCapitalization',
    'lifetimeCustomerValue',
    'annualRecurringRevenue',
    'monthlyRecurringRevenue',
    'investigationsIncidents',
    'financialStatements',
    'operationalPolicies',
    'dataVolume',
    'dataTypes',
    'sanctionsCheck',
    'dueDiligence',
    'regulatoryActions'
  ]
}
===============================================
[SERVER DEBUG] PREPARING GET RESPONSE at 2025-05-17T21:10:53.202Z
[SERVER DEBUG] Task ID: 984, Found 30 fields in database
===============================================
[SERVER DEBUG] Checking field corporateRegistration in retrieved data: "Delaware State Filing Number 1234567, registered as FinTech Innovations LLC on 05/12/2010"
[SERVER DEBUG] Checking field goodStanding in retrieved data: "Yes"
[SERVER DEBUG] Checking field regulatoryActions in retrieved data: "Yes"
[SERVER DEBUG] Checking field investigationsIncidents in retrieved data: "No significant incidents in the past 3 years"
[SERVER DEBUG] No fields with value "asdf" found in GET response data
[SERVER DEBUG] Sending GET response with 30 fields, status: ready_for_submission, progress: 100%
===============================================
[2025-05-17T21:10:53.232Z] [INFO] [App] GET /api/kyb/progress/984 304 in 147ms :: {"formData":{"businessType":"Limited Liability Company (LLC)","jurisdiction":... 
[TimestampHandler] Retrieved 30 timestamps for task 984
[TimestampAPI] Returning 30 timestamps for task 984
[2025-05-17T21:10:53.439Z] [INFO] [App] GET /api/kyb/timestamps/984 304 in 58ms :: {"legalEntityName":1747516234405,"registrationNumber":1747516234405,"incorpor... 
[Tasks] Using cached task data for user: 388
[2025-05-17T21:10:53.845Z] [INFO] [App] GET /api/companies/current 304 in 29ms :: {"id":330,"name":"DemoTest8","category":"FinTech","is_demo":true,"revenue_tie... 
[2025-05-17T21:10:53.853Z] [INFO] [App] GET /api/tasks 304 in 30ms :: [{"id":985,"title":"2. S&P KY3P Security Assessment: DemoTest8","description"... 
[2025-05-17T21:10:56.865Z] [INFO] [App] GET /api/companies/current 304 in 31ms :: {"id":330,"name":"DemoTest8","category":"FinTech","is_demo":true,"revenue_tie... 
[2025-05-17T21:10:59.852Z] [INFO] [App] GET /api/companies/current 304 in 30ms :: {"id":330,"name":"DemoTest8","category":"FinTech","is_demo":true,"revenue_tie... 
[2025-05-17T21:11:02.857Z] [INFO] [App] GET /api/companies/current 304 in 32ms :: {"id":330,"name":"DemoTest8","category":"FinTech","is_demo":true,"revenue_tie... 
[2025-05-17T21:11:05.032Z] [INFO] [WebSocket] Received message from client client-1747515964909-yn5n8i1 {"module":"WebSocket","type":"ping"}
[2025-05-17T21:11:05.854Z] [INFO] [App] GET /api/companies/current 304 in 32ms :: {"id":330,"name":"DemoTest8","category":"FinTech","is_demo":true,"revenue_tie... 
[2025-05-17T21:11:06.546Z] [INFO] [WebSocket] Received message from client client-1747515966427-gywjeoq {"module":"WebSocket","type":"ping","timestamp":"2025-05-17T21:11:06.409Z","connectionId":"ws_1747515966405_a11jucxl5"}
[2025-05-17T21:11:07.026Z] [INFO] [WebSocket] Received message from client client-1747515966909-qvu3645 {"module":"WebSocket","type":"ping","timestamp":"2025-05-17T21:11:06.890Z","connectionId":"ws_1747515965436_6m7baugog"}
[2025-05-17T21:11:07.576Z] [INFO] [WebSocket] Received message from client client-1747515967452-2sokc3p {"module":"WebSocket","type":"ping","timestamp":"2025-05-17T21:11:07.436Z","connectionId":"ws_1747515965962_2o79gv0lq"}
[2025-05-17T21:11:08.855Z] [INFO] [App] GET /api/companies/current 304 in 30ms :: {"id":330,"name":"DemoTest8","category":"FinTech","is_demo":true,"revenue_tie... 
[2025-05-17T21:11:09.037Z] [INFO] [App] GET /api/tasks 304 in 33ms :: [{"id":985,"title":"2. S&P KY3P Security Assessment: DemoTest8","description"... 
[2025-05-17T21:11:11.858Z] [INFO] [App] GET /api/companies/current 304 in 31ms :: {"id":330,"name":"DemoTest8","category":"FinTech","is_demo":true,"revenue_tie... 
[2025-05-17T21:11:14.863Z] [INFO] [App] GET /api/companies/current 304 in 34ms :: {"id":330,"name":"DemoTest8","category":"FinTech","is_demo":true,"revenue_tie... 
[Current Company] Fetching company for user: { userId: 388, companyId: 330 }
[Current Company] Found company: {
  id: 330,
  name: 'DemoTest8',
  onboardingCompleted: false,
  riskScore: null,
  chosenScore: null,
  isDemo: true
}
[Current Company] User onboarding status discrepancy detected: {
  userId: 388,
  sessionValue: false,
  databaseValue: true,
  timestamp: '2025-05-17T21:11:17.883Z'
}
[Current Company] Onboarding status check: {
  userId: 388,
  companyId: 330,
  userOnboardingStatus: true,
  freshFromDatabase: true,
  companyOnboardingStatus: false,
  timestamp: '2025-05-17T21:11:17.883Z'
}
[2025-05-17T21:11:17.917Z] [INFO] [App] GET /api/companies/current 200 in 93ms :: {"id":330,"name":"DemoTest8","category":"FinTech","is_demo":true,"revenue_tie... 
[2025-05-17T21:11:18.110Z] [INFO] [App] GET /api/companies/current 304 in 36ms :: {"id":330,"name":"DemoTest8","category":"FinTech","is_demo":true,"revenue_tie... 
[Auth] Processing /api/auth/user request
[Auth] Request authentication state: {
  isAuthenticated: true,
  hasUser: true,
  sessionID: 'yVN0OjmGmCo-xUjhjIXWP562Ou7HdKnL'
}
[Auth] Returning user session data: { id: 388, email: '8@e.com', company_id: 330 }
[2025-05-17T21:11:19.495Z] [INFO] [App] [TabTutorials] Status request for tab "file-vault" from authenticated user ID: 388 
[2025-05-17T21:11:19.495Z] [INFO] [App] [TabTutorials] Normalizing tab name from 'file-vault' to canonical form 
[2025-05-17T21:11:19.495Z] [INFO] [App] [TabTutorials] Tab name already in canonical form: 'file-vault' 
[2025-05-17T21:11:19.495Z] [INFO] [App] [TabTutorials] Checking tutorial status for tab: file-vault (raw: file-vault), user: 388 
[2025-05-17T21:11:19.530Z] [INFO] [App] [TabTutorials] No tutorial status found for file-vault for user 388 
[2025-05-17T21:11:19.560Z] [INFO] [App] GET /api/user-tab-tutorials/file-vault/status 200 in 65ms :: {"exists":false,"completed":false,"currentStep":0,"tabName":"file-vault"} 
[Files] Starting file fetch request
[Files] Request parameters: {
  companyId: '330',
  userId: 388,
  query: { company_id: '330', page: '1', pageSize: '5' },
  user: {
    id: 388,
    email: '8@e.com',
    full_name: 'John Doe8',
    first_name: 'John',
    last_name: 'Doe8',
    password: '$2b$10$JwQWI04OfsXx7/hzpJEdJeDr9aNDZwVv4UyZN8NgDjjcdB1kaBSAi',
    company_id: 330,
    onboarding_user_completed: false,
    created_at: 2025-05-17T21:09:36.586Z,
    updated_at: 2025-05-17T21:09:36.586Z
  }
}
[Files] Executing database query for company: 330
[Files] ⚠️ ENHANCED DEBUGGING: Fetching files for company 330 {
  companyId: 330,
  userId: 388,
  pagination: { page: 1, pageSize: 5, offset: 0 },
  totalFilesCount: 5,
  timestamp: '2025-05-17T21:11:19.658Z',
  userCompanyId: 330,
  userName: undefined,
  userEmail: '8@e.com'
}
[Files] SQL: SELECT * FROM files WHERE company_id = 330 ORDER BY created_at DESC LIMIT 5 OFFSET 0
[Files] Count SQL: SELECT COUNT(*) FROM files WHERE company_id = 330
[2025-05-17T21:11:19.670Z] [INFO] [App] GET /api/companies/current 304 in 30ms :: {"id":330,"name":"DemoTest8","category":"FinTech","is_demo":true,"revenue_tie... 
[Files] ✅ Query returned 5 files {
  recordCount: 5,
  totalFiles: 5,
  page: 1,
  pageSize: 5,
  fileIds: [ 1007, 1006, 1005, 1004, 1003 ],
  company: { id: 330, name: undefined },
  firstRecord: {
    id: 1007,
    name: 'kyb_984_330_v1.0_20250517211031.csv',
    companyId: 330,
    createdAt: 2025-05-17T21:10:31.184Z
  },
  timestamp: '2025-05-17T21:11:19.688Z'
}
[2025-05-17T21:11:19.747Z] [INFO] [App] GET /api/files 200 in 117ms :: {"data":[{"id":1007,"name":"kyb_984_330_v1.0_20250517211031.csv","size":4088,... 
[2025-05-17T21:11:21.327Z] [INFO] [App] [TabTutorials] Using authenticated user ID: 388 
[2025-05-17T21:11:21.327Z] [INFO] [App] [TabTutorials] Request body: {"tabName":"file-vault","currentStep":1,"completed":false,"totalSteps":4} 
[2025-05-17T21:11:21.327Z] [INFO] [App] [TabTutorials] Normalizing tab name from 'file-vault' to canonical form 
[2025-05-17T21:11:21.327Z] [INFO] [App] [TabTutorials] Tab name already in canonical form: 'file-vault' 
[2025-05-17T21:11:21.327Z] [INFO] [App] [TabTutorials] Using normalized tab name for update: file-vault (raw: file-vault) 
[2025-05-17T21:11:21.385Z] [INFO] [App] [TabTutorials] Created new tutorial entry for file-vault for user 388 
[2025-05-17T21:11:21.385Z] [INFO] [App] [TabTutorials] Broadcasting tutorial progress update for file-vault: step 1/4 
[WebSocketService] Broadcasting message: tutorial_progress
[WebSocketService] WebSocket is not enabled, skipping broadcast: tutorial_progress
[2025-05-17T21:11:21.415Z] [INFO] [App] POST /api/user-tab-tutorials 200 in 89ms :: {"success":true,"message":"Tutorial created successfully","tutorialStatus":{"... 
[2025-05-17T21:11:21.562Z] [INFO] [App] [TabTutorials] Status request for tab "file-vault" from authenticated user ID: 388 
[2025-05-17T21:11:21.562Z] [INFO] [App] [TabTutorials] Normalizing tab name from 'file-vault' to canonical form 
[2025-05-17T21:11:21.562Z] [INFO] [App] [TabTutorials] Tab name already in canonical form: 'file-vault' 
[2025-05-17T21:11:21.562Z] [INFO] [App] [TabTutorials] Checking tutorial status for tab: file-vault (raw: file-vault), user: 388 
[2025-05-17T21:11:21.620Z] [INFO] [App] [TabTutorials] Retrieved tutorial status for file-vault for user 388: completed=false, step=1 
[2025-05-17T21:11:21.649Z] [INFO] [App] GET /api/user-tab-tutorials/file-vault/status 200 in 87ms :: {"exists":true,"completed":false,"currentStep":1,"lastSeenAt":"2025-05-17T21:... 
[2025-05-17T21:11:21.813Z] [INFO] [App] [TabTutorials] Using authenticated user ID: 388 
[2025-05-17T21:11:21.813Z] [INFO] [App] [TabTutorials] Request body: {"tabName":"file-vault","currentStep":2,"completed":false,"totalSteps":4} 
[2025-05-17T21:11:21.813Z] [INFO] [App] [TabTutorials] Normalizing tab name from 'file-vault' to canonical form 
[2025-05-17T21:11:21.813Z] [INFO] [App] [TabTutorials] Tab name already in canonical form: 'file-vault' 
[2025-05-17T21:11:21.813Z] [INFO] [App] [TabTutorials] Using normalized tab name for update: file-vault (raw: file-vault) 
[2025-05-17T21:11:21.841Z] [INFO] [App] [TabTutorials] Broadcasting tutorial progress update for file-vault: step 2/4 
[WebSocketService] Broadcasting message: tutorial_progress
[WebSocketService] WebSocket is not enabled, skipping broadcast: tutorial_progress
[2025-05-17T21:11:21.873Z] [INFO] [App] [TabTutorials] Updated tutorial file-vault for user 388 (completed: false, currentStep: 2) 
[2025-05-17T21:11:21.908Z] [INFO] [App] POST /api/user-tab-tutorials 200 in 95ms :: {"success":true,"message":"Tutorial status updated successfully","tutorialSta... 
[2025-05-17T21:11:22.112Z] [INFO] [App] [TabTutorials] Status request for tab "file-vault" from authenticated user ID: 388 
[2025-05-17T21:11:22.112Z] [INFO] [App] [TabTutorials] Normalizing tab name from 'file-vault' to canonical form 
[2025-05-17T21:11:22.112Z] [INFO] [App] [TabTutorials] Tab name already in canonical form: 'file-vault' 
[2025-05-17T21:11:22.112Z] [INFO] [App] [TabTutorials] Checking tutorial status for tab: file-vault (raw: file-vault), user: 388 
[2025-05-17T21:11:22.170Z] [INFO] [App] [TabTutorials] Retrieved tutorial status for file-vault for user 388: completed=false, step=2 
[2025-05-17T21:11:22.201Z] [INFO] [App] GET /api/user-tab-tutorials/file-vault/status 200 in 90ms :: {"exists":true,"completed":false,"currentStep":2,"lastSeenAt":"2025-05-17T21:... 
[2025-05-17T21:11:22.352Z] [INFO] [App] [TabTutorials] Using authenticated user ID: 388 
[2025-05-17T21:11:22.352Z] [INFO] [App] [TabTutorials] Request body: {"tabName":"file-vault","currentStep":2,"completed":false,"totalSteps":4} 
[2025-05-17T21:11:22.352Z] [INFO] [App] [TabTutorials] Normalizing tab name from 'file-vault' to canonical form 
[2025-05-17T21:11:22.352Z] [INFO] [App] [TabTutorials] Tab name already in canonical form: 'file-vault' 
[2025-05-17T21:11:22.352Z] [INFO] [App] [TabTutorials] Using normalized tab name for update: file-vault (raw: file-vault) 
[2025-05-17T21:11:22.381Z] [INFO] [App] [TabTutorials] Broadcasting tutorial progress update for file-vault: step 2/4 
[WebSocketService] Broadcasting message: tutorial_progress
[WebSocketService] WebSocket is not enabled, skipping broadcast: tutorial_progress
[2025-05-17T21:11:22.410Z] [INFO] [App] [TabTutorials] Updated tutorial file-vault for user 388 (completed: false, currentStep: 2) 
[2025-05-17T21:11:22.471Z] [INFO] [App] POST /api/user-tab-tutorials 200 in 119ms :: {"success":true,"message":"Tutorial status updated successfully","tutorialSta... 
[2025-05-17T21:11:22.525Z] [INFO] [App] GET /api/companies/current 304 in 29ms :: {"id":330,"name":"DemoTest8","category":"FinTech","is_demo":true,"revenue_tie... 
[2025-05-17T21:11:22.620Z] [INFO] [App] [TabTutorials] Status request for tab "file-vault" from authenticated user ID: 388 
[2025-05-17T21:11:22.620Z] [INFO] [App] [TabTutorials] Normalizing tab name from 'file-vault' to canonical form 
[2025-05-17T21:11:22.620Z] [INFO] [App] [TabTutorials] Tab name already in canonical form: 'file-vault' 
[2025-05-17T21:11:22.620Z] [INFO] [App] [TabTutorials] Checking tutorial status for tab: file-vault (raw: file-vault), user: 388 
[2025-05-17T21:11:22.677Z] [INFO] [App] [TabTutorials] Retrieved tutorial status for file-vault for user 388: completed=false, step=2 
[2025-05-17T21:11:22.706Z] [INFO] [App] GET /api/user-tab-tutorials/file-vault/status 200 in 86ms :: {"exists":true,"completed":false,"currentStep":2,"lastSeenAt":"2025-05-17T21:... 
[2025-05-17T21:11:22.949Z] [INFO] [App] [TabTutorials] Using authenticated user ID: 388 
[2025-05-17T21:11:22.949Z] [INFO] [App] [TabTutorials] Request body: {"tabName":"file-vault","currentStep":3,"completed":false,"totalSteps":4} 
[2025-05-17T21:11:22.949Z] [INFO] [App] [TabTutorials] Normalizing tab name from 'file-vault' to canonical form 
[2025-05-17T21:11:22.949Z] [INFO] [App] [TabTutorials] Tab name already in canonical form: 'file-vault' 
[2025-05-17T21:11:22.949Z] [INFO] [App] [TabTutorials] Using normalized tab name for update: file-vault (raw: file-vault) 
[2025-05-17T21:11:22.978Z] [INFO] [App] [TabTutorials] Broadcasting tutorial progress update for file-vault: step 3/4 
[WebSocketService] Broadcasting message: tutorial_progress
[WebSocketService] WebSocket is not enabled, skipping broadcast: tutorial_progress
[2025-05-17T21:11:23.007Z] [INFO] [App] [TabTutorials] Updated tutorial file-vault for user 388 (completed: false, currentStep: 3) 
[2025-05-17T21:11:23.037Z] [INFO] [App] POST /api/user-tab-tutorials 200 in 88ms :: {"success":true,"message":"Tutorial status updated successfully","tutorialSta... 
[2025-05-17T21:11:23.188Z] [INFO] [App] [TabTutorials] Status request for tab "file-vault" from authenticated user ID: 388 
[2025-05-17T21:11:23.188Z] [INFO] [App] [TabTutorials] Normalizing tab name from 'file-vault' to canonical form 
[2025-05-17T21:11:23.188Z] [INFO] [App] [TabTutorials] Tab name already in canonical form: 'file-vault' 
[2025-05-17T21:11:23.188Z] [INFO] [App] [TabTutorials] Checking tutorial status for tab: file-vault (raw: file-vault), user: 388 
[2025-05-17T21:11:23.245Z] [INFO] [App] [TabTutorials] Retrieved tutorial status for file-vault for user 388: completed=false, step=3 
[2025-05-17T21:11:23.275Z] [INFO] [App] GET /api/user-tab-tutorials/file-vault/status 200 in 88ms :: {"exists":true,"completed":false,"currentStep":3,"lastSeenAt":"2025-05-17T21:... 
[2025-05-17T21:11:23.878Z] [INFO] [App] [TabTutorials] Using authenticated user ID: 388 
[2025-05-17T21:11:23.878Z] [INFO] [App] [TabTutorials] Request body: {"tabName":"file-vault","currentStep":3,"completed":true,"totalSteps":4} 
[2025-05-17T21:11:23.878Z] [INFO] [App] [TabTutorials] Normalizing tab name from 'file-vault' to canonical form 
[2025-05-17T21:11:23.878Z] [INFO] [App] [TabTutorials] Tab name already in canonical form: 'file-vault' 
[2025-05-17T21:11:23.878Z] [INFO] [App] [TabTutorials] Using normalized tab name for update: file-vault (raw: file-vault) 
[2025-05-17T21:11:23.906Z] [INFO] [App] [TabTutorials] Broadcasting tutorial progress update for file-vault: step 3/4 
[WebSocketService] Broadcasting message: tutorial_progress
[WebSocketService] WebSocket is not enabled, skipping broadcast: tutorial_progress
[2025-05-17T21:11:23.906Z] [INFO] [App] [TabTutorials] Broadcasting tutorial completion for file-vault 
[WebSocketService] Broadcasting message: tutorial_completed
[WebSocketService] WebSocket is not enabled, skipping broadcast: tutorial_completed
[2025-05-17T21:11:23.935Z] [INFO] [App] [TabTutorials] Updated tutorial file-vault for user 388 (completed: true, currentStep: 3) 
[2025-05-17T21:11:23.965Z] [INFO] [App] POST /api/user-tab-tutorials 200 in 88ms :: {"success":true,"message":"Tutorial status updated successfully","tutorialSta... 
[2025-05-17T21:11:24.117Z] [INFO] [App] [TabTutorials] Status request for tab "file-vault" from authenticated user ID: 388 
[2025-05-17T21:11:24.117Z] [INFO] [App] [TabTutorials] Normalizing tab name from 'file-vault' to canonical form 
[2025-05-17T21:11:24.117Z] [INFO] [App] [TabTutorials] Tab name already in canonical form: 'file-vault' 
[2025-05-17T21:11:24.117Z] [INFO] [App] [TabTutorials] Checking tutorial status for tab: file-vault (raw: file-vault), user: 388 
[2025-05-17T21:11:24.175Z] [INFO] [App] [TabTutorials] Retrieved tutorial status for file-vault for user 388: completed=true, step=3 
[2025-05-17T21:11:24.205Z] [INFO] [App] GET /api/user-tab-tutorials/file-vault/status 200 in 88ms :: {"exists":true,"completed":true,"currentStep":3,"lastSeenAt":"2025-05-17T21:1... 
[2025-05-17T21:11:25.463Z] [INFO] [App] GET /api/companies/current 304 in 33ms :: {"id":330,"name":"DemoTest8","category":"FinTech","is_demo":true,"revenue_tie... 
[Files] Download request for file: { fileId: 1006, format: 'csv', query: {} }
[Files] File found: {
  id: 1006,
  name: 'Business Continuity Plan Questions',
  type: 'csv',
  size: 5215,
  pathType: 'string',
  pathLength: 95,
  pathFirstChars: 'documents/demo-files...'
}
[Files] File found: {
  id: 1006,
  name: 'Business Continuity Plan Questions',
  type: 'csv',
  size: 5215,
  format: 'csv',
  pathType: 'string',
  pathLength: 95,
  pathFirstChars: 'documents/demo-files...'
}
[Files] Physical file path: /home/runner/workspace/uploads/documents/documents/demo-files/demo_330_2025-05-17T21-09-37-780Z_4_Business_Continuity_Plan_Questions.csv
[Files] File missing from disk: /home/runner/workspace/uploads/documents/documents/demo-files/demo_330_2025-05-17T21-09-37-780Z_4_Business_Continuity_Plan_Questions.csv
[2025-05-17T21:11:27.247Z] [WARN] [App] GET /api/files/1006/download 404 in 89ms :: {"error":"File not found on disk"} 
[2025-05-17T21:11:27.584Z] [INFO] [WebSocket] Received message from client client-1747515967452-2sokc3p {"module":"WebSocket","type":"ping","timestamp":"2025-05-17T21:11:27.440Z","connectionId":"ws_1747515965962_2o79gv0lq"}
[2025-05-17T21:11:28.457Z] [INFO] [App] GET /api/companies/current 304 in 30ms :: {"id":330,"name":"DemoTest8","category":"FinTech","is_demo":true,"revenue_tie... 
[2025-05-17T21:11:31.466Z] [INFO] [App] GET /api/companies/current 304 in 29ms :: {"id":330,"name":"DemoTest8","category":"FinTech","is_demo":true,"revenue_tie... 
[2025-05-17T21:11:34.455Z] [INFO] [App] GET /api/companies/current 304 in 31ms :: {"id":330,"name":"DemoTest8","category":"FinTech","is_demo":true,"revenue_tie... 
[2025-05-17T21:11:35.033Z] [INFO] [WebSocket] Received message from client client-1747515964909-yn5n8i1 {"module":"WebSocket","type":"ping"}
[2025-05-17T21:11:37.203Z] [INFO] [WebSocket] Received message from client client-1747515966427-gywjeoq {"module":"WebSocket","type":"ping","timestamp":"2025-05-17T21:11:37.064Z","connectionId":"ws_1747515966405_a11jucxl5"}
[2025-05-17T21:11:37.203Z] [INFO] [WebSocket] Received message from client client-1747515966909-qvu3645 {"module":"WebSocket","type":"ping","timestamp":"2025-05-17T21:11:37.066Z","connectionId":"ws_1747515965436_6m7baugog"}
[2025-05-17T21:11:37.453Z] [INFO] [App] GET /api/companies/current 304 in 30ms :: {"id":330,"name":"DemoTest8","category":"FinTech","is_demo":true,"revenue_tie... 
[2025-05-17T21:11:40.454Z] [INFO] [App] GET /api/companies/current 304 in 31ms :: {"id":330,"name":"DemoTest8","category":"FinTech","is_demo":true,"revenue_tie... 
[2025-05-17T21:11:43.475Z] [INFO] [App] GET /api/companies/current 304 in 33ms :: {"id":330,"name":"DemoTest8","category":"FinTech","is_demo":true,"revenue_tie... 
[2025-05-17T21:11:46.454Z] [INFO] [App] GET /api/companies/current 304 in 30ms :: {"id":330,"name":"DemoTest8","category":"FinTech","is_demo":true,"revenue_tie... 