[2025-05-25T14:40:17.365Z] [App] Services phase initializing 
[2025-05-25T14:40:17.365Z] [App] Initializing unified service registration 
[2025-05-25T14:40:17.365Z] [UnifiedServiceRegistration] Initializing all services with unified registration 
[2025-05-25T14:40:17.365Z] [UnifiedServiceRegistration] Registering all services with options: 
Object {useUnified: true, clearExisting: true}
[ComponentFactory] Getting all registered form services (0 total)
[2025-05-25T14:40:17.365Z] [UnifiedServiceRegistration] No existing service registrations found 
[ComponentFactory] Getting all registered form services (0 total)
[ComponentFactory] Registering form service for task type: kyb 
Object {serviceType: "EnhancedKybFormService", timestamp: "2025-05-25T14:40:17.365Z"}
[ComponentFactory] Current registered services: [kyb: EnhancedKybFormService]
[2025-05-25T14:40:17.365Z] [UnifiedServiceRegistration] Registered KybService for task type: kyb 
[ComponentFactory] Registering form service for task type: company_kyb 
Object {serviceType: "EnhancedKybFormService", timestamp: "2025-05-25T14:40:17.365Z"}
[ComponentFactory] Current registered services: [kyb: EnhancedKybFormService, company_kyb: EnhancedKybFormService]
[2025-05-25T14:40:17.365Z] [UnifiedServiceRegistration] Registered KybService for task type: company_kyb 
[UnifiedKY3PFormService] [Unified KY3P] Initializing service 
Object {companyId: undefined, taskId: undefined, timestamp: "2025-05-25T14:40:17.365Z"}
[ComponentFactory] Registering form service for task type: ky3p 
Object {serviceType: "UnifiedKY3PFormService", timestamp: "2025-05-25T14:40:17.365Z"}
[ComponentFactory] Current registered services: [kyb: EnhancedKybFormService, company_kyb: EnhancedKybFormService, ky3p: UnifiedKY3PFormService]
[2025-05-25T14:40:17.365Z] [UnifiedServiceRegistration] Registered KY3PService for task type: ky3p 
[UnifiedKY3PFormService] [Unified KY3P] Initializing service 
Object {companyId: undefined, taskId: undefined, timestamp: "2025-05-25T14:40:17.365Z"}
[ComponentFactory] Registering form service for task type: sp_ky3p_assessment 
Object {serviceType: "UnifiedKY3PFormService", timestamp: "2025-05-25T14:40:17.365Z"}
[ComponentFactory] Current registered services: [kyb: EnhancedKybFormService, company_kyb: EnhancedKybFormService, ky3p: UnifiedKY3PFormService, sp_ky3p_assessment: UnifiedKY3PFormService]
[2025-05-25T14:40:17.365Z] [UnifiedServiceRegistration] Registered KY3PService for task type: sp_ky3p_assessment 
[UnifiedKY3PFormService] [Unified KY3P] Initializing service 
Object {companyId: undefined, taskId: undefined, timestamp: "2025-05-25T14:40:17.365Z"}
[ComponentFactory] Registering form service for task type: security 
Object {serviceType: "UnifiedKY3PFormService", timestamp: "2025-05-25T14:40:17.365Z"}
[ComponentFactory] Current registered services: [kyb: EnhancedKybFormService, company_kyb: EnhancedKybFormService, ky3p: UnifiedKY3PFormService, sp_ky3p_assessment: UnifiedKY3PFormService, security: UnifiedKY3PFormService]
[2025-05-25T14:40:17.365Z] [UnifiedServiceRegistration] Registered KY3PService for task type: security 
[UnifiedKY3PFormService] [Unified KY3P] Initializing service 
Object {companyId: undefined, taskId: undefined, timestamp: "2025-05-25T14:40:17.365Z"}
[ComponentFactory] Registering form service for task type: security_assessment 
Object {serviceType: "UnifiedKY3PFormService", timestamp: "2025-05-25T14:40:17.366Z"}
[ComponentFactory] Current registered services: [kyb: EnhancedKybFormService, company_kyb: EnhancedKybFormService, ky3p: UnifiedKY3PFormService, sp_ky3p_assessment: UnifiedKY3PFormService, security: UnifiedKY3PFormService, security_assessment: UnifiedKY3PFormService]
[2025-05-25T14:40:17.366Z] [UnifiedServiceRegistration] Registered KY3PService for task type: security_assessment 
[Enhanced KYB Service] Enhanced KYB Form Service initialized with timestamp tracking
INFO: [OpenBankingFormService] Initializing Open Banking Form Service 
Object {companyId: undefined, taskId: undefined}
[ComponentFactory] Registering form service for task type: open_banking 
Object {serviceType: "OpenBankingFormService", timestamp: "2025-05-25T14:40:17.366Z"}
[ComponentFactory] Current registered services: [kyb: EnhancedKybFormService, company_kyb: EnhancedKybFormService, ky3p: UnifiedKY3PFormService, sp_ky3p_assessment: UnifiedKY3PFormService, security: UnifiedKY3PFormService, security_assessment: UnifiedKY3PFormService, open_banking: OpenBankingFormService]
[2025-05-25T14:40:17.366Z] [UnifiedServiceRegistration] Registered OpenBankingService for task type: open_banking 
[Enhanced KYB Service] Enhanced KYB Form Service initialized with timestamp tracking
INFO: [OpenBankingFormService] Initializing Open Banking Form Service 
Object {companyId: undefined, taskId: undefined}
[ComponentFactory] Registering form service for task type: open_banking_survey 
Object {serviceType: "OpenBankingFormService", timestamp: "2025-05-25T14:40:17.366Z"}
[ComponentFactory] Current registered services: [kyb: EnhancedKybFormService, company_kyb: EnhancedKybFormService, ky3p: UnifiedKY3PFormService, sp_ky3p_assessment: UnifiedKY3PFormService, security: UnifiedKY3PFormService, security_assessment: UnifiedKY3PFormService, open_banking: OpenBankingFormService, open_banking_survey: OpenBankingFormService]
[2025-05-25T14:40:17.366Z] [UnifiedServiceRegistration] Registered OpenBankingService for task type: open_banking_survey 
[ComponentFactory] Getting all registered form services (8 total)
[ComponentFactory] Registered service: kyb -> EnhancedKybFormService
[ComponentFactory] Registered service: company_kyb -> EnhancedKybFormService
[ComponentFactory] Registered service: ky3p -> UnifiedKY3PFormService
[ComponentFactory] Registered service: sp_ky3p_assessment -> UnifiedKY3PFormService
[ComponentFactory] Registered service: security -> UnifiedKY3PFormService
[ComponentFactory] Registered service: security_assessment -> UnifiedKY3PFormService
[ComponentFactory] Registered service: open_banking -> OpenBankingFormService
[ComponentFactory] Registered service: open_banking_survey -> OpenBankingFormService
[2025-05-25T14:40:17.366Z] [UnifiedServiceRegistration] Successfully registered 8 services: 
(8) ["kyb", "company_kyb", "ky3p", "sp_ky3p_assessment", "security", "security_assessment", "open_banking", "open_banking_survey"]
[2025-05-25T14:40:17.366Z] [PhaseStartup] Phase services completed successfully 
[2025-05-25T14:40:17.366Z] [PhaseStartup] Phase communication dependencies satisfied, executing... 
[2025-05-25T14:40:17.366Z] [PhaseStartup] Executing startup phase: communication 
[2025-05-25T14:40:17.366Z] [PhaseStartup] Executing 1 callbacks for phase communication 
[2025-05-25T14:40:17.366Z] [PhaseStartup] Executing callback 1/1 for phase communication 
[2025-05-25T14:40:17.366Z] [App] Communication phase initializing 
[2025-05-25T14:40:17.366Z] [PhaseStartup] Phase ready dependencies satisfied, executing... 
[2025-05-25T14:40:17.366Z] [PhaseStartup] Executing startup phase: ready 
[2025-05-25T14:40:17.366Z] [PhaseStartup] Executing 1 callbacks for ready phase - will complete immediately 
[2025-05-25T14:40:17.366Z] [App] Application ready for user interaction 
[2025-05-25T14:40:17.366Z] [PhaseStartup] Phase ready marked as completed immediately 
[2025-05-25T14:40:17.366Z] [PhaseStartup] Phase communication completed successfully 
[Router] Current location: /demo
[DemoPage] Rendering step 1/3 
Object {selectedPersona: undefined}
[AuthLayout] Rendering with mode: demo, step: 1/3
[DemoStep1] Rendering platform overview
[DemoStep1] Applying color scheme: gray, selected: false
[DemoStep1] Setting icon color for: gray
[DemoStep1] Applying color scheme: green, selected: false
[DemoStep1] Setting icon color for: green
[DemoStep1] Applying color scheme: purple, selected: false
[DemoStep1] Setting icon color for: purple
[DemoStep1] Applying color scheme: blue, selected: false
[DemoStep1] Setting icon color for: blue
[DemoStepVisual] Rendering with currentStep: 1
[DemoStepVisual] Step 1 - Active: true, Asset: /assets/demo/steps/step-1-animated.gif
[DemoStepVisual] Step 2 - Active: false, Asset: /assets/demo/steps/step-2-static.png
[DemoStepVisual] Step 3 - Active: false, Asset: /assets/demo/steps/step-3-static.png
[WebSocket] Connection attempt initiated
[TanStack Query] 401 Unauthorized for /api/user, returning null as configured
[2025-05-25T14:40:17.555Z] [UnifiedServiceRegistration] QueryClient not available, skipping Risk Score Data Service initialization 
[WebSocket] WebSocket connection established
[WebSocket] Received message: 
Object {type: "connection_established", clientId: "client-1748184017815-9ep9uei", timestamp: "2025-05-25T14:40:17.815Z", message: "Connection established"}
[WebSocket] Server connection confirmed: Connection established
[WebSocket] Received message: 
Object {type: "authenticated", timestamp: "2025-05-25T14:40:17.935Z", message: "Authentication successful"}
[WebSocket] Connection established
[WebSocket] Received message: 
Object {type: "connection_established", clientId: "client-1748184018297-ra09vvz", timestamp: "2025-05-25T14:40:18.297Z", message: "Connection established"}
[2025-05-25T14:40:18.359Z] [WebSocket] Connecting to WebSocket: wss://9606074c-a9ad-4fe1-8fe5-3d9c3eed0606-00-33ar2rv36ligj.picard.replit.dev:8080/ws
[WebSocket] Connection established
[WebSocket] Received message: 
Object {type: "connection_established", clientId: "client-1748184018836-1154e8a", timestamp: "2025-05-25T14:40:18.836Z", message: "Connection established"}
[WebSocket] Connection established
[WebSocket] Received message: 
Object {type: "connection_established", clientId: "client-1748184019313-usw8q6o", timestamp: "2025-05-25T14:40:19.313Z", message: "Connection established"}
[DemoStep1] Persona selected: accredited-data-recipient
[DemoPage] Rendering step 1/3 
Object {selectedPersona: "accredited-data-recipient"}
[AuthLayout] Rendering with mode: demo, step: 1/3
[DemoStep1] Rendering platform overview
[DemoStep1] Applying color scheme: gray, selected: false
[DemoStep1] Setting icon color for: gray
[DemoStep1] Applying color scheme: green, selected: true
[DemoStep1] Setting icon color for: green
[DemoStep1] Applying color scheme: purple, selected: false
[DemoStep1] Setting icon color for: purple
[DemoStep1] Applying color scheme: blue, selected: false
[DemoStep1] Setting icon color for: blue
[DemoStepVisual] Rendering with currentStep: 1
[DemoStepVisual] Step 1 - Active: true, Asset: /assets/demo/steps/step-1-animated.gif
[DemoStepVisual] Step 2 - Active: false, Asset: /assets/demo/steps/step-2-static.png
[DemoStepVisual] Step 3 - Active: false, Asset: /assets/demo/steps/step-3-static.png
[2025-05-25T14:40:19.784Z] [WebSocket] WebSocket connection established 
[2025-05-25T14:40:19.784Z] [WebSocket] Fetching current user data for WebSocket authentication 
[2025-05-25T14:40:19.785Z] [WebSocket] Received message of type: connection_established 
[2025-05-25T14:40:19.785Z] [WebSocket] WebSocket server connection confirmed with ID: client-1748184019790-wqb37gs 
[2025-05-25T14:40:19.987Z] [WebSocket] Sending authentication message 
Object {userId: "8", companyId: "1", connectionId: "ws_1748184018359_gqf2r28zy", hasUserData: false, hasCompanyData: false}
[2025-05-25T14:40:20.103Z] [WebSocket] Received message of type: authenticated 
[2025-05-25T14:40:20.103Z] [WebSocket] WebSocket authentication confirmed for client: unknown 
[DemoPage] Advancing to step 2
[DemoPage] Rendering step 2/3 
Object {selectedPersona: "accredited-data-recipient"}
[AuthLayout] Rendering with mode: demo, step: 2/3
[DemoStep2] Rendering interactive demo 
Object {selectedPersona: "accredited-data-recipient"}
[DemoStep2] Validating field: persona 
Object {value: "Accredited Data Recipient", formData: {…}}
[DemoStep2] Persona validation: valid
[DemoStep2] Validating field: companyName 
Object {value: "TrustLink Partners", formData: {…}}
[DemoStep2] Company name validation: valid (18 chars)
[DemoStep2] Validating field: userFullName 
Object {value: "Ava King", formData: {…}}
[DemoStep2] Full name validation: valid (8 chars, 2 parts)
[DemoStep2] Validating field: userEmail 
Object {value: "aking@trustlink.com", formData: {…}}
[DemoStep2] Email validation: valid (aking@trustlink.com)
[DemoStep2] Field visibility check: riskProfile for accredited-data-recipient = true 
Object {fieldTags: Array(1), personaId: "accredited-data-recipient", isDefault: false, hasPersonaTag: true, shouldShow: true}
[DemoStep2] Field visibility check: companySize for accredited-data-recipient = true 
Object {fieldTags: Array(1), personaId: "accredited-data-recipient", isDefault: false, hasPersonaTag: true, shouldShow: true}
[DemoStep2] Field visibility check: emailInvite for accredited-data-recipient = true 
Object {fieldTags: Array(4), personaId: "accredited-data-recipient", isDefault: false, hasPersonaTag: true, shouldShow: true}
[DemoStep2] Field visibility check: demoCompany for accredited-data-recipient = false 
Object {fieldTags: Array(1), personaId: "accredited-data-recipient", isDefault: false, hasPersonaTag: false, shouldShow: false}
[DemoStep2] Validating field: persona 
Object {value: "Accredited Data Recipient", formData: {…}}
[DemoStep2] Persona validation: valid
[DemoStep2] Validating field: companyName 
Object {value: "TrustLink Partners", formData: {…}}
[DemoStep2] Company name validation: valid (18 chars)
[DemoStep2] Validating field: userFullName 
Object {value: "Ava King", formData: {…}}
[DemoStep2] Full name validation: valid (8 chars, 2 parts)
[DemoStep2] Validating field: userEmail 
Object {value: "aking@trustlink.com", formData: {…}}
[DemoStep2] Email validation: valid (aking@trustlink.com)
[DemoStep2] Form validation check: 
Object {validationResults: {…}, allValid: true, formData: {…}}
[DemoStepVisual] Rendering with currentStep: 2
[DemoStepVisual] Step 1 - Active: false, Asset: /assets/demo/steps/step-1-static.png
[DemoStepVisual] Step 2 - Active: true, Asset: /assets/demo/steps/step-2-animated.gif
[DemoStepVisual] Step 3 - Active: false, Asset: /assets/demo/steps/step-3-static.png
[DemoAssetPreloader] Cleaned up 1 preload links
[DemoAssetPreloader] Preloading assets for step 3
[DemoAssetPreloader] Successfully initiated preloading for 1 assets
[DemoPage] Rendering step 2/3 
Object {selectedPersona: "accredited-data-recipient"}
[AuthLayout] Rendering with mode: demo, step: 2/3
[DemoStep2] Rendering interactive demo 
Object {selectedPersona: "accredited-data-recipient"}
[DemoStep2] Validating field: persona 
Object {value: "Accredited Data Recipient", formData: {…}}
[DemoStep2] Persona validation: valid
[DemoStep2] Validating field: companyName 
Object {value: "TrustLink Partners", formData: {…}}
[DemoStep2] Company name validation: valid (18 chars)
[DemoStep2] Validating field: userFullName 
Object {value: "Ava King", formData: {…}}
[DemoStep2] Full name validation: valid (8 chars, 2 parts)
[DemoStep2] Validating field: userEmail 
Object {value: "aking@trustlink.com", formData: {…}}
[DemoStep2] Email validation: valid (aking@trustlink.com)
[DemoStep2] Field visibility check: riskProfile for accredited-data-recipient = true 
Object {fieldTags: Array(1), personaId: "accredited-data-recipient", isDefault: false, hasPersonaTag: true, shouldShow: true}
[DemoStep2] Field visibility check: companySize for accredited-data-recipient = true 
Object {fieldTags: Array(1), personaId: "accredited-data-recipient", isDefault: false, hasPersonaTag: true, shouldShow: true}
[DemoStep2] Field visibility check: emailInvite for accredited-data-recipient = true 
Object {fieldTags: Array(4), personaId: "accredited-data-recipient", isDefault: false, hasPersonaTag: true, shouldShow: true}
[DemoStep2] Field visibility check: demoCompany for accredited-data-recipient = false 
Object {fieldTags: Array(1), personaId: "accredited-data-recipient", isDefault: false, hasPersonaTag: false, shouldShow: false}
[DemoStep2] Validating field: persona 
Object {value: "Accredited Data Recipient", formData: {…}}
[DemoStep2] Persona validation: valid
[DemoStep2] Validating field: companyName 
Object {value: "TrustLink Partners", formData: {…}}
[DemoStep2] Company name validation: valid (18 chars)
[DemoStep2] Validating field: userFullName 
Object {value: "Ava King", formData: {…}}
[DemoStep2] Full name validation: valid (8 chars, 2 parts)
[DemoStep2] Validating field: userEmail 
Object {value: "aking@trustlink.com", formData: {…}}
[DemoStep2] Email validation: valid (aking@trustlink.com)
[DemoStep2] Form validation check: 
Object {validationResults: {…}, allValid: true, formData: {…}}
[DemoStepVisual] Rendering with currentStep: 2
[DemoStepVisual] Step 1 - Active: false, Asset: /assets/demo/steps/step-1-static.png
[DemoStepVisual] Step 2 - Active: true, Asset: /assets/demo/steps/step-2-animated.gif
[DemoStepVisual] Step 3 - Active: false, Asset: /assets/demo/steps/step-3-static.png
[DemoStep2] Rendering interactive demo 
Object {selectedPersona: "accredited-data-recipient"}
[DemoStep2] Validating field: persona 
Object {value: "Accredited Data Recipient", formData: {…}}
[DemoStep2] Persona validation: valid
[DemoStep2] Validating field: companyName 
Object {value: "TrustLink Partners", formData: {…}}
[DemoStep2] Company name validation: valid (18 chars)
[DemoStep2] Validating field: userFullName 
Object {value: "Ava King", formData: {…}}
[DemoStep2] Full name validation: valid (8 chars, 2 parts)
[DemoStep2] Validating field: userEmail 
Object {value: "aking@trustlink.com", formData: {…}}
[DemoStep2] Email validation: valid (aking@trustlink.com)
[DemoStep2] Field visibility check: riskProfile for accredited-data-recipient = true 
Object {fieldTags: Array(1), personaId: "accredited-data-recipient", isDefault: false, hasPersonaTag: true, shouldShow: true}
[DemoStep2] Field visibility check: companySize for accredited-data-recipient = true 
Object {fieldTags: Array(1), personaId: "accredited-data-recipient", isDefault: false, hasPersonaTag: true, shouldShow: true}
[DemoStep2] Field visibility check: emailInvite for accredited-data-recipient = true 
Object {fieldTags: Array(4), personaId: "accredited-data-recipient", isDefault: false, hasPersonaTag: true, shouldShow: true}
[DemoStep2] Field visibility check: demoCompany for accredited-data-recipient = false 
Object {fieldTags: Array(1), personaId: "accredited-data-recipient", isDefault: false, hasPersonaTag: false, shouldShow: false}
[DemoStep2] Validating field: persona 
Object {value: "Accredited Data Recipient", formData: {…}}
[DemoStep2] Persona validation: valid
[DemoStep2] Validating field: companyName 
Object {value: "TrustLink Partners", formData: {…}}
[DemoStep2] Company name validation: valid (18 chars)
[DemoStep2] Validating field: userFullName 
Object {value: "Ava King", formData: {…}}
[DemoStep2] Full name validation: valid (8 chars, 2 parts)
[DemoStep2] Validating field: userEmail 
Object {value: "aking@trustlink.com", formData: {…}}
[DemoStep2] Email validation: valid (aking@trustlink.com)
[DemoStep2] Form validation check: 
Object {validationResults: {…}, allValid: true, formData: {…}}
[DemoPage] Advancing to step 3
[DemoPage] Rendering step 3/3 
Object {selectedPersona: "accredited-data-recipient"}
[AuthLayout] Rendering with mode: demo, step: 3/3
[DemoStep3] Rendering results and next steps
