12:14:21 AM [info] GET /api/companies/current 304 in 59ms :: {"id":113,"name":"Vector","description":"FinTech partner company Vector","cat...
12:14:21 AM [info] GET /api/tasks 304 in 91ms :: [{"id":197,"title":"New User Invitation: e.v.a.nc.na.va.r.r.o@gmail.com","des...
[2025-03-18T00:14:21.254Z] New client connected to the pool
New WebSocket client connected
[Auth] Deserializing user: 150
[Files] Processing file upload request
[Files] File details: {
  originalname: 'soc2-type2 (1).pdf',
  mimetype: 'application/pdf',
  size: 760657,
  filename: '20250318001423.pdf'
}
[Files] Processing PDF file, extracting first pages
[PDF Service] Starting text extraction from first pages: {
  filePath: '/home/runner/workspace/uploads/documents/20250318001423.pdf',
  maxPages: 3,
  timestamp: '2025-03-18T00:14:23.434Z'
}
[PDF Service] Reading PDF file
[PDF Service] Extraction successful: {
  totalPages: 56,
  extractedPages: 3,
  timestamp: '2025-03-18T00:14:26.052Z'
}
[PDF Service] Truncating text to stay within token limits: { originalLength: 145224, truncatedLength: 64000 }
[Files] Starting document classification
[Auth] Deserializing user: 150
[Auth] Deserializing user: 150
[Current Company] Fetching company for user: { userId: 150, companyId: 113 }
[Tasks] ====== Starting task fetch =====
[Tasks] User details: { id: 150, company_id: 113, email: 'e.v.a.nc.na.va.r.r.o@gmail.com' }
[Current Company] Found company: { id: 113, name: 'Vector', onboardingCompleted: true }
[Tasks] KYB tasks found: {
  count: 1,
  tasks: [
    {
      id: 195,
      company_id: 113,
      task_scope: 'company',
      task_type: 'company_kyb',
      assigned_to: null,
      status: 'submitted'
    }
  ]
}
[Tasks] Query conditions: {
  conditions: {
    condition1: 'tasks.assigned_to = 150',
    condition2: 'tasks.created_by = 150',
    condition3: "tasks.company_id = 113 AND tasks.assigned_to IS NULL AND tasks.task_scope = 'company'",
    condition4: "tasks.task_type = 'user_onboarding' AND LOWER(tasks.user_email) = LOWER('e.v.a.nc.na.va.r.r.o@gmail.com')"
  }
}
[Tasks] Tasks found: {
  count: 3,
  tasks: [
    {
      id: 197,
      title: 'New User Invitation: e.v.a.nc.na.va.r.r.o@gmail.com',
      assigned_to: 150,
      company_id: 113,
      task_scope: 'user',
      task_type: 'user_onboarding',
      status: 'completed'
    },
    {
      id: 195,
      title: 'Company KYB: Vector',
      assigned_to: null,
      company_id: 113,
      task_scope: 'company',
      task_type: 'company_kyb',
      status: 'submitted'
    },
    {
      id: 196,
      title: 'Company CARD: Vector',
      assigned_to: null,
      company_id: 113,
      task_scope: 'company',
      task_type: 'company_card',
      status: 'in_progress'
    }
  ]
}
12:14:26 AM [info] GET /api/companies/current 304 in 61ms :: {"id":113,"name":"Vector","description":"FinTech partner company Vector","cat...
12:14:26 AM [info] GET /api/tasks 304 in 90ms :: [{"id":197,"title":"New User Invitation: e.v.a.nc.na.va.r.r.o@gmail.com","des...
[Files] Classification result: {
  category: 'soc2_audit',
  confidence: 0.9,
  reasoning: "The document contains detailed information on controls related to security, confidentiality, and availability of a cloud-hosted software application. It includes management's assertion, independent auditor's report, description of the system, testing matrices, and discussions on trust services categories."
}
[Files] Created file record: { id: 280, name: 'soc2-type2 (1).pdf', status: 'uploaded' }
12:14:27 AM [info] POST /api/files 201 in 4280ms :: {"id":280,"name":"soc2-type2 (1).pdf","size":760657,"type":"application/pdf",...
WebSocket client disconnected with code 1005 and reason: 
[Auth] Deserializing user: 150
New WebSocket client connected
[Files] Processing file upload request
[Files] File details: {
  originalname: 'Anonymized-ISO-27001-Assessment-Report.pdf',
  mimetype: 'application/pdf',
  size: 889081,
  filename: '20250318001427.pdf'
}
[Files] Processing PDF file, extracting first pages
[PDF Service] Starting text extraction from first pages: {
  filePath: '/home/runner/workspace/uploads/documents/20250318001427.pdf',
  maxPages: 3,
  timestamp: '2025-03-18T00:14:28.679Z'
}
[PDF Service] Reading PDF file
[PDF Service] Extraction successful: {
  totalPages: 50,
  extractedPages: 3,
  timestamp: '2025-03-18T00:14:30.273Z'
}
[PDF Service] Truncating text to stay within token limits: { originalLength: 75775, truncatedLength: 64000 }
[Files] Starting document classification
[Auth] Deserializing user: 150
[Auth] Deserializing user: 150
[Current Company] Fetching company for user: { userId: 150, companyId: 113 }
[Tasks] ====== Starting task fetch =====
[Tasks] User details: { id: 150, company_id: 113, email: 'e.v.a.nc.na.va.r.r.o@gmail.com' }
[Current Company] Found company: { id: 113, name: 'Vector', onboardingCompleted: true }
[Tasks] KYB tasks found: {
  count: 1,
  tasks: [
    {
      id: 195,
      company_id: 113,
      task_scope: 'company',
      task_type: 'company_kyb',
      assigned_to: null,
      status: 'submitted'
    }
  ]
}
[Tasks] Query conditions: {
  conditions: {
    condition1: 'tasks.assigned_to = 150',
    condition2: 'tasks.created_by = 150',
    condition3: "tasks.company_id = 113 AND tasks.assigned_to IS NULL AND tasks.task_scope = 'company'",
    condition4: "tasks.task_type = 'user_onboarding' AND LOWER(tasks.user_email) = LOWER('e.v.a.nc.na.va.r.r.o@gmail.com')"
  }
}
12:14:31 AM [info] GET /api/companies/current 304 in 60ms :: {"id":113,"name":"Vector","description":"FinTech partner company Vector","cat...
[Tasks] Tasks found: {
  count: 3,
  tasks: [
    {
      id: 197,
      title: 'New User Invitation: e.v.a.nc.na.va.r.r.o@gmail.com',
      assigned_to: 150,
      company_id: 113,
      task_scope: 'user',
      task_type: 'user_onboarding',
      status: 'completed'
    },
    {
      id: 195,
      title: 'Company KYB: Vector',
      assigned_to: null,
      company_id: 113,
      task_scope: 'company',
      task_type: 'company_kyb',
      status: 'submitted'
    },
    {
      id: 196,
      title: 'Company CARD: Vector',
      assigned_to: null,
      company_id: 113,
      task_scope: 'company',
      task_type: 'company_card',
      status: 'in_progress'
    }
  ]
}
12:14:31 AM [info] GET /api/tasks 304 in 93ms :: [{"id":197,"title":"New User Invitation: e.v.a.nc.na.va.r.r.o@gmail.com","des...
[Files] Classification result: {
  category: 'iso27001_cert',
  confidence: 1,
  reasoning: "The document is clearly structured with sections corresponding to ISO 27001 controls. It describes the organization's current state of ISMS and provides recommendations for achieving compliance with ISO 27001 standards. It includes information on key stakeholders interviewed, maturity levels for each ISO 27001 clause, methodology, and recommendations for each control area."
}
[Files] Created file record: {
  id: 281,
  name: 'Anonymized-ISO-27001-Assessment-Report.pdf',
  status: 'uploaded'
}
12:14:32 AM [info] POST /api/files 201 in 4258ms :: {"id":281,"name":"Anonymized-ISO-27001-Assessment-Report.pdf","size":889081,"...
WebSocket client disconnected with code 1005 and reason: 
New WebSocket client connected
WebSocket client disconnected with code 1005 and reason: 
New WebSocket client connected
WebSocket client disconnected with code 1005 and reason: 
New WebSocket client connected
WebSocket client disconnected with code 1005 and reason: 
[Auth] Deserializing user: 150
[2025-03-18T00:14:33.720Z] [INFO] [CardRoutes] Fetching CARD fields
12:14:33 AM [info] GET /api/card/fields 304 in 123ms :: [{"id":1,"field_key":"security_access_control","wizard_section":"Security","q...
[Auth] Deserializing user: 150
[Document Processing] Creating chunks for file: {
  fileId: 280,
  fileName: 'soc2-type2 (1).pdf',
  mimeType: 'application/pdf',
  timestamp: '2025-03-18T00:14:34.017Z'
}
[DocumentChunking] Starting document chunking: {
  filePath: '/home/runner/workspace/uploads/documents/20250318001423.pdf',
  mimeType: 'application/pdf',
  chunkSize: 4000,
  timestamp: '2025-03-18T00:14:34.018Z'
}
[PDF Service] Starting text extraction from first pages: {
  filePath: '/home/runner/workspace/uploads/documents/20250318001423.pdf',
  maxPages: 0,
  timestamp: '2025-03-18T00:14:34.018Z'
}
[PDF Service] Reading PDF file
[PDF Service] Extraction successful: {
  totalPages: 56,
  extractedPages: 0,
  timestamp: '2025-03-18T00:14:35.069Z'
}
[PDF Service] Truncating text to stay within token limits: { originalLength: 145224, truncatedLength: 64000 }
[DocumentChunking] Created chunk: {
  chunkIndex: 0,
  chunkSize: 0,
  totalChunks: 1,
  timestamp: '2025-03-18T00:14:35.071Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 1,
  chunkSize: 0,
  totalChunks: 2,
  timestamp: '2025-03-18T00:14:35.071Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 2,
  chunkSize: 0,
  totalChunks: 3,
  timestamp: '2025-03-18T00:14:35.071Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 3,
  chunkSize: 0,
  totalChunks: 4,
  timestamp: '2025-03-18T00:14:35.071Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 4,
  chunkSize: 0,
  totalChunks: 5,
  timestamp: '2025-03-18T00:14:35.071Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 5,
  chunkSize: 0,
  totalChunks: 6,
  timestamp: '2025-03-18T00:14:35.071Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 6,
  chunkSize: 0,
  totalChunks: 7,
  timestamp: '2025-03-18T00:14:35.072Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 7,
  chunkSize: 0,
  totalChunks: 8,
  timestamp: '2025-03-18T00:14:35.072Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 8,
  chunkSize: 0,
  totalChunks: 9,
  timestamp: '2025-03-18T00:14:35.072Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 9,
  chunkSize: 0,
  totalChunks: 10,
  timestamp: '2025-03-18T00:14:35.072Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 10,
  chunkSize: 0,
  totalChunks: 11,
  timestamp: '2025-03-18T00:14:35.072Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 11,
  chunkSize: 0,
  totalChunks: 12,
  timestamp: '2025-03-18T00:14:35.072Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 12,
  chunkSize: 0,
  totalChunks: 13,
  timestamp: '2025-03-18T00:14:35.072Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 13,
  chunkSize: 0,
  totalChunks: 14,
  timestamp: '2025-03-18T00:14:35.072Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 14,
  chunkSize: 0,
  totalChunks: 15,
  timestamp: '2025-03-18T00:14:35.072Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 15,
  chunkSize: 0,
  totalChunks: 16,
  timestamp: '2025-03-18T00:14:35.072Z'
}
[DocumentChunking] Chunks created: {
  totalChunks: 16,
  averageChunkSize: 4000,
  timestamp: '2025-03-18T00:14:35.072Z'
}
[Document Processing] Processing chunk: {
  fileId: 280,
  chunkIndex: 0,
  progress: '1/16',
  timestamp: '2025-03-18T00:14:35.103Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 0,
  contentLength: 3922,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:14:35.104Z'
}
[OpenAI Service] Starting document analysis: {
  textLength: 3922,
  fieldsCount: 90,
  fieldKeys: [
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null
  ],
  timestamp: '2025-03-18T00:14:35.104Z'
}
[OpenAI Service] Sending request: { promptLength: 15939, timestamp: '2025-03-18T00:14:35.106Z' }
12:14:35 AM [info] POST /api/documents/280/process 200 in 1164ms :: {"status":"processing","totalChunks":16}
[Auth] Deserializing user: 150
12:14:35 AM [info] GET /api/documents/280/progress 200 in 59ms :: {"status":"processing","progress":{"chunksProcessed":0,"totalChunks":1},"answ...
[OpenAI Service] Analysis completed: {
  answersFound: 1,
  duration: 678,
  fieldsAnswered: [ 'null' ],
  timestamp: '2025-03-18T00:14:35.782Z'
}
[DocumentChunking] Chunk processed: {
  chunkIndex: 0,
  answersFound: 1,
  timestamp: '2025-03-18T00:14:35.844Z'
}
[Document Processing] Chunk processing error: {
  fileId: 280,
  chunkIndex: 0,
  error: 'syntax error at or near "where"',
  timestamp: '2025-03-18T00:14:35.874Z'
}
[Document Processing] Processing chunk: {
  fileId: 280,
  chunkIndex: 1,
  progress: '2/16',
  timestamp: '2025-03-18T00:14:35.875Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 1,
  contentLength: 4000,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:14:35.875Z'
}
[OpenAI Service] Starting document analysis: {
  textLength: 4000,
  fieldsCount: 90,
  fieldKeys: [
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null
  ],
  timestamp: '2025-03-18T00:14:35.875Z'
}
[OpenAI Service] Sending request: { promptLength: 16017, timestamp: '2025-03-18T00:14:35.875Z' }
[OpenAI Service] Analysis completed: {
  answersFound: 0,
  duration: 452,
  fieldsAnswered: [],
  timestamp: '2025-03-18T00:14:36.327Z'
}
[DocumentChunking] Chunk processed: {
  chunkIndex: 1,
  answersFound: 0,
  timestamp: '2025-03-18T00:14:36.384Z'
}
[Auth] Deserializing user: 150
[Document Processing] Processing chunk: {
  fileId: 280,
  chunkIndex: 2,
  progress: '3/16',
  timestamp: '2025-03-18T00:14:36.485Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 2,
  contentLength: 4020,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:14:36.485Z'
}
[OpenAI Service] Starting document analysis: {
  textLength: 4020,
  fieldsCount: 90,
  fieldKeys: [
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null
  ],
  timestamp: '2025-03-18T00:14:36.485Z'
}
[OpenAI Service] Sending request: { promptLength: 16037, timestamp: '2025-03-18T00:14:36.486Z' }
12:14:36 AM [info] GET /api/documents/280/progress 304 in 58ms :: {"status":"processing","progress":{"chunksProcessed":0,"totalChunks":1},"answ...
[Auth] Deserializing user: 150
[Current Company] Fetching company for user: { userId: 150, companyId: 113 }
[Current Company] Found company: { id: 113, name: 'Vector', onboardingCompleted: true }
[Auth] Deserializing user: 150
12:14:36 AM [info] GET /api/companies/current 304 in 60ms :: {"id":113,"name":"Vector","description":"FinTech partner company Vector","cat...
[Tasks] ====== Starting task fetch =====
[Tasks] User details: { id: 150, company_id: 113, email: 'e.v.a.nc.na.va.r.r.o@gmail.com' }
[Tasks] KYB tasks found: {
  count: 1,
  tasks: [
    {
      id: 195,
      company_id: 113,
      task_scope: 'company',
      task_type: 'company_kyb',
      assigned_to: null,
      status: 'submitted'
    }
  ]
}
[Tasks] Query conditions: {
  conditions: {
    condition1: 'tasks.assigned_to = 150',
    condition2: 'tasks.created_by = 150',
    condition3: "tasks.company_id = 113 AND tasks.assigned_to IS NULL AND tasks.task_scope = 'company'",
    condition4: "tasks.task_type = 'user_onboarding' AND LOWER(tasks.user_email) = LOWER('e.v.a.nc.na.va.r.r.o@gmail.com')"
  }
}
[Tasks] Tasks found: {
  count: 3,
  tasks: [
    {
      id: 197,
      title: 'New User Invitation: e.v.a.nc.na.va.r.r.o@gmail.com',
      assigned_to: 150,
      company_id: 113,
      task_scope: 'user',
      task_type: 'user_onboarding',
      status: 'completed'
    },
    {
      id: 195,
      title: 'Company KYB: Vector',
      assigned_to: null,
      company_id: 113,
      task_scope: 'company',
      task_type: 'company_kyb',
      status: 'submitted'
    },
    {
      id: 196,
      title: 'Company CARD: Vector',
      assigned_to: null,
      company_id: 113,
      task_scope: 'company',
      task_type: 'company_card',
      status: 'in_progress'
    }
  ]
}
12:14:36 AM [info] GET /api/tasks 304 in 88ms :: [{"id":197,"title":"New User Invitation: e.v.a.nc.na.va.r.r.o@gmail.com","des...
[OpenAI Service] Analysis completed: {
  answersFound: 1,
  duration: 819,
  fieldsAnswered: [ 'null' ],
  timestamp: '2025-03-18T00:14:37.304Z'
}
[DocumentChunking] Chunk processed: {
  chunkIndex: 2,
  answersFound: 1,
  timestamp: '2025-03-18T00:14:37.362Z'
}
[Document Processing] Chunk processing error: {
  fileId: 280,
  chunkIndex: 2,
  error: 'syntax error at or near "where"',
  timestamp: '2025-03-18T00:14:37.391Z'
}
[Document Processing] Processing chunk: {
  fileId: 280,
  chunkIndex: 3,
  progress: '4/16',
  timestamp: '2025-03-18T00:14:37.391Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 3,
  contentLength: 4000,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:14:37.391Z'
}
[OpenAI Service] Starting document analysis: {
  textLength: 4000,
  fieldsCount: 90,
  fieldKeys: [
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null
  ],
  timestamp: '2025-03-18T00:14:37.391Z'
}
[OpenAI Service] Sending request: { promptLength: 16017, timestamp: '2025-03-18T00:14:37.391Z' }
[Auth] Deserializing user: 150
12:14:37 AM [info] GET /api/documents/280/progress 304 in 63ms :: {"status":"processing","progress":{"chunksProcessed":0,"totalChunks":1},"answ...
[OpenAI Service] Analysis completed: {
  answersFound: 1,
  duration: 1174,
  fieldsAnswered: [ 'null' ],
  timestamp: '2025-03-18T00:14:38.565Z'
}
[DocumentChunking] Chunk processed: {
  chunkIndex: 3,
  answersFound: 1,
  timestamp: '2025-03-18T00:14:38.622Z'
}
[Document Processing] Chunk processing error: {
  fileId: 280,
  chunkIndex: 3,
  error: 'syntax error at or near "where"',
  timestamp: '2025-03-18T00:14:38.652Z'
}
[Document Processing] Processing chunk: {
  fileId: 280,
  chunkIndex: 4,
  progress: '5/16',
  timestamp: '2025-03-18T00:14:38.652Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 4,
  contentLength: 3952,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:14:38.653Z'
}
[OpenAI Service] Starting document analysis: {
  textLength: 3952,
  fieldsCount: 90,
  fieldKeys: [
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null
  ],
  timestamp: '2025-03-18T00:14:38.653Z'
}
[OpenAI Service] Sending request: { promptLength: 15969, timestamp: '2025-03-18T00:14:38.653Z' }
[2025-03-18T00:14:38.874Z] New client connected to the pool
[Auth] Deserializing user: 150
12:14:39 AM [info] GET /api/documents/280/progress 304 in 59ms :: {"status":"processing","progress":{"chunksProcessed":0,"totalChunks":1},"answ...
[WebSocket] Received pong from client
[Auth] Deserializing user: 150
[OpenAI Service] Analysis completed: {
  answersFound: 1,
  duration: 1461,
  fieldsAnswered: [ 'null' ],
  timestamp: '2025-03-18T00:14:40.114Z'
}
12:14:40 AM [info] GET /api/documents/280/progress 304 in 59ms :: {"status":"processing","progress":{"chunksProcessed":0,"totalChunks":1},"answ...
[2025-03-18T00:14:40.201Z] New client connected to the pool
[DocumentChunking] Chunk processed: {
  chunkIndex: 4,
  answersFound: 1,
  timestamp: '2025-03-18T00:14:40.267Z'
}
[Document Processing] Chunk processing error: {
  fileId: 280,
  chunkIndex: 4,
  error: 'syntax error at or near "where"',
  timestamp: '2025-03-18T00:14:40.296Z'
}
[Document Processing] Processing chunk: {
  fileId: 280,
  chunkIndex: 5,
  progress: '6/16',
  timestamp: '2025-03-18T00:14:40.296Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 5,
  contentLength: 4077,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:14:40.296Z'
}
[OpenAI Service] Starting document analysis: {
  textLength: 4077,
  fieldsCount: 90,
  fieldKeys: [
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null
  ],
  timestamp: '2025-03-18T00:14:40.296Z'
}
[OpenAI Service] Sending request: { promptLength: 16094, timestamp: '2025-03-18T00:14:40.296Z' }
[OpenAI Service] Analysis completed: {
  answersFound: 1,
  duration: 752,
  fieldsAnswered: [ 'null' ],
  timestamp: '2025-03-18T00:14:41.048Z'
}
[DocumentChunking] Chunk processed: {
  chunkIndex: 5,
  answersFound: 1,
  timestamp: '2025-03-18T00:14:41.110Z'
}
[Document Processing] Chunk processing error: {
  fileId: 280,
  chunkIndex: 5,
  error: 'syntax error at or near "where"',
  timestamp: '2025-03-18T00:14:41.139Z'
}
[Document Processing] Processing chunk: {
  fileId: 280,
  chunkIndex: 6,
  progress: '7/16',
  timestamp: '2025-03-18T00:14:41.139Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 6,
  contentLength: 4000,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:14:41.140Z'
}
[OpenAI Service] Starting document analysis: {
  textLength: 4000,
  fieldsCount: 90,
  fieldKeys: [
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null
  ],
  timestamp: '2025-03-18T00:14:41.140Z'
}
[OpenAI Service] Sending request: { promptLength: 16017, timestamp: '2025-03-18T00:14:41.140Z' }
[2025-03-18T00:14:41.354Z] New client connected to the pool
[Auth] Deserializing user: 150
12:14:41 AM [info] GET /api/documents/280/progress 304 in 62ms :: {"status":"processing","progress":{"chunksProcessed":0,"totalChunks":1},"answ...
[Auth] Deserializing user: 150
[OpenAI Service] Analysis completed: {
  answersFound: 1,
  duration: 781,
  fieldsAnswered: [ 'null' ],
  timestamp: '2025-03-18T00:14:41.921Z'
}
[Current Company] Fetching company for user: { userId: 150, companyId: 113 }
[Current Company] Found company: { id: 113, name: 'Vector', onboardingCompleted: true }
[2025-03-18T00:14:42.006Z] New client connected to the pool
12:14:42 AM [info] GET /api/companies/current 304 in 62ms :: {"id":113,"name":"Vector","description":"FinTech partner company Vector","cat...
[2025-03-18T00:14:42.057Z] New client connected to the pool
[DocumentChunking] Chunk processed: {
  chunkIndex: 6,
  answersFound: 1,
  timestamp: '2025-03-18T00:14:42.073Z'
}
[Auth] Deserializing user: 150
[Document Processing] Chunk processing error: {
  fileId: 280,
  chunkIndex: 6,
  error: 'syntax error at or near "where"',
  timestamp: '2025-03-18T00:14:42.104Z'
}
[Document Processing] Processing chunk: {
  fileId: 280,
  chunkIndex: 7,
  progress: '8/16',
  timestamp: '2025-03-18T00:14:42.104Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 7,
  contentLength: 4014,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:14:42.104Z'
}
[OpenAI Service] Starting document analysis: {
  textLength: 4014,
  fieldsCount: 90,
  fieldKeys: [
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null
  ],
  timestamp: '2025-03-18T00:14:42.104Z'
}
[OpenAI Service] Sending request: { promptLength: 16031, timestamp: '2025-03-18T00:14:42.104Z' }
[Tasks] ====== Starting task fetch =====
[Tasks] User details: { id: 150, company_id: 113, email: 'e.v.a.nc.na.va.r.r.o@gmail.com' }
[Tasks] KYB tasks found: {
  count: 1,
  tasks: [
    {
      id: 195,
      company_id: 113,
      task_scope: 'company',
      task_type: 'company_kyb',
      assigned_to: null,
      status: 'submitted'
    }
  ]
}
[Tasks] Query conditions: {
  conditions: {
    condition1: 'tasks.assigned_to = 150',
    condition2: 'tasks.created_by = 150',
    condition3: "tasks.company_id = 113 AND tasks.assigned_to IS NULL AND tasks.task_scope = 'company'",
    condition4: "tasks.task_type = 'user_onboarding' AND LOWER(tasks.user_email) = LOWER('e.v.a.nc.na.va.r.r.o@gmail.com')"
  }
}
[Tasks] Tasks found: {
  count: 3,
  tasks: [
    {
      id: 197,
      title: 'New User Invitation: e.v.a.nc.na.va.r.r.o@gmail.com',
      assigned_to: 150,
      company_id: 113,
      task_scope: 'user',
      task_type: 'user_onboarding',
      status: 'completed'
    },
    {
      id: 195,
      title: 'Company KYB: Vector',
      assigned_to: null,
      company_id: 113,
      task_scope: 'company',
      task_type: 'company_kyb',
      status: 'submitted'
    },
    {
      id: 196,
      title: 'Company CARD: Vector',
      assigned_to: null,
      company_id: 113,
      task_scope: 'company',
      task_type: 'company_card',
      status: 'in_progress'
    }
  ]
}
12:14:42 AM [info] GET /api/tasks 304 in 96ms :: [{"id":197,"title":"New User Invitation: e.v.a.nc.na.va.r.r.o@gmail.com","des...
[Auth] Deserializing user: 150
[OpenAI Service] Analysis completed: {
  answersFound: 0,
  duration: 575,
  fieldsAnswered: [],
  timestamp: '2025-03-18T00:14:42.679Z'
}
12:14:42 AM [info] GET /api/documents/280/progress 304 in 62ms :: {"status":"processing","progress":{"chunksProcessed":0,"totalChunks":1},"answ...
[DocumentChunking] Chunk processed: {
  chunkIndex: 7,
  answersFound: 0,
  timestamp: '2025-03-18T00:14:42.739Z'
}
[Document Processing] Processing chunk: {
  fileId: 280,
  chunkIndex: 8,
  progress: '9/16',
  timestamp: '2025-03-18T00:14:42.840Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 8,
  contentLength: 3971,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:14:42.840Z'
}
[OpenAI Service] Starting document analysis: {
  textLength: 3971,
  fieldsCount: 90,
  fieldKeys: [
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null
  ],
  timestamp: '2025-03-18T00:14:42.840Z'
}
[OpenAI Service] Sending request: { promptLength: 15988, timestamp: '2025-03-18T00:14:42.840Z' }
[OpenAI Service] Analysis completed: {
  answersFound: 1,
  duration: 650,
  fieldsAnswered: [ 'null' ],
  timestamp: '2025-03-18T00:14:43.490Z'
}
[DocumentChunking] Chunk processed: {
  chunkIndex: 8,
  answersFound: 1,
  timestamp: '2025-03-18T00:14:43.549Z'
}
[Document Processing] Chunk processing error: {
  fileId: 280,
  chunkIndex: 8,
  error: 'syntax error at or near "where"',
  timestamp: '2025-03-18T00:14:43.579Z'
}
[Document Processing] Processing chunk: {
  fileId: 280,
  chunkIndex: 9,
  progress: '10/16',
  timestamp: '2025-03-18T00:14:43.579Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 9,
  contentLength: 3976,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:14:43.579Z'
}
[OpenAI Service] Starting document analysis: {
  textLength: 3976,
  fieldsCount: 90,
  fieldKeys: [
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null
  ],
  timestamp: '2025-03-18T00:14:43.579Z'
}
[OpenAI Service] Sending request: { promptLength: 15993, timestamp: '2025-03-18T00:14:43.579Z' }
[Auth] Deserializing user: 150
12:14:43 AM [info] GET /api/documents/280/progress 304 in 62ms :: {"status":"processing","progress":{"chunksProcessed":0,"totalChunks":1},"answ...
[Auth] Deserializing user: 150
12:14:45 AM [info] GET /api/documents/280/progress 304 in 58ms :: {"status":"processing","progress":{"chunksProcessed":0,"totalChunks":1},"answ...
[Auth] Deserializing user: 150
12:14:46 AM [info] GET /api/documents/280/progress 304 in 60ms :: {"status":"processing","progress":{"chunksProcessed":0,"totalChunks":1},"answ...
[Auth] Deserializing user: 150
[Current Company] Fetching company for user: { userId: 150, companyId: 113 }
[Current Company] Found company: { id: 113, name: 'Vector', onboardingCompleted: true }
12:14:47 AM [info] GET /api/companies/current 304 in 61ms :: {"id":113,"name":"Vector","description":"FinTech partner company Vector","cat...
[Auth] Deserializing user: 150
[Tasks] ====== Starting task fetch =====
[Tasks] User details: { id: 150, company_id: 113, email: 'e.v.a.nc.na.va.r.r.o@gmail.com' }
[Tasks] KYB tasks found: {
  count: 1,
  tasks: [
    {
      id: 195,
      company_id: 113,
      task_scope: 'company',
      task_type: 'company_kyb',
      assigned_to: null,
      status: 'submitted'
    }
  ]
}
[Tasks] Query conditions: {
  conditions: {
    condition1: 'tasks.assigned_to = 150',
    condition2: 'tasks.created_by = 150',
    condition3: "tasks.company_id = 113 AND tasks.assigned_to IS NULL AND tasks.task_scope = 'company'",
    condition4: "tasks.task_type = 'user_onboarding' AND LOWER(tasks.user_email) = LOWER('e.v.a.nc.na.va.r.r.o@gmail.com')"
  }
}
[Tasks] Tasks found: {
  count: 3,
  tasks: [
    {
      id: 197,
      title: 'New User Invitation: e.v.a.nc.na.va.r.r.o@gmail.com',
      assigned_to: 150,
      company_id: 113,
      task_scope: 'user',
      task_type: 'user_onboarding',
      status: 'completed'
    },
    {
      id: 195,
      title: 'Company KYB: Vector',
      assigned_to: null,
      company_id: 113,
      task_scope: 'company',
      task_type: 'company_kyb',
      status: 'submitted'
    },
    {
      id: 196,
      title: 'Company CARD: Vector',
      assigned_to: null,
      company_id: 113,
      task_scope: 'company',
      task_type: 'company_card',
      status: 'in_progress'
    }
  ]
}
[2025-03-18T00:14:47.438Z] New client connected to the pool
12:14:47 AM [info] GET /api/tasks 304 in 96ms :: [{"id":197,"title":"New User Invitation: e.v.a.nc.na.va.r.r.o@gmail.com","des...
[Auth] Deserializing user: 150
12:14:47 AM [info] GET /api/documents/280/progress 304 in 59ms :: {"status":"processing","progress":{"chunksProcessed":0,"totalChunks":1},"answ...
[Auth] Deserializing user: 150
12:14:48 AM [info] GET /api/documents/280/progress 304 in 65ms :: {"status":"processing","progress":{"chunksProcessed":0,"totalChunks":1},"answ...
[Auth] Deserializing user: 150
12:14:49 AM [info] GET /api/documents/280/progress 304 in 59ms :: {"status":"processing","progress":{"chunksProcessed":0,"totalChunks":1},"answ...
[OpenAI Service] Analysis completed: {
  answersFound: 6,
  duration: 6901,
  fieldsAnswered: [ 'null', 'null', 'null', 'null', 'null', 'null' ],
  timestamp: '2025-03-18T00:14:50.480Z'
}
[DocumentChunking] Chunk processed: {
  chunkIndex: 9,
  answersFound: 6,
  timestamp: '2025-03-18T00:14:50.539Z'
}
[Document Processing] Chunk processing error: {
  fileId: 280,
  chunkIndex: 9,
  error: 'syntax error at or near "where"',
  timestamp: '2025-03-18T00:14:50.567Z'
}
[Document Processing] Processing chunk: {
  fileId: 280,
  chunkIndex: 10,
  progress: '11/16',
  timestamp: '2025-03-18T00:14:50.567Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 10,
  contentLength: 4026,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:14:50.568Z'
}
[OpenAI Service] Starting document analysis: {
  textLength: 4026,
  fieldsCount: 90,
  fieldKeys: [
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null
  ],
  timestamp: '2025-03-18T00:14:50.568Z'
}
[OpenAI Service] Sending request: { promptLength: 16043, timestamp: '2025-03-18T00:14:50.568Z' }
[Auth] Deserializing user: 150
12:14:51 AM [info] GET /api/documents/280/progress 304 in 66ms :: {"status":"processing","progress":{"chunksProcessed":0,"totalChunks":1},"answ...
[OpenAI Service] Analysis completed: {
  answersFound: 1,
  duration: 742,
  fieldsAnswered: [ 'null' ],
  timestamp: '2025-03-18T00:14:51.310Z'
}
[DocumentChunking] Chunk processed: {
  chunkIndex: 10,
  answersFound: 1,
  timestamp: '2025-03-18T00:14:51.371Z'
}
[Document Processing] Chunk processing error: {
  fileId: 280,
  chunkIndex: 10,
  error: 'syntax error at or near "where"',
  timestamp: '2025-03-18T00:14:51.404Z'
}
[Document Processing] Processing chunk: {
  fileId: 280,
  chunkIndex: 11,
  progress: '12/16',
  timestamp: '2025-03-18T00:14:51.404Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 11,
  contentLength: 4017,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:14:51.404Z'
}
[OpenAI Service] Starting document analysis: {
  textLength: 4017,
  fieldsCount: 90,
  fieldKeys: [
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null
  ],
  timestamp: '2025-03-18T00:14:51.404Z'
}
[OpenAI Service] Sending request: { promptLength: 16034, timestamp: '2025-03-18T00:14:51.405Z' }
[2025-03-18T00:14:52.308Z] New client connected to the pool
[Auth] Deserializing user: 150
[2025-03-18T00:14:52.384Z] New client connected to the pool
[Auth] Deserializing user: 150
12:14:52 AM [info] GET /api/documents/280/progress 304 in 66ms :: {"status":"processing","progress":{"chunksProcessed":0,"totalChunks":1},"answ...
[Current Company] Fetching company for user: { userId: 150, companyId: 113 }
[Current Company] Found company: { id: 113, name: 'Vector', onboardingCompleted: true }
12:14:52 AM [info] GET /api/companies/current 304 in 61ms :: {"id":113,"name":"Vector","description":"FinTech partner company Vector","cat...
[Auth] Deserializing user: 150
[Tasks] ====== Starting task fetch =====
[Tasks] User details: { id: 150, company_id: 113, email: 'e.v.a.nc.na.va.r.r.o@gmail.com' }
[Tasks] KYB tasks found: {
  count: 1,
  tasks: [
    {
      id: 195,
      company_id: 113,
      task_scope: 'company',
      task_type: 'company_kyb',
      assigned_to: null,
      status: 'submitted'
    }
  ]
}
[Tasks] Query conditions: {
  conditions: {
    condition1: 'tasks.assigned_to = 150',
    condition2: 'tasks.created_by = 150',
    condition3: "tasks.company_id = 113 AND tasks.assigned_to IS NULL AND tasks.task_scope = 'company'",
    condition4: "tasks.task_type = 'user_onboarding' AND LOWER(tasks.user_email) = LOWER('e.v.a.nc.na.va.r.r.o@gmail.com')"
  }
}
[Tasks] Tasks found: {
  count: 3,
  tasks: [
    {
      id: 197,
      title: 'New User Invitation: e.v.a.nc.na.va.r.r.o@gmail.com',
      assigned_to: 150,
      company_id: 113,
      task_scope: 'user',
      task_type: 'user_onboarding',
      status: 'completed'
    },
    {
      id: 195,
      title: 'Company KYB: Vector',
      assigned_to: null,
      company_id: 113,
      task_scope: 'company',
      task_type: 'company_kyb',
      status: 'submitted'
    },
    {
      id: 196,
      title: 'Company CARD: Vector',
      assigned_to: null,
      company_id: 113,
      task_scope: 'company',
      task_type: 'company_card',
      status: 'in_progress'
    }
  ]
}
12:14:52 AM [info] GET /api/tasks 304 in 91ms :: [{"id":197,"title":"New User Invitation: e.v.a.nc.na.va.r.r.o@gmail.com","des...
[Auth] Deserializing user: 150
12:14:53 AM [info] GET /api/documents/280/progress 304 in 61ms :: {"status":"processing","progress":{"chunksProcessed":0,"totalChunks":1},"answ...
[Auth] Deserializing user: 150
12:14:54 AM [info] GET /api/documents/280/progress 304 in 81ms :: {"status":"processing","progress":{"chunksProcessed":0,"totalChunks":1},"answ...
[OpenAI Service] Analysis completed: {
  answersFound: 3,
  duration: 3716,
  fieldsAnswered: [ 'null', 'null', 'null' ],
  timestamp: '2025-03-18T00:14:55.120Z'
}
[DocumentChunking] Chunk processed: {
  chunkIndex: 11,
  answersFound: 3,
  timestamp: '2025-03-18T00:14:55.178Z'
}
[Document Processing] Chunk processing error: {
  fileId: 280,
  chunkIndex: 11,
  error: 'syntax error at or near "where"',
  timestamp: '2025-03-18T00:14:55.207Z'
}
[Document Processing] Processing chunk: {
  fileId: 280,
  chunkIndex: 12,
  progress: '13/16',
  timestamp: '2025-03-18T00:14:55.207Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 12,
  contentLength: 4005,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:14:55.207Z'
}
[OpenAI Service] Starting document analysis: {
  textLength: 4005,
  fieldsCount: 90,
  fieldKeys: [
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null
  ],
  timestamp: '2025-03-18T00:14:55.207Z'
}
[OpenAI Service] Sending request: { promptLength: 16022, timestamp: '2025-03-18T00:14:55.208Z' }
[Auth] Deserializing user: 150
12:14:56 AM [info] GET /api/documents/280/progress 304 in 61ms :: {"status":"processing","progress":{"chunksProcessed":0,"totalChunks":1},"answ...
[Auth] Deserializing user: 150
12:14:57 AM [info] GET /api/documents/280/progress 304 in 64ms :: {"status":"processing","progress":{"chunksProcessed":0,"totalChunks":1},"answ...
[OpenAI Service] Analysis completed: {
  answersFound: 1,
  duration: 2194,
  fieldsAnswered: [ 'null' ],
  timestamp: '2025-03-18T00:14:57.401Z'
}
[DocumentChunking] Chunk processed: {
  chunkIndex: 12,
  answersFound: 1,
  timestamp: '2025-03-18T00:14:57.460Z'
}
[Document Processing] Chunk processing error: {
  fileId: 280,
  chunkIndex: 12,
  error: 'syntax error at or near "where"',
  timestamp: '2025-03-18T00:14:57.489Z'
}
[Document Processing] Processing chunk: {
  fileId: 280,
  chunkIndex: 13,
  progress: '14/16',
  timestamp: '2025-03-18T00:14:57.490Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 13,
  contentLength: 4035,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:14:57.490Z'
}
[OpenAI Service] Starting document analysis: {
  textLength: 4035,
  fieldsCount: 90,
  fieldKeys: [
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null
  ],
  timestamp: '2025-03-18T00:14:57.490Z'
}
[OpenAI Service] Sending request: { promptLength: 16052, timestamp: '2025-03-18T00:14:57.490Z' }
[2025-03-18T00:14:57.677Z] New client connected to the pool
[Auth] Deserializing user: 150
[Current Company] Fetching company for user: { userId: 150, companyId: 113 }
[Current Company] Found company: { id: 113, name: 'Vector', onboardingCompleted: true }
12:14:57 AM [info] GET /api/companies/current 304 in 64ms :: {"id":113,"name":"Vector","description":"FinTech partner company Vector","cat...
[2025-03-18T00:14:57.833Z] New client connected to the pool
[Auth] Deserializing user: 150
[Tasks] ====== Starting task fetch =====
[Tasks] User details: { id: 150, company_id: 113, email: 'e.v.a.nc.na.va.r.r.o@gmail.com' }
[Tasks] KYB tasks found: {
  count: 1,
  tasks: [
    {
      id: 195,
      company_id: 113,
      task_scope: 'company',
      task_type: 'company_kyb',
      assigned_to: null,
      status: 'submitted'
    }
  ]
}
[Tasks] Query conditions: {
  conditions: {
    condition1: 'tasks.assigned_to = 150',
    condition2: 'tasks.created_by = 150',
    condition3: "tasks.company_id = 113 AND tasks.assigned_to IS NULL AND tasks.task_scope = 'company'",
    condition4: "tasks.task_type = 'user_onboarding' AND LOWER(tasks.user_email) = LOWER('e.v.a.nc.na.va.r.r.o@gmail.com')"
  }
}
[Tasks] Tasks found: {
  count: 3,
  tasks: [
    {
      id: 197,
      title: 'New User Invitation: e.v.a.nc.na.va.r.r.o@gmail.com',
      assigned_to: 150,
      company_id: 113,
      task_scope: 'user',
      task_type: 'user_onboarding',
      status: 'completed'
    },
    {
      id: 195,
      title: 'Company KYB: Vector',
      assigned_to: null,
      company_id: 113,
      task_scope: 'company',
      task_type: 'company_kyb',
      status: 'submitted'
    },
    {
      id: 196,
      title: 'Company CARD: Vector',
      assigned_to: null,
      company_id: 113,
      task_scope: 'company',
      task_type: 'company_card',
      status: 'in_progress'
    }
  ]
}
12:14:57 AM [info] GET /api/tasks 304 in 91ms :: [{"id":197,"title":"New User Invitation: e.v.a.nc.na.va.r.r.o@gmail.com","des...
[OpenAI Service] Analysis completed: {
  answersFound: 1,
  duration: 644,
  fieldsAnswered: [ 'null' ],
  timestamp: '2025-03-18T00:14:58.134Z'
}
[DocumentChunking] Chunk processed: {
  chunkIndex: 13,
  answersFound: 1,
  timestamp: '2025-03-18T00:14:58.192Z'
}
[Document Processing] Chunk processing error: {
  fileId: 280,
  chunkIndex: 13,
  error: 'syntax error at or near "where"',
  timestamp: '2025-03-18T00:14:58.221Z'
}
[Document Processing] Processing chunk: {
  fileId: 280,
  chunkIndex: 14,
  progress: '15/16',
  timestamp: '2025-03-18T00:14:58.221Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 14,
  contentLength: 4032,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:14:58.221Z'
}
[OpenAI Service] Starting document analysis: {
  textLength: 4032,
  fieldsCount: 90,
  fieldKeys: [
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null
  ],
  timestamp: '2025-03-18T00:14:58.221Z'
}
[OpenAI Service] Sending request: { promptLength: 16049, timestamp: '2025-03-18T00:14:58.222Z' }
[Auth] Deserializing user: 150
12:14:58 AM [info] GET /api/documents/280/progress 304 in 59ms :: {"status":"processing","progress":{"chunksProcessed":0,"totalChunks":1},"answ...
[OpenAI Service] Analysis completed: {
  answersFound: 1,
  duration: 634,
  fieldsAnswered: [ 'null' ],
  timestamp: '2025-03-18T00:14:58.855Z'
}
[DocumentChunking] Chunk processed: {
  chunkIndex: 14,
  answersFound: 1,
  timestamp: '2025-03-18T00:14:58.917Z'
}
[Document Processing] Chunk processing error: {
  fileId: 280,
  chunkIndex: 14,
  error: 'syntax error at or near "where"',
  timestamp: '2025-03-18T00:14:58.946Z'
}
[Document Processing] Processing chunk: {
  fileId: 280,
  chunkIndex: 15,
  progress: '16/16',
  timestamp: '2025-03-18T00:14:58.946Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 15,
  contentLength: 3953,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:14:58.946Z'
}
[OpenAI Service] Starting document analysis: {
  textLength: 3953,
  fieldsCount: 90,
  fieldKeys: [
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null
  ],
  timestamp: '2025-03-18T00:14:58.946Z'
}
[OpenAI Service] Sending request: { promptLength: 15970, timestamp: '2025-03-18T00:14:58.946Z' }
[2025-03-18T00:14:59.555Z] New client connected to the pool
[Auth] Deserializing user: 150
12:14:59 AM [info] GET /api/documents/280/progress 304 in 58ms :: {"status":"processing","progress":{"chunksProcessed":0,"totalChunks":1},"answ...
[OpenAI Service] Analysis completed: {
  answersFound: 1,
  duration: 964,
  fieldsAnswered: [ 'null' ],
  timestamp: '2025-03-18T00:14:59.910Z'
}
[DocumentChunking] Chunk processed: {
  chunkIndex: 15,
  answersFound: 1,
  timestamp: '2025-03-18T00:14:59.967Z'
}
[Document Processing] Chunk processing error: {
  fileId: 280,
  chunkIndex: 15,
  error: 'syntax error at or near "where"',
  timestamp: '2025-03-18T00:14:59.996Z'
}
[2025-03-18T00:15:00.095Z] New client connected to the pool
[Auth] Deserializing user: 150
12:15:00 AM [info] GET /api/documents/280/progress 200 in 59ms :: {"status":"processed","progress":{"chunksProcessed":0,"totalChunks":1},"answe...
[Auth] Deserializing user: 150
[2025-03-18T00:15:01.112Z] New client connected to the pool
12:15:01 AM [info] GET /api/documents/280/results 200 in 151ms :: {"status":"completed","answers":[],"answersFound":0}
[Auth] Deserializing user: 150
[Document Processing] Creating chunks for file: {
  fileId: 281,
  fileName: 'Anonymized-ISO-27001-Assessment-Report.pdf',
  mimeType: 'application/pdf',
  timestamp: '2025-03-18T00:15:01.310Z'
}
[DocumentChunking] Starting document chunking: {
  filePath: '/home/runner/workspace/uploads/documents/20250318001427.pdf',
  mimeType: 'application/pdf',
  chunkSize: 4000,
  timestamp: '2025-03-18T00:15:01.311Z'
}
[PDF Service] Starting text extraction from first pages: {
  filePath: '/home/runner/workspace/uploads/documents/20250318001427.pdf',
  maxPages: 0,
  timestamp: '2025-03-18T00:15:01.311Z'
}
[PDF Service] Reading PDF file
[PDF Service] Extraction successful: {
  totalPages: 50,
  extractedPages: 0,
  timestamp: '2025-03-18T00:15:02.508Z'
}
[PDF Service] Truncating text to stay within token limits: { originalLength: 75775, truncatedLength: 64000 }
[DocumentChunking] Created chunk: {
  chunkIndex: 0,
  chunkSize: 0,
  totalChunks: 1,
  timestamp: '2025-03-18T00:15:02.509Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 1,
  chunkSize: 0,
  totalChunks: 2,
  timestamp: '2025-03-18T00:15:02.509Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 2,
  chunkSize: 0,
  totalChunks: 3,
  timestamp: '2025-03-18T00:15:02.509Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 3,
  chunkSize: 0,
  totalChunks: 4,
  timestamp: '2025-03-18T00:15:02.509Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 4,
  chunkSize: 0,
  totalChunks: 5,
  timestamp: '2025-03-18T00:15:02.509Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 5,
  chunkSize: 0,
  totalChunks: 6,
  timestamp: '2025-03-18T00:15:02.509Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 6,
  chunkSize: 0,
  totalChunks: 7,
  timestamp: '2025-03-18T00:15:02.509Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 7,
  chunkSize: 0,
  totalChunks: 8,
  timestamp: '2025-03-18T00:15:02.509Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 8,
  chunkSize: 0,
  totalChunks: 9,
  timestamp: '2025-03-18T00:15:02.510Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 9,
  chunkSize: 0,
  totalChunks: 10,
  timestamp: '2025-03-18T00:15:02.510Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 10,
  chunkSize: 0,
  totalChunks: 11,
  timestamp: '2025-03-18T00:15:02.510Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 11,
  chunkSize: 0,
  totalChunks: 12,
  timestamp: '2025-03-18T00:15:02.510Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 12,
  chunkSize: 0,
  totalChunks: 13,
  timestamp: '2025-03-18T00:15:02.510Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 13,
  chunkSize: 0,
  totalChunks: 14,
  timestamp: '2025-03-18T00:15:02.510Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 14,
  chunkSize: 0,
  totalChunks: 15,
  timestamp: '2025-03-18T00:15:02.510Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 15,
  chunkSize: 0,
  totalChunks: 16,
  timestamp: '2025-03-18T00:15:02.510Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 16,
  chunkSize: 0,
  totalChunks: 17,
  timestamp: '2025-03-18T00:15:02.510Z'
}
[DocumentChunking] Chunks created: {
  totalChunks: 17,
  averageChunkSize: 3764.705882352941,
  timestamp: '2025-03-18T00:15:02.510Z'
}
[Auth] Deserializing user: 150
[Document Processing] Processing chunk: {
  fileId: 281,
  chunkIndex: 0,
  progress: '1/17',
  timestamp: '2025-03-18T00:15:02.544Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 0,
  contentLength: 4000,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:15:02.544Z'
}
[OpenAI Service] Starting document analysis: {
  textLength: 4000,
  fieldsCount: 90,
  fieldKeys: [
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null
  ],
  timestamp: '2025-03-18T00:15:02.544Z'
}
[OpenAI Service] Sending request: { promptLength: 16017, timestamp: '2025-03-18T00:15:02.544Z' }
12:15:02 AM [info] POST /api/documents/281/process 200 in 1293ms :: {"status":"processing","totalChunks":17}
[WebSocket] Received pong from client
[Document Processing] Creating chunks for file: {
  fileId: 280,
  fileName: 'soc2-type2 (1).pdf',
  mimeType: 'application/pdf',
  timestamp: '2025-03-18T00:15:02.600Z'
}
[DocumentChunking] Starting document chunking: {
  filePath: '/home/runner/workspace/uploads/documents/20250318001423.pdf',
  mimeType: 'application/pdf',
  chunkSize: 4000,
  timestamp: '2025-03-18T00:15:02.600Z'
}
[PDF Service] Starting text extraction from first pages: {
  filePath: '/home/runner/workspace/uploads/documents/20250318001423.pdf',
  maxPages: 0,
  timestamp: '2025-03-18T00:15:02.600Z'
}
[PDF Service] Reading PDF file
[PDF Service] Extraction successful: {
  totalPages: 56,
  extractedPages: 0,
  timestamp: '2025-03-18T00:15:03.512Z'
}
[PDF Service] Truncating text to stay within token limits: { originalLength: 145224, truncatedLength: 64000 }
[DocumentChunking] Created chunk: {
  chunkIndex: 0,
  chunkSize: 0,
  totalChunks: 1,
  timestamp: '2025-03-18T00:15:03.514Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 1,
  chunkSize: 0,
  totalChunks: 2,
  timestamp: '2025-03-18T00:15:03.514Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 2,
  chunkSize: 0,
  totalChunks: 3,
  timestamp: '2025-03-18T00:15:03.514Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 3,
  chunkSize: 0,
  totalChunks: 4,
  timestamp: '2025-03-18T00:15:03.515Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 4,
  chunkSize: 0,
  totalChunks: 5,
  timestamp: '2025-03-18T00:15:03.515Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 5,
  chunkSize: 0,
  totalChunks: 6,
  timestamp: '2025-03-18T00:15:03.515Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 6,
  chunkSize: 0,
  totalChunks: 7,
  timestamp: '2025-03-18T00:15:03.515Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 7,
  chunkSize: 0,
  totalChunks: 8,
  timestamp: '2025-03-18T00:15:03.515Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 8,
  chunkSize: 0,
  totalChunks: 9,
  timestamp: '2025-03-18T00:15:03.515Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 9,
  chunkSize: 0,
  totalChunks: 10,
  timestamp: '2025-03-18T00:15:03.515Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 10,
  chunkSize: 0,
  totalChunks: 11,
  timestamp: '2025-03-18T00:15:03.515Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 11,
  chunkSize: 0,
  totalChunks: 12,
  timestamp: '2025-03-18T00:15:03.515Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 12,
  chunkSize: 0,
  totalChunks: 13,
  timestamp: '2025-03-18T00:15:03.515Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 13,
  chunkSize: 0,
  totalChunks: 14,
  timestamp: '2025-03-18T00:15:03.515Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 14,
  chunkSize: 0,
  totalChunks: 15,
  timestamp: '2025-03-18T00:15:03.515Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 15,
  chunkSize: 0,
  totalChunks: 16,
  timestamp: '2025-03-18T00:15:03.515Z'
}
[DocumentChunking] Chunks created: {
  totalChunks: 16,
  averageChunkSize: 4000,
  timestamp: '2025-03-18T00:15:03.515Z'
}
[Document Processing] Processing chunk: {
  fileId: 280,
  chunkIndex: 0,
  progress: '1/16',
  timestamp: '2025-03-18T00:15:03.546Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 0,
  contentLength: 3922,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:15:03.546Z'
}
[OpenAI Service] Starting document analysis: {
  textLength: 3922,
  fieldsCount: 90,
  fieldKeys: [
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null
  ],
  timestamp: '2025-03-18T00:15:03.546Z'
}
[OpenAI Service] Sending request: { promptLength: 15939, timestamp: '2025-03-18T00:15:03.546Z' }
[Auth] Deserializing user: 150
12:15:03 AM [info] POST /api/documents/280/process 200 in 1010ms :: {"status":"processing","totalChunks":16}
[2025-03-18T00:15:03.606Z] New client connected to the pool
[2025-03-18T00:15:03.616Z] New client connected to the pool
12:15:03 AM [info] GET /api/documents/281/progress 200 in 60ms :: {"status":"processing","progress":{"chunksProcessed":0,"totalChunks":1},"answ...
[Auth] Deserializing user: 150
[Auth] Deserializing user: 150
[Auth] Deserializing user: 150
[Current Company] Fetching company for user: { userId: 150, companyId: 113 }
[Tasks] ====== Starting task fetch =====
[Tasks] User details: { id: 150, company_id: 113, email: 'e.v.a.nc.na.va.r.r.o@gmail.com' }
[Current Company] Found company: { id: 113, name: 'Vector', onboardingCompleted: true }
[Tasks] KYB tasks found: {
  count: 1,
  tasks: [
    {
      id: 195,
      company_id: 113,
      task_scope: 'company',
      task_type: 'company_kyb',
      assigned_to: null,
      status: 'submitted'
    }
  ]
}
[Tasks] Query conditions: {
  conditions: {
    condition1: 'tasks.assigned_to = 150',
    condition2: 'tasks.created_by = 150',
    condition3: "tasks.company_id = 113 AND tasks.assigned_to IS NULL AND tasks.task_scope = 'company'",
    condition4: "tasks.task_type = 'user_onboarding' AND LOWER(tasks.user_email) = LOWER('e.v.a.nc.na.va.r.r.o@gmail.com')"
  }
}
12:15:03 AM [info] GET /api/companies/current 304 in 60ms :: {"id":113,"name":"Vector","description":"FinTech partner company Vector","cat...
[Tasks] Tasks found: {
  count: 3,
  tasks: [
    {
      id: 197,
      title: 'New User Invitation: e.v.a.nc.na.va.r.r.o@gmail.com',
      assigned_to: 150,
      company_id: 113,
      task_scope: 'user',
      task_type: 'user_onboarding',
      status: 'completed'
    },
    {
      id: 195,
      title: 'Company KYB: Vector',
      assigned_to: null,
      company_id: 113,
      task_scope: 'company',
      task_type: 'company_kyb',
      status: 'submitted'
    },
    {
      id: 196,
      title: 'Company CARD: Vector',
      assigned_to: null,
      company_id: 113,
      task_scope: 'company',
      task_type: 'company_card',
      status: 'in_progress'
    }
  ]
}
12:15:03 AM [info] GET /api/documents/280/progress 200 in 57ms :: {"status":"processing","progress":{"chunksProcessed":0,"totalChunks":1},"answ...
12:15:03 AM [info] GET /api/tasks 304 in 90ms :: [{"id":197,"title":"New User Invitation: e.v.a.nc.na.va.r.r.o@gmail.com","des...
[OpenAI Service] Analysis completed: {
  answersFound: 1,
  duration: 716,
  fieldsAnswered: [ 'null' ],
  timestamp: '2025-03-18T00:15:04.262Z'
}
[DocumentChunking] Chunk processed: {
  chunkIndex: 0,
  answersFound: 1,
  timestamp: '2025-03-18T00:15:04.319Z'
}
[Document Processing] Chunk processing error: {
  fileId: 280,
  chunkIndex: 0,
  error: 'syntax error at or near "where"',
  timestamp: '2025-03-18T00:15:04.349Z'
}
[Document Processing] Processing chunk: {
  fileId: 280,
  chunkIndex: 1,
  progress: '2/16',
  timestamp: '2025-03-18T00:15:04.349Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 1,
  contentLength: 4000,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:15:04.349Z'
}
[OpenAI Service] Starting document analysis: {
  textLength: 4000,
  fieldsCount: 90,
  fieldKeys: [
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null
  ],
  timestamp: '2025-03-18T00:15:04.349Z'
}
[OpenAI Service] Sending request: { promptLength: 16017, timestamp: '2025-03-18T00:15:04.350Z' }
[OpenAI Service] Analysis completed: {
  answersFound: 0,
  duration: 362,
  fieldsAnswered: [],
  timestamp: '2025-03-18T00:15:04.711Z'
}
[Auth] Deserializing user: 150
[DocumentChunking] Chunk processed: {
  chunkIndex: 1,
  answersFound: 0,
  timestamp: '2025-03-18T00:15:04.769Z'
}
12:15:04 AM [info] GET /api/documents/281/progress 304 in 58ms :: {"status":"processing","progress":{"chunksProcessed":0,"totalChunks":1},"answ...
[Auth] Deserializing user: 150
[Document Processing] Processing chunk: {
  fileId: 280,
  chunkIndex: 2,
  progress: '3/16',
  timestamp: '2025-03-18T00:15:04.869Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 2,
  contentLength: 4020,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:15:04.869Z'
}
[OpenAI Service] Starting document analysis: {
  textLength: 4020,
  fieldsCount: 90,
  fieldKeys: [
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null
  ],
  timestamp: '2025-03-18T00:15:04.869Z'
}
[OpenAI Service] Sending request: { promptLength: 16037, timestamp: '2025-03-18T00:15:04.870Z' }
12:15:04 AM [info] GET /api/documents/280/progress 304 in 58ms :: {"status":"processing","progress":{"chunksProcessed":0,"totalChunks":1},"answ...
[OpenAI Service] Analysis completed: {
  answersFound: 1,
  duration: 918,
  fieldsAnswered: [ 'null' ],
  timestamp: '2025-03-18T00:15:05.787Z'
}
[DocumentChunking] Chunk processed: {
  chunkIndex: 2,
  answersFound: 1,
  timestamp: '2025-03-18T00:15:05.846Z'
}
[Document Processing] Chunk processing error: {
  fileId: 280,
  chunkIndex: 2,
  error: 'syntax error at or near "where"',
  timestamp: '2025-03-18T00:15:05.875Z'
}
[Document Processing] Processing chunk: {
  fileId: 280,
  chunkIndex: 3,
  progress: '4/16',
  timestamp: '2025-03-18T00:15:05.875Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 3,
  contentLength: 4000,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:15:05.875Z'
}
[OpenAI Service] Starting document analysis: {
  textLength: 4000,
  fieldsCount: 90,
  fieldKeys: [
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null
  ],
  timestamp: '2025-03-18T00:15:05.875Z'
}
[OpenAI Service] Sending request: { promptLength: 16017, timestamp: '2025-03-18T00:15:05.875Z' }
[Auth] Deserializing user: 150
12:15:06 AM [info] GET /api/documents/281/progress 304 in 60ms :: {"status":"processing","progress":{"chunksProcessed":0,"totalChunks":1},"answ...
[Auth] Deserializing user: 150
12:15:06 AM [info] GET /api/documents/280/progress 304 in 59ms :: {"status":"processing","progress":{"chunksProcessed":0,"totalChunks":1},"answ...
[OpenAI Service] Analysis completed: {
  answersFound: 1,
  duration: 1020,
  fieldsAnswered: [ 'null' ],
  timestamp: '2025-03-18T00:15:06.895Z'
}
[DocumentChunking] Chunk processed: {
  chunkIndex: 3,
  answersFound: 1,
  timestamp: '2025-03-18T00:15:06.954Z'
}
[Document Processing] Chunk processing error: {
  fileId: 280,
  chunkIndex: 3,
  error: 'syntax error at or near "where"',
  timestamp: '2025-03-18T00:15:06.983Z'
}
[Document Processing] Processing chunk: {
  fileId: 280,
  chunkIndex: 4,
  progress: '5/16',
  timestamp: '2025-03-18T00:15:06.983Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 4,
  contentLength: 3952,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:15:06.983Z'
}
[OpenAI Service] Starting document analysis: {
  textLength: 3952,
  fieldsCount: 90,
  fieldKeys: [
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null
  ],
  timestamp: '2025-03-18T00:15:06.983Z'
}
[OpenAI Service] Sending request: { promptLength: 15969, timestamp: '2025-03-18T00:15:06.984Z' }
[Auth] Deserializing user: 150
12:15:07 AM [info] GET /api/documents/281/progress 304 in 60ms :: {"status":"processing","progress":{"chunksProcessed":0,"totalChunks":1},"answ...
[2025-03-18T00:15:07.345Z] New client connected to the pool
[Auth] Deserializing user: 150
12:15:07 AM [info] GET /api/documents/280/progress 304 in 61ms :: {"status":"processing","progress":{"chunksProcessed":0,"totalChunks":1},"answ...
[OpenAI Service] Analysis completed: {
  answersFound: 1,
  duration: 853,
  fieldsAnswered: [ 'null' ],
  timestamp: '2025-03-18T00:15:07.836Z'
}
[DocumentChunking] Chunk processed: {
  chunkIndex: 4,
  answersFound: 1,
  timestamp: '2025-03-18T00:15:07.893Z'
}
[Document Processing] Chunk processing error: {
  fileId: 280,
  chunkIndex: 4,
  error: 'syntax error at or near "where"',
  timestamp: '2025-03-18T00:15:07.922Z'
}
[Document Processing] Processing chunk: {
  fileId: 280,
  chunkIndex: 5,
  progress: '6/16',
  timestamp: '2025-03-18T00:15:07.922Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 5,
  contentLength: 4077,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:15:07.922Z'
}
[OpenAI Service] Starting document analysis: {
  textLength: 4077,
  fieldsCount: 90,
  fieldKeys: [
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null,
    null, null, null, null, null, null, null, null, null
  ],