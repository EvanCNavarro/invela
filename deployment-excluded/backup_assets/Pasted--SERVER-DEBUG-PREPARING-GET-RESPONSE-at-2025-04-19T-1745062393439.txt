===============================================
[SERVER DEBUG] PREPARING GET RESPONSE at 2025-04-19T11:27:59.424Z
[SERVER DEBUG] Task ID: 360, Found 0 fields in database
===============================================
[SERVER DEBUG] Checking field corporateRegistration in retrieved data: NOT PRESENT
[SERVER DEBUG] Checking field goodStanding in retrieved data: NOT PRESENT
[SERVER DEBUG] Checking field regulatoryActions in retrieved data: NOT PRESENT
[SERVER DEBUG] Checking field investigationsIncidents in retrieved data: NOT PRESENT
[SERVER DEBUG] No fields with value "asdf" found in GET response data
[SERVER DEBUG] Sending GET response with 0 fields, status: not_started, progress: 0%
===============================================
11:27:59 AM [info] GET /api/kyb/progress/360 304 in 168ms :: {"formData":{},"progress":0,"status":"not_started"}
[SERVER DEBUG] Existing response found: NO
[SERVER DEBUG] INSERTING new response for field "operationalPolicies"
[SERVER DEBUG] - Value: "" (string)
[SERVER DEBUG] - Status: EMPTY
[SERVER DEBUG] ❌ DATABASE ERROR inserting response for field "operationalPolicies":
error: null value in column "id" of relation "kyb_responses" violates not-null constraint
    at file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async <anonymous> (/home/runner/workspace/server/routes/kyb.ts:485:28) {
  length: 271,
  severity: 'ERROR',
  code: '23502',
  detail: 'Failing row contains (null, 360, 25, , 2025-04-19 11:27:56.27, 2025-04-19 11:27:56.27, 1, EMPTY).',
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: 'public',
  table: 'kyb_responses',
  column: 'id',
  dataType: undefined,
  constraint: undefined,
  file: 'execMain.c',
  line: '1982',
  routine: 'ExecConstraints'
}
[SERVER DEBUG] --- Finished processing field "operationalPolicies" ---

[SERVER DEBUG] Processing field: "dataVolume" (ID: 26)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: NO
[SERVER DEBUG] INSERTING new response for field "dataVolume"
[SERVER DEBUG] - Value: "" (string)
[SERVER DEBUG] - Status: EMPTY
[SERVER DEBUG] ❌ DATABASE ERROR inserting response for field "dataVolume":
error: null value in column "id" of relation "kyb_responses" violates not-null constraint
    at file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async <anonymous> (/home/runner/workspace/server/routes/kyb.ts:485:28) {
  length: 271,
  severity: 'ERROR',
  code: '23502',
  detail: 'Failing row contains (null, 360, 26, , 2025-04-19 11:27:56.27, 2025-04-19 11:27:56.27, 1, EMPTY).',
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: 'public',
  table: 'kyb_responses',
  column: 'id',
  dataType: undefined,
  constraint: undefined,
  file: 'execMain.c',
  line: '1982',
  routine: 'ExecConstraints'
}
[SERVER DEBUG] --- Finished processing field "dataVolume" ---

[SERVER DEBUG] Processing field: "dataTypes" (ID: 27)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[KYB API Debug] Loading progress for task: 360
[SERVER DEBUG] Existing response found: NO
[SERVER DEBUG] INSERTING new response for field "dataTypes"
[SERVER DEBUG] - Value: "" (string)
[SERVER DEBUG] - Status: EMPTY
[Task Reconciliation] Found 0 responses for task 360
[STATUS DETERMINATION] Calculating status for task with: {
  progress: 0,
  currentStatus: 'not_started',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  hasResponses: false,
  timestamp: '2025-04-19T11:27:59.758Z'
}
[STATUS DETERMINATION] Task has 0% progress, setting to NOT_STARTED
[Task Reconciliation] Progress calculation: {
  taskId: 360,
  currentProgress: 0,
  calculatedProgress: 0,
  currentStatus: 'not_started',
  calculatedStatus: 'not_started',
  responseCount: 0,
  completeCount: 0
}
[Task Reconciliation] No updates needed for task 360
[SERVER DEBUG] ❌ DATABASE ERROR inserting response for field "dataTypes":
error: null value in column "id" of relation "kyb_responses" violates not-null constraint
    at file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async <anonymous> (/home/runner/workspace/server/routes/kyb.ts:485:28) {
  length: 271,
  severity: 'ERROR',
  code: '23502',
  detail: 'Failing row contains (null, 360, 27, , 2025-04-19 11:27:56.27, 2025-04-19 11:27:56.27, 1, EMPTY).',
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: 'public',
  table: 'kyb_responses',
  column: 'id',
  dataType: undefined,
  constraint: undefined,
  file: 'execMain.c',
  line: '1982',
  routine: 'ExecConstraints'
}
[SERVER DEBUG] --- Finished processing field "dataTypes" ---

[SERVER DEBUG] Processing field: "sanctionsCheck" (ID: 28)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[KYB API Debug] Retrieved task: {
  taskId: 360,
  status: 'not_started',
  progress: 0,
  metadata: [
    'company_id',
    'created_at',
    'created_via',
    'status_flow',
    'company_name',
    'created_by_id',
    'prerequisite_for',
    'lastProgressReconciliation'
  ],
  timestamp: '2025-04-19T11:27:59.787Z'
}
[KYB API Debug] Retrieved responses: { responseCount: 0, fields: [], timestamp: '2025-04-19T11:27:59.817Z' }
[SERVER DEBUG] No savedFormData found in task table
[KYB API Debug] Retrieved task data: {
  id: 360,
  responseCount: 0,
  progress: 0,
  status: 'not_started',
  formDataKeys: []
}
===============================================
[SERVER DEBUG] PREPARING GET RESPONSE at 2025-04-19T11:27:59.817Z
[SERVER DEBUG] Task ID: 360, Found 0 fields in database
===============================================
[SERVER DEBUG] Checking field corporateRegistration in retrieved data: NOT PRESENT
[SERVER DEBUG] Checking field goodStanding in retrieved data: NOT PRESENT
[SERVER DEBUG] Checking field regulatoryActions in retrieved data: NOT PRESENT
[SERVER DEBUG] Checking field investigationsIncidents in retrieved data: NOT PRESENT
[SERVER DEBUG] No fields with value "asdf" found in GET response data
[SERVER DEBUG] Sending GET response with 0 fields, status: not_started, progress: 0%
===============================================
11:27:59 AM [info] GET /api/kyb/progress/360 304 in 149ms :: {"formData":{},"progress":0,"status":"not_started"}
[SERVER DEBUG] Existing response found: NO
[SERVER DEBUG] INSERTING new response for field "sanctionsCheck"
[SERVER DEBUG] - Value: "" (string)
[SERVER DEBUG] - Status: EMPTY
[SERVER DEBUG] ❌ DATABASE ERROR inserting response for field "sanctionsCheck":
error: null value in column "id" of relation "kyb_responses" violates not-null constraint
    at file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async <anonymous> (/home/runner/workspace/server/routes/kyb.ts:485:28) {
  length: 271,
  severity: 'ERROR',
  code: '23502',
  detail: 'Failing row contains (null, 360, 28, , 2025-04-19 11:27:56.27, 2025-04-19 11:27:56.27, 1, EMPTY).',
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: 'public',
  table: 'kyb_responses',
  column: 'id',
  dataType: undefined,
  constraint: undefined,
  file: 'execMain.c',
  line: '1982',
  routine: 'ExecConstraints'
}
[SERVER DEBUG] --- Finished processing field "sanctionsCheck" ---

[SERVER DEBUG] Processing field: "dueDiligence" (ID: 29)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: NO
[SERVER DEBUG] INSERTING new response for field "dueDiligence"
[SERVER DEBUG] - Value: "" (string)
[SERVER DEBUG] - Status: EMPTY
[SERVER DEBUG] ❌ DATABASE ERROR inserting response for field "dueDiligence":
error: null value in column "id" of relation "kyb_responses" violates not-null constraint
    at file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async <anonymous> (/home/runner/workspace/server/routes/kyb.ts:485:28) {
  length: 271,
  severity: 'ERROR',
  code: '23502',
  detail: 'Failing row contains (null, 360, 29, , 2025-04-19 11:27:56.27, 2025-04-19 11:27:56.27, 1, EMPTY).',
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: 'public',
  table: 'kyb_responses',
  column: 'id',
  dataType: undefined,
  constraint: undefined,
  file: 'execMain.c',
  line: '1982',
  routine: 'ExecConstraints'
}
[SERVER DEBUG] --- Finished processing field "dueDiligence" ---

[SERVER DEBUG] Processing field: "regulatoryActions" (ID: 30)
[SERVER DEBUG] Original value: (empty string)
[SERVER DEBUG] Normalized value: "" (string)
[SERVER DEBUG] Field status: EMPTY
[SERVER DEBUG] Existing response found: NO
[SERVER DEBUG] INSERTING new response for field "regulatoryActions"
[SERVER DEBUG] - Value: "" (string)
[SERVER DEBUG] - Status: EMPTY
[SERVER DEBUG] ❌ DATABASE ERROR inserting response for field "regulatoryActions":
error: null value in column "id" of relation "kyb_responses" violates not-null constraint
    at file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async <anonymous> (/home/runner/workspace/server/routes/kyb.ts:485:28) {
  length: 271,
  severity: 'ERROR',
  code: '23502',
  detail: 'Failing row contains (null, 360, 30, , 2025-04-19 11:27:56.27, 2025-04-19 11:27:56.27, 1, EMPTY).',
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: 'public',
  table: 'kyb_responses',
  column: 'id',
  dataType: undefined,
  constraint: undefined,
  file: 'execMain.c',
  line: '1982',
  routine: 'ExecConstraints'
}
[SERVER DEBUG] --- Finished processing field "regulatoryActions" ---

[SERVER DEBUG] ERROR: Field not found in database schema: "taskId"
[KYB API Debug] Using client-provided status: in_progress
===============================================
[SERVER DEBUG] PREPARING RESPONSE at 2025-04-19T11:28:00.329Z
[SERVER DEBUG] Found 0 fields in database after update
===============================================
[SERVER DEBUG] Checking field corporateRegistration in updated data: NOT PRESENT
[SERVER DEBUG] Checking field goodStanding in updated data: NOT PRESENT
[SERVER DEBUG] Checking field regulatoryActions in updated data: NOT PRESENT
[SERVER DEBUG] Checking field investigationsIncidents in updated data: NOT PRESENT
[SERVER DEBUG] No fields with value "asdf" found in response data
[SERVER DEBUG] Sending response with 0 fields, status: in_progress, progress: 53%
[SERVER DEBUG] Updating task.savedFormData to ensure persistence across navigation
[SERVER DEBUG] ✅ Successfully updated task.savedFormData with latest form data
===============================================
11:28:00 AM [info] POST /api/kyb/progress 200 in 4180ms :: {"success":true,"savedData":{"progress":53,"status":"in_progress","formData":...
11:28:03 AM [info] GET /api/tasks 304 in 30ms :: [{"id":360,"title":"1. KYB Form: DevelopmentTesting1","description":"Complete...
[WebSocket] Received pong
[WebSocket] Received pong
[WebSocket] Received message: {
  type: 'pong',
  payload: { timestamp: '2025-04-19T11:28:03.959Z' },
  connectionId: 'ws-1'
}
[Tasks] Using cached task data for user: 213
11:28:08 AM [info] GET /api/tasks 304 in 31ms :: [{"id":360,"title":"1. KYB Form: DevelopmentTesting1","description":"Complete...
[Auth] Using cached user data: 213
[Tasks Routes] Fetching task by ID: { taskId: 360, timestamp: '2025-04-19T11:28:10.527Z' }
[Tasks Routes] Fetching latest KYB form data for task: 360
[Tasks Routes] No KYB responses found for task 360
[Tasks Routes] Task found by ID: {
  taskId: 360,
  title: '1. KYB Form: DevelopmentTesting1',
  type: 'company_kyb',
  formDataFields: 0,
  timestamp: '2025-04-19T11:28:10.617Z'
}
11:28:10 AM [info] GET /api/tasks/360 200 in 121ms :: {"id":360,"title":"1. KYB Form: DevelopmentTesting1","description":"Complete ...
[Auth] Using cached user data: 213
[Task Templates API] Fetching template for task type: company_kyb, user: 213
[Task Templates API] Found template: 1 (KYB Form) for task type: company_kyb
[Task Templates API] Retrieved 9 configuration items for template ID: 1
11:28:10 AM [info] GET /api/task-templates/by-type/company_kyb 304 in 89ms :: {"id":1,"name":"KYB Form","description":"Know Your Business form for company ...
[KYB API Debug] Loading progress for task: 360
[Task Reconciliation] Found 0 responses for task 360
[STATUS DETERMINATION] Calculating status for task with: {
  progress: 0,
  currentStatus: 'in_progress',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  hasResponses: false,
  timestamp: '2025-04-19T11:28:11.049Z'
}
[STATUS DETERMINATION] Task has 0% progress, setting to NOT_STARTED
[Task Reconciliation] Progress calculation: {
  taskId: 360,
  currentProgress: 53,
  calculatedProgress: 0,
  currentStatus: 'in_progress',
  calculatedStatus: 'not_started',
  responseCount: 0,
  completeCount: 0
}
[Task Reconciliation] Correcting task 360: {
  progressFrom: 53,
  progressTo: 0,
  statusFrom: 'in_progress',
  statusTo: 'not_started',
  forceUpdate: false
}
[Progress Utils] Broadcasting task progress update: {
  taskId: 360,
  progress: 0,
  requestedStatus: 'not_started',
  finalStatus: 'not_started',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  timestamp: '2025-04-19T11:28:11.080Z'
}
[WebSocket] Broadcasting task update: {
  taskId: 360,
  status: 'not_started',
  progress: 0,
  metadata: {
    company_id: 172,
    created_at: '2025-04-19T11:18:52.303Z',
    statusFlow: [ 'in_progress' ],
    created_via: 'fintech_invite',
    lastUpdated: '2025-04-19T11:27:56.270Z',
    status_flow: [ 'not_started' ],
    company_name: 'DevelopmentTesting1',
    created_by_id: 183,
    prerequisite_for: [ 'security_assessment' ],
    lastProgressReconciliation: '2025-04-19T11:28:11.049Z'
  }
}
[KYB API Debug] Retrieved task: {
  taskId: 360,
  status: 'not_started',
  progress: 0,
  metadata: [
    'company_id',
    'created_at',
    'statusFlow',
    'created_via',
    'lastUpdated',
    'status_flow',
    'company_name',
    'created_by_id',
    'prerequisite_for',
    'lastProgressReconciliation'
  ],
  timestamp: '2025-04-19T11:28:11.109Z'
}
[KYB API Debug] Retrieved responses: { responseCount: 0, fields: [], timestamp: '2025-04-19T11:28:11.138Z' }
[SERVER DEBUG] No savedFormData found in task table
[KYB API Debug] Retrieved task data: {
  id: 360,
  responseCount: 0,
  progress: 0,
  status: 'not_started',
  formDataKeys: []
}
===============================================
[SERVER DEBUG] PREPARING GET RESPONSE at 2025-04-19T11:28:11.139Z
[SERVER DEBUG] Task ID: 360, Found 0 fields in database
===============================================
[SERVER DEBUG] Checking field corporateRegistration in retrieved data: NOT PRESENT
[SERVER DEBUG] Checking field goodStanding in retrieved data: NOT PRESENT
[SERVER DEBUG] Checking field regulatoryActions in retrieved data: NOT PRESENT
[SERVER DEBUG] Checking field investigationsIncidents in retrieved data: NOT PRESENT
[SERVER DEBUG] No fields with value "asdf" found in GET response data
[SERVER DEBUG] Sending GET response with 0 fields, status: not_started, progress: 0%
===============================================
11:28:11 AM [info] GET /api/kyb/progress/360 304 in 179ms :: {"formData":{},"progress":0,"status":"not_started"}
[KYB API Debug] Loading progress for task: 360
[Task Reconciliation] Found 0 responses for task 360
[STATUS DETERMINATION] Calculating status for task with: {
  progress: 0,
  currentStatus: 'not_started',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  hasResponses: false,
  timestamp: '2025-04-19T11:28:11.380Z'
}
[STATUS DETERMINATION] Task has 0% progress, setting to NOT_STARTED
[Task Reconciliation] Progress calculation: {
  taskId: 360,
  currentProgress: 0,
  calculatedProgress: 0,
  currentStatus: 'not_started',
  calculatedStatus: 'not_started',
  responseCount: 0,
  completeCount: 0
}
[Task Reconciliation] No updates needed for task 360
[KYB API Debug] Retrieved task: {
  taskId: 360,
  status: 'not_started',
  progress: 0,
  metadata: [
    'company_id',
    'created_at',
    'statusFlow',
    'created_via',
    'lastUpdated',
    'status_flow',
    'company_name',
    'created_by_id',
    'prerequisite_for',
    'lastProgressReconciliation'
  ],
  timestamp: '2025-04-19T11:28:11.410Z'
}
[KYB API Debug] Retrieved responses: { responseCount: 0, fields: [], timestamp: '2025-04-19T11:28:11.440Z' }
[SERVER DEBUG] No savedFormData found in task table
[KYB API Debug] Retrieved task data: {
  id: 360,
  responseCount: 0,
  progress: 0,
  status: 'not_started',
  formDataKeys: []
}
===============================================
[SERVER DEBUG] PREPARING GET RESPONSE at 2025-04-19T11:28:11.440Z
[SERVER DEBUG] Task ID: 360, Found 0 fields in database
===============================================
[SERVER DEBUG] Checking field corporateRegistration in retrieved data: NOT PRESENT
[SERVER DEBUG] Checking field goodStanding in retrieved data: NOT PRESENT
[SERVER DEBUG] Checking field regulatoryActions in retrieved data: NOT PRESENT
[SERVER DEBUG] Checking field investigationsIncidents in retrieved data: NOT PRESENT
[SERVER DEBUG] No fields with value "asdf" found in GET response data
[SERVER DEBUG] Sending GET response with 0 fields, status: not_started, progress: 0%
===============================================
11:28:11 AM [info] GET /api/kyb/progress/360 304 in 148ms :: {"formData":{},"progress":0,"status":"not_started"}
[KYB API Debug] Loading progress for task: 360
[Task Reconciliation] Found 0 responses for task 360
[STATUS DETERMINATION] Calculating status for task with: {
  progress: 0,
  currentStatus: 'not_started',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  hasResponses: false,
  timestamp: '2025-04-19T11:28:11.676Z'
}
[STATUS DETERMINATION] Task has 0% progress, setting to NOT_STARTED
[Task Reconciliation] Progress calculation: {
  taskId: 360,
  currentProgress: 0,
  calculatedProgress: 0,
  currentStatus: 'not_started',
  calculatedStatus: 'not_started',
  responseCount: 0,
  completeCount: 0
}
[Task Reconciliation] No updates needed for task 360
[KYB API Debug] Retrieved task: {
  taskId: 360,
  status: 'not_started',
  progress: 0,
  metadata: [
    'company_id',
    'created_at',
    'statusFlow',
    'created_via',
    'lastUpdated',
    'status_flow',
    'company_name',
    'created_by_id',
    'prerequisite_for',
    'lastProgressReconciliation'
  ],
  timestamp: '2025-04-19T11:28:11.705Z'
}
[KYB API Debug] Retrieved responses: { responseCount: 0, fields: [], timestamp: '2025-04-19T11:28:11.734Z' }
[SERVER DEBUG] No savedFormData found in task table
[KYB API Debug] Retrieved task data: {
  id: 360,
  responseCount: 0,
  progress: 0,
  status: 'not_started',
  formDataKeys: []
}
===============================================
[SERVER DEBUG] PREPARING GET RESPONSE at 2025-04-19T11:28:11.734Z
[SERVER DEBUG] Task ID: 360, Found 0 fields in database
===============================================
[SERVER DEBUG] Checking field corporateRegistration in retrieved data: NOT PRESENT
[SERVER DEBUG] Checking field goodStanding in retrieved data: NOT PRESENT
[SERVER DEBUG] Checking field regulatoryActions in retrieved data: NOT PRESENT
[SERVER DEBUG] Checking field investigationsIncidents in retrieved data: NOT PRESENT
[SERVER DEBUG] No fields with value "asdf" found in GET response data
[SERVER DEBUG] Sending GET response with 0 fields, status: not_started, progress: 0%
===============================================
11:28:11 AM [info] GET /api/kyb/progress/360 304 in 147ms :: {"formData":{},"progress":0,"status":"not_started"}
[WebSocket] Received pong
[WebSocket] Received pong
[WebSocket] Received message: {
  type: 'pong',
  payload: { timestamp: '2025-04-19T11:28:48.913Z' },
  connectionId: 'ws-1'
}
[Tasks Routes] Updating task progress: { taskId: 360, timestamp: '2025-04-19T11:28:59.365Z' }
[Tasks] ====== Starting task fetch =====
[Tasks] User details: { id: 213, company_id: 172, email: 'eva.n.c.navarro@gmail.com' }
[Tasks] KYB tasks found: { count: 1 }
[Tasks] Query conditions: {
  conditions: {
    condition1: 'tasks.assigned_to = 213',
    condition2: 'tasks.created_by = 213',
    condition3: "tasks.company_id = 172 AND tasks.assigned_to IS NULL AND tasks.task_scope = 'company'",
    condition4: "tasks.task_type = 'user_onboarding' AND LOWER(tasks.user_email) = LOWER('eva.n.c.navarro@gmail.com')"
  }
}
[Task Reconciliation] Found 0 responses for task 360
[STATUS DETERMINATION] Calculating status for task with: {
  progress: 0,
  currentStatus: 'not_started',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  hasResponses: false,
  timestamp: '2025-04-19T11:28:59.423Z'
}
[STATUS DETERMINATION] Task has 0% progress, setting to NOT_STARTED
[Task Reconciliation] Progress calculation: {
  taskId: 360,
  currentProgress: 0,
  calculatedProgress: 0,
  currentStatus: 'not_started',
  calculatedStatus: 'not_started',
  responseCount: 0,
  completeCount: 0
}
[Task Reconciliation] Correcting task 360: {
  progressFrom: 0,
  progressTo: 0,
  statusFrom: 'not_started',
  statusTo: 'not_started',
  forceUpdate: true
}
[Tasks] Tasks found: { count: 4 }
[Progress Utils] Broadcasting task progress update: {
  taskId: 360,
  progress: 0,
  requestedStatus: 'not_started',
  finalStatus: 'not_started',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  timestamp: '2025-04-19T11:28:59.453Z'
}
[WebSocket] Broadcasting task update: {
  taskId: 360,
  status: 'not_started',
  progress: 0,
  metadata: {
    company_id: 172,
    created_at: '2025-04-19T11:18:52.303Z',
    statusFlow: [ 'in_progress' ],
    created_via: 'fintech_invite',
    lastUpdated: '2025-04-19T11:27:56.270Z',
    status_flow: [ 'not_started' ],
    company_name: 'DevelopmentTesting1',
    created_by_id: 183,
    prerequisite_for: [ 'security_assessment' ],
    lastProgressReconciliation: '2025-04-19T11:28:59.423Z'
  }
}
11:28:59 AM [info] GET /api/tasks 200 in 90ms :: [{"id":360,"title":"1. KYB Form: DevelopmentTesting1","description":"Complete...
[Tasks Routes] Task progress reconciled: {
  taskId: 360,
  progress: 0,
  status: 'not_started',
  timestamp: '2025-04-19T11:28:59.482Z'
}
11:28:59 AM [info] POST /api/tasks/360/update-progress 200 in 148ms :: {"success":true,"progress":0,"status":"not_started","taskId":360}
11:28:59 AM [info] GET /api/tasks 304 in 30ms :: [{"id":360,"title":"1. KYB Form: DevelopmentTesting1","description":"Complete...
[TimestampHandler] Saving 31 timestamps for task 360
[TimestampHandler] Successfully saved timestamps for task 360
[TimestampAPI] Saved 31 timestamps for task 360
11:28:59 AM [info] POST /api/kyb/timestamps/360 200 in 62ms :: {"message":"Timestamps saved successfully","count":31}
===============================================
[SERVER DEBUG] KYB PROGRESS SAVE REQUEST RECEIVED at 2025-04-19T11:29:00.070Z
===============================================
Task ID: 360
Progress: 100
Status: ready_for_submission
Field count: 31
Sample form data values:
- legalEntityName: "asdf" (string)
- registrationNumber: "asdf" (string)
- incorporationDate: "asdf" (string)
- businessType: "asdf" (string)
- jurisdiction: "asdf" (string)
Request details:
- Method: POST
- Content-Type: application/json
- Content-Length: 1923
===============================================
===============================================
[SERVER DEBUG] PROCESSING FORM DATA FIELDS AT 2025-04-19T11:29:00.128Z
[SERVER DEBUG] Task ID: 360, Field count: 31
===============================================
[SERVER DEBUG] COMPLETE FORM DATA DUMP:
[SERVER DEBUG] legalEntityName: "asdf" (string)
[SERVER DEBUG] registrationNumber: "asdf" (string)
[SERVER DEBUG] incorporationDate: "asdf" (string)
[SERVER DEBUG] businessType: "asdf" (string)
[SERVER DEBUG] jurisdiction: "asdf" (string)
[SERVER DEBUG] registeredAddress: "asdf" (string)
[SERVER DEBUG] companyPhone: "asdf" (string)
[SERVER DEBUG] priorNames: "fffff" (string)
[SERVER DEBUG] licenses: "fff" (string)
[SERVER DEBUG] goodStanding: "ddd" (string)
[SERVER DEBUG] corporateRegistration: "sss" (string)
[SERVER DEBUG] externalAudit: "aa" (string)
[SERVER DEBUG] controlEnvironment: "vasdf" (string)
[SERVER DEBUG] authorizedSigners: "asdf" (string)
[SERVER DEBUG] governmentOwnership: "fasdffff" (string)
[SERVER DEBUG] ultimateBeneficialOwners: "fa" (string)
[SERVER DEBUG] directorsAndOfficers: "secc" (string)
[SERVER DEBUG] contactEmail: "ccasd" (string)
[SERVER DEBUG] marketCapitalization: "fasdfjv" (string)
[SERVER DEBUG] lifetimeCustomerValue: "ghjjjj" (string)
[SERVER DEBUG] annualRecurringRevenue: "gggg" (string)
[SERVER DEBUG] monthlyRecurringRevenue: "hhhh" (string)
[SERVER DEBUG] investigationsIncidents: "ffghhh" (string)
[SERVER DEBUG] financialStatements: "yutuuu" (string)
[SERVER DEBUG] operationalPolicies: "jnfff" (string)
[SERVER DEBUG] dataVolume: "fgh3f" (string)
[SERVER DEBUG] dataTypes: "f2fff" (string)
[SERVER DEBUG] sanctionsCheck: "asdf" (string)
[SERVER DEBUG] dueDiligence: "fvcaaa" (string)
[SERVER DEBUG] regulatoryActions: "aaqwww" (string)
[SERVER DEBUG] taskId: "360" (number)
[SERVER DEBUG] END OF FORM DATA DUMP
[SERVER DEBUG] ⚠️ WARNING: Found 9 fields with value "asdf":
[SERVER DEBUG] legalEntityName, registrationNumber, incorporationDate, businessType, jurisdiction, registeredAddress, companyPhone, authorizedSigners, sanctionsCheck
[SERVER DEBUG] This may indicate a data issue in the client or database
[SERVER DEBUG] Processing field: "legalEntityName" (ID: 1)
[SERVER DEBUG] Original value: asdf
[SERVER DEBUG] Normalized value: "asdf" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: NO
[SERVER DEBUG] INSERTING new response for field "legalEntityName"
[SERVER DEBUG] - Value: "asdf" (string)
[SERVER DEBUG] - Status: COMPLETE
[SERVER DEBUG] ❌ DATABASE ERROR inserting response for field "legalEntityName":
error: null value in column "id" of relation "kyb_responses" violates not-null constraint
    at file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async <anonymous> (/home/runner/workspace/server/routes/kyb.ts:485:28) {
  length: 279,
  severity: 'ERROR',
  code: '23502',
  detail: 'Failing row contains (null, 360, 1, asdf, 2025-04-19 11:29:00.128, 2025-04-19 11:29:00.128, 1, COMPLETE).',
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: 'public',
  table: 'kyb_responses',
  column: 'id',
  dataType: undefined,
  constraint: undefined,
  file: 'execMain.c',
  line: '1982',
  routine: 'ExecConstraints'
}
[SERVER DEBUG] --- Finished processing field "legalEntityName" ---

[SERVER DEBUG] Processing field: "registrationNumber" (ID: 2)
[SERVER DEBUG] Original value: asdf
[SERVER DEBUG] Normalized value: "asdf" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: NO
[SERVER DEBUG] INSERTING new response for field "registrationNumber"
[SERVER DEBUG] - Value: "asdf" (string)
[SERVER DEBUG] - Status: COMPLETE
[SERVER DEBUG] ❌ DATABASE ERROR inserting response for field "registrationNumber":
error: null value in column "id" of relation "kyb_responses" violates not-null constraint
    at file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async <anonymous> (/home/runner/workspace/server/routes/kyb.ts:485:28) {
  length: 279,
  severity: 'ERROR',
  code: '23502',
  detail: 'Failing row contains (null, 360, 2, asdf, 2025-04-19 11:29:00.128, 2025-04-19 11:29:00.128, 1, COMPLETE).',
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: 'public',
  table: 'kyb_responses',
  column: 'id',
  dataType: undefined,
  constraint: undefined,
  file: 'execMain.c',
  line: '1982',
  routine: 'ExecConstraints'
}
[SERVER DEBUG] --- Finished processing field "registrationNumber" ---

[SERVER DEBUG] Processing field: "incorporationDate" (ID: 3)
[SERVER DEBUG] Original value: asdf
[SERVER DEBUG] Normalized value: "asdf" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: NO
[SERVER DEBUG] INSERTING new response for field "incorporationDate"
[SERVER DEBUG] - Value: "asdf" (string)
[SERVER DEBUG] - Status: COMPLETE
[SERVER DEBUG] ❌ DATABASE ERROR inserting response for field "incorporationDate":
error: null value in column "id" of relation "kyb_responses" violates not-null constraint
    at file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async <anonymous> (/home/runner/workspace/server/routes/kyb.ts:485:28) {
  length: 279,
  severity: 'ERROR',
  code: '23502',
  detail: 'Failing row contains (null, 360, 3, asdf, 2025-04-19 11:29:00.128, 2025-04-19 11:29:00.128, 1, COMPLETE).',
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: 'public',
  table: 'kyb_responses',
  column: 'id',
  dataType: undefined,
  constraint: undefined,
  file: 'execMain.c',
  line: '1982',
  routine: 'ExecConstraints'
}
[SERVER DEBUG] --- Finished processing field "incorporationDate" ---

[SERVER DEBUG] Processing field: "businessType" (ID: 4)
[SERVER DEBUG] Original value: asdf
[SERVER DEBUG] Normalized value: "asdf" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: NO
[SERVER DEBUG] INSERTING new response for field "businessType"
[SERVER DEBUG] - Value: "asdf" (string)
[SERVER DEBUG] - Status: COMPLETE
[SERVER DEBUG] ❌ DATABASE ERROR inserting response for field "businessType":
error: null value in column "id" of relation "kyb_responses" violates not-null constraint
    at file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async <anonymous> (/home/runner/workspace/server/routes/kyb.ts:485:28) {
  length: 279,
  severity: 'ERROR',
  code: '23502',
  detail: 'Failing row contains (null, 360, 4, asdf, 2025-04-19 11:29:00.128, 2025-04-19 11:29:00.128, 1, COMPLETE).',
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: 'public',
  table: 'kyb_responses',
  column: 'id',
  dataType: undefined,
  constraint: undefined,
  file: 'execMain.c',
  line: '1982',
  routine: 'ExecConstraints'
}
[SERVER DEBUG] --- Finished processing field "businessType" ---

[SERVER DEBUG] Processing field: "jurisdiction" (ID: 5)
[SERVER DEBUG] Original value: asdf
[SERVER DEBUG] Normalized value: "asdf" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: NO
[SERVER DEBUG] INSERTING new response for field "jurisdiction"
[SERVER DEBUG] - Value: "asdf" (string)
[SERVER DEBUG] - Status: COMPLETE
[SERVER DEBUG] ❌ DATABASE ERROR inserting response for field "jurisdiction":
error: null value in column "id" of relation "kyb_responses" violates not-null constraint
    at file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async <anonymous> (/home/runner/workspace/server/routes/kyb.ts:485:28) {
  length: 279,
  severity: 'ERROR',
  code: '23502',
  detail: 'Failing row contains (null, 360, 5, asdf, 2025-04-19 11:29:00.128, 2025-04-19 11:29:00.128, 1, COMPLETE).',
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: 'public',
  table: 'kyb_responses',
  column: 'id',
  dataType: undefined,
  constraint: undefined,
  file: 'execMain.c',
  line: '1982',
  routine: 'ExecConstraints'
}
[SERVER DEBUG] --- Finished processing field "jurisdiction" ---

[SERVER DEBUG] Processing field: "registeredAddress" (ID: 6)
[SERVER DEBUG] Original value: asdf
[SERVER DEBUG] Normalized value: "asdf" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: NO
[SERVER DEBUG] INSERTING new response for field "registeredAddress"
[SERVER DEBUG] - Value: "asdf" (string)
[SERVER DEBUG] - Status: COMPLETE
[SERVER DEBUG] ❌ DATABASE ERROR inserting response for field "registeredAddress":
error: null value in column "id" of relation "kyb_responses" violates not-null constraint
    at file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async <anonymous> (/home/runner/workspace/server/routes/kyb.ts:485:28) {
  length: 279,
  severity: 'ERROR',
  code: '23502',
  detail: 'Failing row contains (null, 360, 6, asdf, 2025-04-19 11:29:00.128, 2025-04-19 11:29:00.128, 1, COMPLETE).',
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: 'public',
  table: 'kyb_responses',
  column: 'id',
  dataType: undefined,
  constraint: undefined,
  file: 'execMain.c',
  line: '1982',
  routine: 'ExecConstraints'
}
[SERVER DEBUG] --- Finished processing field "registeredAddress" ---

[SERVER DEBUG] Processing field: "companyPhone" (ID: 7)
[SERVER DEBUG] Original value: asdf
[SERVER DEBUG] Normalized value: "asdf" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: NO
[SERVER DEBUG] INSERTING new response for field "companyPhone"
[SERVER DEBUG] - Value: "asdf" (string)
[SERVER DEBUG] - Status: COMPLETE
[SERVER DEBUG] ❌ DATABASE ERROR inserting response for field "companyPhone":
error: null value in column "id" of relation "kyb_responses" violates not-null constraint
    at file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async <anonymous> (/home/runner/workspace/server/routes/kyb.ts:485:28) {
  length: 279,
  severity: 'ERROR',
  code: '23502',
  detail: 'Failing row contains (null, 360, 7, asdf, 2025-04-19 11:29:00.128, 2025-04-19 11:29:00.128, 1, COMPLETE).',
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: 'public',
  table: 'kyb_responses',
  column: 'id',
  dataType: undefined,
  constraint: undefined,
  file: 'execMain.c',
  line: '1982',
  routine: 'ExecConstraints'
}
[SERVER DEBUG] --- Finished processing field "companyPhone" ---

[SERVER DEBUG] Processing field: "priorNames" (ID: 8)
[SERVER DEBUG] Original value: fffff
[SERVER DEBUG] Normalized value: "fffff" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: NO
[SERVER DEBUG] INSERTING new response for field "priorNames"
[SERVER DEBUG] - Value: "fffff" (string)
[SERVER DEBUG] - Status: COMPLETE
[SERVER DEBUG] ❌ DATABASE ERROR inserting response for field "priorNames":
error: null value in column "id" of relation "kyb_responses" violates not-null constraint
    at file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async <anonymous> (/home/runner/workspace/server/routes/kyb.ts:485:28) {
  length: 280,
  severity: 'ERROR',
  code: '23502',
  detail: 'Failing row contains (null, 360, 8, fffff, 2025-04-19 11:29:00.128, 2025-04-19 11:29:00.128, 1, COMPLETE).',
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: 'public',
  table: 'kyb_responses',
  column: 'id',
  dataType: undefined,
  constraint: undefined,
  file: 'execMain.c',
  line: '1982',
  routine: 'ExecConstraints'
}
[SERVER DEBUG] --- Finished processing field "priorNames" ---

[SERVER DEBUG] Processing field: "licenses" (ID: 9)
[SERVER DEBUG] Original value: fff
[SERVER DEBUG] Normalized value: "fff" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: NO
[SERVER DEBUG] INSERTING new response for field "licenses"
[SERVER DEBUG] - Value: "fff" (string)
[SERVER DEBUG] - Status: COMPLETE
[SERVER DEBUG] ❌ DATABASE ERROR inserting response for field "licenses":
error: null value in column "id" of relation "kyb_responses" violates not-null constraint
    at file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async <anonymous> (/home/runner/workspace/server/routes/kyb.ts:485:28) {
  length: 278,
  severity: 'ERROR',
  code: '23502',
  detail: 'Failing row contains (null, 360, 9, fff, 2025-04-19 11:29:00.128, 2025-04-19 11:29:00.128, 1, COMPLETE).',
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: 'public',
  table: 'kyb_responses',
  column: 'id',
  dataType: undefined,
  constraint: undefined,
  file: 'execMain.c',
  line: '1982',
  routine: 'ExecConstraints'
}
[SERVER DEBUG] --- Finished processing field "licenses" ---

[SERVER DEBUG] Processing field: "goodStanding" (ID: 10)
[SERVER DEBUG] Original value: ddd
[SERVER DEBUG] Normalized value: "ddd" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: NO
[SERVER DEBUG] INSERTING new response for field "goodStanding"
[SERVER DEBUG] - Value: "ddd" (string)
[SERVER DEBUG] - Status: COMPLETE
[SERVER DEBUG] ❌ DATABASE ERROR inserting response for field "goodStanding":
error: null value in column "id" of relation "kyb_responses" violates not-null constraint
    at file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async <anonymous> (/home/runner/workspace/server/routes/kyb.ts:485:28) {
  length: 279,
  severity: 'ERROR',
  code: '23502',
  detail: 'Failing row contains (null, 360, 10, ddd, 2025-04-19 11:29:00.128, 2025-04-19 11:29:00.128, 1, COMPLETE).',
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: 'public',
  table: 'kyb_responses',
  column: 'id',
  dataType: undefined,
  constraint: undefined,
  file: 'execMain.c',
  line: '1982',
  routine: 'ExecConstraints'
}
[SERVER DEBUG] --- Finished processing field "goodStanding" ---

[SERVER DEBUG] Processing field: "corporateRegistration" (ID: 11)
[SERVER DEBUG] Original value: sss
[SERVER DEBUG] Normalized value: "sss" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: NO
[SERVER DEBUG] INSERTING new response for field "corporateRegistration"
[SERVER DEBUG] - Value: "sss" (string)
[SERVER DEBUG] - Status: COMPLETE
[SERVER DEBUG] ❌ DATABASE ERROR inserting response for field "corporateRegistration":
error: null value in column "id" of relation "kyb_responses" violates not-null constraint
    at file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async <anonymous> (/home/runner/workspace/server/routes/kyb.ts:485:28) {
  length: 279,
  severity: 'ERROR',
  code: '23502',
  detail: 'Failing row contains (null, 360, 11, sss, 2025-04-19 11:29:00.128, 2025-04-19 11:29:00.128, 1, COMPLETE).',
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: 'public',
  table: 'kyb_responses',
  column: 'id',
  dataType: undefined,
  constraint: undefined,
  file: 'execMain.c',
  line: '1982',
  routine: 'ExecConstraints'
}
[SERVER DEBUG] --- Finished processing field "corporateRegistration" ---

[SERVER DEBUG] Processing field: "externalAudit" (ID: 12)
[SERVER DEBUG] Original value: aa
[SERVER DEBUG] Normalized value: "aa" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: NO
[SERVER DEBUG] INSERTING new response for field "externalAudit"
[SERVER DEBUG] - Value: "aa" (string)
[SERVER DEBUG] - Status: COMPLETE
[SERVER DEBUG] ❌ DATABASE ERROR inserting response for field "externalAudit":
error: null value in column "id" of relation "kyb_responses" violates not-null constraint
    at file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async <anonymous> (/home/runner/workspace/server/routes/kyb.ts:485:28) {
  length: 278,
  severity: 'ERROR',
  code: '23502',
  detail: 'Failing row contains (null, 360, 12, aa, 2025-04-19 11:29:00.128, 2025-04-19 11:29:00.128, 1, COMPLETE).',
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: 'public',
  table: 'kyb_responses',
  column: 'id',
  dataType: undefined,
  constraint: undefined,
  file: 'execMain.c',
  line: '1982',
  routine: 'ExecConstraints'
}
[SERVER DEBUG] --- Finished processing field "externalAudit" ---

[SERVER DEBUG] Processing field: "controlEnvironment" (ID: 13)
[SERVER DEBUG] Original value: vasdf
[SERVER DEBUG] Normalized value: "vasdf" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: NO
[SERVER DEBUG] INSERTING new response for field "controlEnvironment"
[SERVER DEBUG] - Value: "vasdf" (string)
[SERVER DEBUG] - Status: COMPLETE
[SERVER DEBUG] ❌ DATABASE ERROR inserting response for field "controlEnvironment":
error: null value in column "id" of relation "kyb_responses" violates not-null constraint
    at file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async <anonymous> (/home/runner/workspace/server/routes/kyb.ts:485:28) {
  length: 281,
  severity: 'ERROR',
  code: '23502',
  detail: 'Failing row contains (null, 360, 13, vasdf, 2025-04-19 11:29:00.128, 2025-04-19 11:29:00.128, 1, COMPLETE).',
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: 'public',
  table: 'kyb_responses',
  column: 'id',
  dataType: undefined,
  constraint: undefined,
  file: 'execMain.c',
  line: '1982',
  routine: 'ExecConstraints'
}
[SERVER DEBUG] --- Finished processing field "controlEnvironment" ---

[SERVER DEBUG] Processing field: "authorizedSigners" (ID: 14)
[SERVER DEBUG] Original value: asdf
[SERVER DEBUG] Normalized value: "asdf" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: NO
[SERVER DEBUG] INSERTING new response for field "authorizedSigners"
[SERVER DEBUG] - Value: "asdf" (string)
[SERVER DEBUG] - Status: COMPLETE
[SERVER DEBUG] ❌ DATABASE ERROR inserting response for field "authorizedSigners":
error: null value in column "id" of relation "kyb_responses" violates not-null constraint
    at file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async <anonymous> (/home/runner/workspace/server/routes/kyb.ts:485:28) {
  length: 280,
  severity: 'ERROR',
  code: '23502',
  detail: 'Failing row contains (null, 360, 14, asdf, 2025-04-19 11:29:00.128, 2025-04-19 11:29:00.128, 1, COMPLETE).',
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: 'public',
  table: 'kyb_responses',
  column: 'id',
  dataType: undefined,
  constraint: undefined,
  file: 'execMain.c',
  line: '1982',
  routine: 'ExecConstraints'
}
[SERVER DEBUG] --- Finished processing field "authorizedSigners" ---

[SERVER DEBUG] Processing field: "governmentOwnership" (ID: 15)
[SERVER DEBUG] Original value: fasdffff
[SERVER DEBUG] Normalized value: "fasdffff" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: NO
[SERVER DEBUG] INSERTING new response for field "governmentOwnership"
[SERVER DEBUG] - Value: "fasdffff" (string)
[SERVER DEBUG] - Status: COMPLETE
[SERVER DEBUG] ❌ DATABASE ERROR inserting response for field "governmentOwnership":
error: null value in column "id" of relation "kyb_responses" violates not-null constraint
    at file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async <anonymous> (/home/runner/workspace/server/routes/kyb.ts:485:28) {
  length: 284,
  severity: 'ERROR',
  code: '23502',
  detail: 'Failing row contains (null, 360, 15, fasdffff, 2025-04-19 11:29:00.128, 2025-04-19 11:29:00.128, 1, COMPLETE).',
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: 'public',
  table: 'kyb_responses',
  column: 'id',
  dataType: undefined,
  constraint: undefined,
  file: 'execMain.c',
  line: '1982',
  routine: 'ExecConstraints'
}
[SERVER DEBUG] --- Finished processing field "governmentOwnership" ---

[SERVER DEBUG] Processing field: "ultimateBeneficialOwners" (ID: 16)
[SERVER DEBUG] Original value: fa
[SERVER DEBUG] Normalized value: "fa" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: NO
[SERVER DEBUG] INSERTING new response for field "ultimateBeneficialOwners"
[SERVER DEBUG] - Value: "fa" (string)
[SERVER DEBUG] - Status: COMPLETE
[SERVER DEBUG] ❌ DATABASE ERROR inserting response for field "ultimateBeneficialOwners":
error: null value in column "id" of relation "kyb_responses" violates not-null constraint
    at file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async <anonymous> (/home/runner/workspace/server/routes/kyb.ts:485:28) {
  length: 278,
  severity: 'ERROR',
  code: '23502',
  detail: 'Failing row contains (null, 360, 16, fa, 2025-04-19 11:29:00.128, 2025-04-19 11:29:00.128, 1, COMPLETE).',
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: 'public',
  table: 'kyb_responses',
  column: 'id',
  dataType: undefined,
  constraint: undefined,
  file: 'execMain.c',
  line: '1982',
  routine: 'ExecConstraints'
}
[SERVER DEBUG] --- Finished processing field "ultimateBeneficialOwners" ---

[SERVER DEBUG] Processing field: "directorsAndOfficers" (ID: 17)
[SERVER DEBUG] Original value: secc
[SERVER DEBUG] Normalized value: "secc" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: NO
[SERVER DEBUG] INSERTING new response for field "directorsAndOfficers"
[SERVER DEBUG] - Value: "secc" (string)
[SERVER DEBUG] - Status: COMPLETE
[SERVER DEBUG] ❌ DATABASE ERROR inserting response for field "directorsAndOfficers":
error: null value in column "id" of relation "kyb_responses" violates not-null constraint
    at file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async <anonymous> (/home/runner/workspace/server/routes/kyb.ts:485:28) {
  length: 280,
  severity: 'ERROR',
  code: '23502',
  detail: 'Failing row contains (null, 360, 17, secc, 2025-04-19 11:29:00.128, 2025-04-19 11:29:00.128, 1, COMPLETE).',
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: 'public',
  table: 'kyb_responses',
  column: 'id',
  dataType: undefined,
  constraint: undefined,
  file: 'execMain.c',
  line: '1982',
  routine: 'ExecConstraints'
}
[SERVER DEBUG] --- Finished processing field "directorsAndOfficers" ---

[SERVER DEBUG] Processing field: "contactEmail" (ID: 18)
[SERVER DEBUG] Original value: ccasd
[SERVER DEBUG] Normalized value: "ccasd" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: NO
[SERVER DEBUG] INSERTING new response for field "contactEmail"
[SERVER DEBUG] - Value: "ccasd" (string)
[SERVER DEBUG] - Status: COMPLETE
[SERVER DEBUG] ❌ DATABASE ERROR inserting response for field "contactEmail":
error: null value in column "id" of relation "kyb_responses" violates not-null constraint
    at file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async <anonymous> (/home/runner/workspace/server/routes/kyb.ts:485:28) {
  length: 281,
  severity: 'ERROR',
  code: '23502',
  detail: 'Failing row contains (null, 360, 18, ccasd, 2025-04-19 11:29:00.128, 2025-04-19 11:29:00.128, 1, COMPLETE).',
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: 'public',
  table: 'kyb_responses',
  column: 'id',
  dataType: undefined,
  constraint: undefined,
  file: 'execMain.c',
  line: '1982',
  routine: 'ExecConstraints'
}
[SERVER DEBUG] --- Finished processing field "contactEmail" ---

[SERVER DEBUG] Processing field: "marketCapitalization" (ID: 19)
[SERVER DEBUG] Original value: fasdfjv
[SERVER DEBUG] Normalized value: "fasdfjv" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: NO
[SERVER DEBUG] INSERTING new response for field "marketCapitalization"
[SERVER DEBUG] - Value: "fasdfjv" (string)
[SERVER DEBUG] - Status: COMPLETE
[SERVER DEBUG] ❌ DATABASE ERROR inserting response for field "marketCapitalization":
error: null value in column "id" of relation "kyb_responses" violates not-null constraint
    at file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async <anonymous> (/home/runner/workspace/server/routes/kyb.ts:485:28) {
  length: 283,
  severity: 'ERROR',
  code: '23502',
  detail: 'Failing row contains (null, 360, 19, fasdfjv, 2025-04-19 11:29:00.128, 2025-04-19 11:29:00.128, 1, COMPLETE).',
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: 'public',
  table: 'kyb_responses',
  column: 'id',
  dataType: undefined,
  constraint: undefined,
  file: 'execMain.c',
  line: '1982',
  routine: 'ExecConstraints'
}
[SERVER DEBUG] --- Finished processing field "marketCapitalization" ---

[SERVER DEBUG] Processing field: "lifetimeCustomerValue" (ID: 20)
[SERVER DEBUG] Original value: ghjjjj
[SERVER DEBUG] Normalized value: "ghjjjj" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: NO
[SERVER DEBUG] INSERTING new response for field "lifetimeCustomerValue"
[SERVER DEBUG] - Value: "ghjjjj" (string)
[SERVER DEBUG] - Status: COMPLETE
[SERVER DEBUG] ❌ DATABASE ERROR inserting response for field "lifetimeCustomerValue":
error: null value in column "id" of relation "kyb_responses" violates not-null constraint
    at file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async <anonymous> (/home/runner/workspace/server/routes/kyb.ts:485:28) {
  length: 282,
  severity: 'ERROR',
  code: '23502',
  detail: 'Failing row contains (null, 360, 20, ghjjjj, 2025-04-19 11:29:00.128, 2025-04-19 11:29:00.128, 1, COMPLETE).',
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: 'public',
  table: 'kyb_responses',
  column: 'id',
  dataType: undefined,
  constraint: undefined,
  file: 'execMain.c',
  line: '1982',
  routine: 'ExecConstraints'
}
[SERVER DEBUG] --- Finished processing field "lifetimeCustomerValue" ---

[SERVER DEBUG] Processing field: "annualRecurringRevenue" (ID: 21)
[SERVER DEBUG] Original value: gggg
[SERVER DEBUG] Normalized value: "gggg" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: NO
[SERVER DEBUG] INSERTING new response for field "annualRecurringRevenue"
[SERVER DEBUG] - Value: "gggg" (string)
[SERVER DEBUG] - Status: COMPLETE
[SERVER DEBUG] ❌ DATABASE ERROR inserting response for field "annualRecurringRevenue":
error: null value in column "id" of relation "kyb_responses" violates not-null constraint
    at file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async <anonymous> (/home/runner/workspace/server/routes/kyb.ts:485:28) {
  length: 280,
  severity: 'ERROR',
  code: '23502',
  detail: 'Failing row contains (null, 360, 21, gggg, 2025-04-19 11:29:00.128, 2025-04-19 11:29:00.128, 1, COMPLETE).',
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: 'public',
  table: 'kyb_responses',
  column: 'id',
  dataType: undefined,
  constraint: undefined,
  file: 'execMain.c',
  line: '1982',
  routine: 'ExecConstraints'
}
[SERVER DEBUG] --- Finished processing field "annualRecurringRevenue" ---

[SERVER DEBUG] Processing field: "monthlyRecurringRevenue" (ID: 22)
[SERVER DEBUG] Original value: hhhh
[SERVER DEBUG] Normalized value: "hhhh" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: NO
[SERVER DEBUG] INSERTING new response for field "monthlyRecurringRevenue"
[SERVER DEBUG] - Value: "hhhh" (string)
[SERVER DEBUG] - Status: COMPLETE
[SERVER DEBUG] ❌ DATABASE ERROR inserting response for field "monthlyRecurringRevenue":
error: null value in column "id" of relation "kyb_responses" violates not-null constraint
    at file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async <anonymous> (/home/runner/workspace/server/routes/kyb.ts:485:28) {
  length: 280,
  severity: 'ERROR',
  code: '23502',
  detail: 'Failing row contains (null, 360, 22, hhhh, 2025-04-19 11:29:00.128, 2025-04-19 11:29:00.128, 1, COMPLETE).',
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: 'public',
  table: 'kyb_responses',
  column: 'id',
  dataType: undefined,
  constraint: undefined,
  file: 'execMain.c',
  line: '1982',
  routine: 'ExecConstraints'
}
[SERVER DEBUG] --- Finished processing field "monthlyRecurringRevenue" ---

[SERVER DEBUG] Processing field: "investigationsIncidents" (ID: 23)
[SERVER DEBUG] Original value: ffghhh
[SERVER DEBUG] Normalized value: "ffghhh" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: NO
[SERVER DEBUG] INSERTING new response for field "investigationsIncidents"
[SERVER DEBUG] - Value: "ffghhh" (string)
[SERVER DEBUG] - Status: COMPLETE
[SERVER DEBUG] ❌ DATABASE ERROR inserting response for field "investigationsIncidents":
error: null value in column "id" of relation "kyb_responses" violates not-null constraint
    at file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async <anonymous> (/home/runner/workspace/server/routes/kyb.ts:485:28) {
  length: 282,
  severity: 'ERROR',
  code: '23502',
  detail: 'Failing row contains (null, 360, 23, ffghhh, 2025-04-19 11:29:00.128, 2025-04-19 11:29:00.128, 1, COMPLETE).',
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: 'public',
  table: 'kyb_responses',
  column: 'id',
  dataType: undefined,
  constraint: undefined,
  file: 'execMain.c',
  line: '1982',
  routine: 'ExecConstraints'
}
[SERVER DEBUG] --- Finished processing field "investigationsIncidents" ---

[SERVER DEBUG] Processing field: "financialStatements" (ID: 24)
[SERVER DEBUG] Original value: yutuuu
[SERVER DEBUG] Normalized value: "yutuuu" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: NO
[SERVER DEBUG] INSERTING new response for field "financialStatements"
[SERVER DEBUG] - Value: "yutuuu" (string)
[SERVER DEBUG] - Status: COMPLETE
[SERVER DEBUG] ❌ DATABASE ERROR inserting response for field "financialStatements":
error: null value in column "id" of relation "kyb_responses" violates not-null constraint
    at file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async <anonymous> (/home/runner/workspace/server/routes/kyb.ts:485:28) {
  length: 282,
  severity: 'ERROR',
  code: '23502',
  detail: 'Failing row contains (null, 360, 24, yutuuu, 2025-04-19 11:29:00.128, 2025-04-19 11:29:00.128, 1, COMPLETE).',
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: 'public',
  table: 'kyb_responses',
  column: 'id',
  dataType: undefined,
  constraint: undefined,
  file: 'execMain.c',
  line: '1982',
  routine: 'ExecConstraints'
}
[SERVER DEBUG] --- Finished processing field "financialStatements" ---

[SERVER DEBUG] Processing field: "operationalPolicies" (ID: 25)
[SERVER DEBUG] Original value: jnfff
[SERVER DEBUG] Normalized value: "jnfff" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: NO
[SERVER DEBUG] INSERTING new response for field "operationalPolicies"
[SERVER DEBUG] - Value: "jnfff" (string)
[SERVER DEBUG] - Status: COMPLETE
[SERVER DEBUG] ❌ DATABASE ERROR inserting response for field "operationalPolicies":
error: null value in column "id" of relation "kyb_responses" violates not-null constraint
    at file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async <anonymous> (/home/runner/workspace/server/routes/kyb.ts:485:28) {
  length: 281,
  severity: 'ERROR',
  code: '23502',
  detail: 'Failing row contains (null, 360, 25, jnfff, 2025-04-19 11:29:00.128, 2025-04-19 11:29:00.128, 1, COMPLETE).',
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: 'public',
  table: 'kyb_responses',
  column: 'id',
  dataType: undefined,
  constraint: undefined,
  file: 'execMain.c',
  line: '1982',
  routine: 'ExecConstraints'
}
[SERVER DEBUG] --- Finished processing field "operationalPolicies" ---

[SERVER DEBUG] Processing field: "dataVolume" (ID: 26)
[SERVER DEBUG] Original value: fgh3f
[SERVER DEBUG] Normalized value: "fgh3f" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: NO
[SERVER DEBUG] INSERTING new response for field "dataVolume"
[SERVER DEBUG] - Value: "fgh3f" (string)
[SERVER DEBUG] - Status: COMPLETE
[SERVER DEBUG] ❌ DATABASE ERROR inserting response for field "dataVolume":
error: null value in column "id" of relation "kyb_responses" violates not-null constraint
    at file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async <anonymous> (/home/runner/workspace/server/routes/kyb.ts:485:28) {
  length: 281,
  severity: 'ERROR',
  code: '23502',
  detail: 'Failing row contains (null, 360, 26, fgh3f, 2025-04-19 11:29:00.128, 2025-04-19 11:29:00.128, 1, COMPLETE).',
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: 'public',
  table: 'kyb_responses',
  column: 'id',
  dataType: undefined,
  constraint: undefined,
  file: 'execMain.c',
  line: '1982',
  routine: 'ExecConstraints'
}
[SERVER DEBUG] --- Finished processing field "dataVolume" ---

[SERVER DEBUG] Processing field: "dataTypes" (ID: 27)
[SERVER DEBUG] Original value: f2fff
[SERVER DEBUG] Normalized value: "f2fff" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: NO
[SERVER DEBUG] INSERTING new response for field "dataTypes"
[SERVER DEBUG] - Value: "f2fff" (string)
[SERVER DEBUG] - Status: COMPLETE
[SERVER DEBUG] ❌ DATABASE ERROR inserting response for field "dataTypes":
error: null value in column "id" of relation "kyb_responses" violates not-null constraint
    at file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async <anonymous> (/home/runner/workspace/server/routes/kyb.ts:485:28) {
  length: 281,
  severity: 'ERROR',
  code: '23502',
  detail: 'Failing row contains (null, 360, 27, f2fff, 2025-04-19 11:29:00.128, 2025-04-19 11:29:00.128, 1, COMPLETE).',
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: 'public',
  table: 'kyb_responses',
  column: 'id',
  dataType: undefined,
  constraint: undefined,
  file: 'execMain.c',
  line: '1982',
  routine: 'ExecConstraints'
}
[SERVER DEBUG] --- Finished processing field "dataTypes" ---

[SERVER DEBUG] Processing field: "sanctionsCheck" (ID: 28)
[SERVER DEBUG] Original value: asdf
[SERVER DEBUG] Normalized value: "asdf" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: NO
[SERVER DEBUG] INSERTING new response for field "sanctionsCheck"
[SERVER DEBUG] - Value: "asdf" (string)
[SERVER DEBUG] - Status: COMPLETE
[SERVER DEBUG] ❌ DATABASE ERROR inserting response for field "sanctionsCheck":
error: null value in column "id" of relation "kyb_responses" violates not-null constraint
    at file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async <anonymous> (/home/runner/workspace/server/routes/kyb.ts:485:28) {
  length: 280,
  severity: 'ERROR',
  code: '23502',
  detail: 'Failing row contains (null, 360, 28, asdf, 2025-04-19 11:29:00.128, 2025-04-19 11:29:00.128, 1, COMPLETE).',
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: 'public',
  table: 'kyb_responses',
  column: 'id',
  dataType: undefined,
  constraint: undefined,
  file: 'execMain.c',
  line: '1982',
  routine: 'ExecConstraints'
}
[SERVER DEBUG] --- Finished processing field "sanctionsCheck" ---

[SERVER DEBUG] Processing field: "dueDiligence" (ID: 29)
[SERVER DEBUG] Original value: fvcaaa
[SERVER DEBUG] Normalized value: "fvcaaa" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: NO
[SERVER DEBUG] INSERTING new response for field "dueDiligence"
[SERVER DEBUG] - Value: "fvcaaa" (string)
[SERVER DEBUG] - Status: COMPLETE
[SERVER DEBUG] ❌ DATABASE ERROR inserting response for field "dueDiligence":
error: null value in column "id" of relation "kyb_responses" violates not-null constraint
    at file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async <anonymous> (/home/runner/workspace/server/routes/kyb.ts:485:28) {
  length: 282,
  severity: 'ERROR',
  code: '23502',
  detail: 'Failing row contains (null, 360, 29, fvcaaa, 2025-04-19 11:29:00.128, 2025-04-19 11:29:00.128, 1, COMPLETE).',
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: 'public',
  table: 'kyb_responses',
  column: 'id',
  dataType: undefined,
  constraint: undefined,
  file: 'execMain.c',
  line: '1982',
  routine: 'ExecConstraints'
}
[SERVER DEBUG] --- Finished processing field "dueDiligence" ---

[SERVER DEBUG] Processing field: "regulatoryActions" (ID: 30)
[SERVER DEBUG] Original value: aaqwww
[SERVER DEBUG] Normalized value: "aaqwww" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: NO
[SERVER DEBUG] INSERTING new response for field "regulatoryActions"
[SERVER DEBUG] - Value: "aaqwww" (string)
[SERVER DEBUG] - Status: COMPLETE
[SERVER DEBUG] ❌ DATABASE ERROR inserting response for field "regulatoryActions":
error: null value in column "id" of relation "kyb_responses" violates not-null constraint
    at file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async <anonymous> (/home/runner/workspace/server/routes/kyb.ts:485:28) {
  length: 282,
  severity: 'ERROR',
  code: '23502',
  detail: 'Failing row contains (null, 360, 30, aaqwww, 2025-04-19 11:29:00.128, 2025-04-19 11:29:00.128, 1, COMPLETE).',
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: 'public',
  table: 'kyb_responses',
  column: 'id',
  dataType: undefined,
  constraint: undefined,
  file: 'execMain.c',
  line: '1982',
  routine: 'ExecConstraints'
}
[SERVER DEBUG] --- Finished processing field "regulatoryActions" ---

[SERVER DEBUG] ERROR: Field not found in database schema: "taskId"
11:29:04 AM [info] GET /api/tasks 304 in 31ms :: [{"id":360,"title":"1. KYB Form: DevelopmentTesting1","description":"Complete...
[KYB API Debug] Using client-provided status: ready_for_submission
===============================================
[SERVER DEBUG] PREPARING RESPONSE at 2025-04-19T11:29:04.854Z
[SERVER DEBUG] Found 0 fields in database after update
===============================================
[SERVER DEBUG] Checking field corporateRegistration in updated data: NOT PRESENT
[SERVER DEBUG] Checking field goodStanding in updated data: NOT PRESENT
[SERVER DEBUG] Checking field regulatoryActions in updated data: NOT PRESENT
[SERVER DEBUG] Checking field investigationsIncidents in updated data: NOT PRESENT
[SERVER DEBUG] No fields with value "asdf" found in response data
[SERVER DEBUG] Sending response with 0 fields, status: ready_for_submission, progress: 100%
[SERVER DEBUG] Updating task.savedFormData to ensure persistence across navigation
[SERVER DEBUG] ✅ Successfully updated task.savedFormData with latest form data
===============================================
11:29:04 AM [info] POST /api/kyb/progress 200 in 4844ms :: {"success":true,"savedData":{"progress":100,"status":"ready_for_submission","...
11:29:09 AM [info] GET /api/tasks 304 in 30ms :: [{"id":360,"title":"1. KYB Form: DevelopmentTesting1","description":"Complete...
11:29:15 AM [info] GET /api/tasks 304 in 30ms :: [{"id":360,"title":"1. KYB Form: DevelopmentTesting1","description":"Complete...
11:29:20 AM [info] GET /api/tasks 304 in 30ms :: [{"id":360,"title":"1. KYB Form: DevelopmentTesting1","description":"Complete...
11:29:25 AM [info] GET /api/tasks 304 in 29ms :: [{"id":360,"title":"1. KYB Form: DevelopmentTesting1","description":"Complete...
[Tasks] ====== Starting task fetch =====
[Tasks] User details: { id: 213, company_id: 172, email: 'eva.n.c.navarro@gmail.com' }
[Tasks] KYB tasks found: { count: 1 }
[Tasks] Query conditions: {
  conditions: {
    condition1: 'tasks.assigned_to = 213',
    condition2: 'tasks.created_by = 213',
    condition3: "tasks.company_id = 172 AND tasks.assigned_to IS NULL AND tasks.task_scope = 'company'",
    condition4: "tasks.task_type = 'user_onboarding' AND LOWER(tasks.user_email) = LOWER('eva.n.c.navarro@gmail.com')"
  }
}
[Tasks] Tasks found: { count: 4 }
11:29:30 AM [info] GET /api/tasks 200 in 88ms :: [{"id":360,"title":"1. KYB Form: DevelopmentTesting1","description":"Complete...
[WebSocket] Received pong
[WebSocket] Received pong
[WebSocket] Received message: {
  type: 'pong',
  payload: { timestamp: '2025-04-19T11:29:33.867Z' },
  connectionId: 'ws-1'
}
11:29:35 AM [info] GET /api/tasks 304 in 29ms :: [{"id":360,"title":"1. KYB Form: DevelopmentTesting1","description":"Complete...
11:29:41 AM [info] GET /api/tasks 304 in 30ms :: [{"id":360,"title":"1. KYB Form: DevelopmentTesting1","description":"Complete...
11:29:46 AM [info] GET /api/tasks 304 in 29ms :: [{"id":360,"title":"1. KYB Form: DevelopmentTesting1","description":"Complete...
[Auth] Using cached user data: 213
11:29:51 AM [info] GET /api/tasks 304 in 31ms :: [{"id":360,"title":"1. KYB Form: DevelopmentTesting1","description":"Complete...
11:29:56 AM [info] GET /api/tasks 304 in 30ms :: [{"id":360,"title":"1. KYB Form: DevelopmentTesting1","description":"Complete...
[Tasks Routes] Fetching task by ID: { taskId: 360, timestamp: '2025-04-19T11:30:00.648Z' }
11:30:00 AM [info] GET /api/tasks 304 in 29ms :: [{"id":360,"title":"1. KYB Form: DevelopmentTesting1","description":"Complete...
[Tasks Routes] Fetching latest KYB form data for task: 360
[Tasks Routes] No KYB responses found for task 360
[Tasks Routes] Task found by ID: {
  taskId: 360,
  title: '1. KYB Form: DevelopmentTesting1',
  type: 'company_kyb',
  formDataFields: 0,
  timestamp: '2025-04-19T11:30:00.754Z'
}
[Auth] Returning user session data
[Task Templates API] Fetching template for task type: company_kyb, user: 213
11:30:00 AM [info] GET /api/tasks/360 200 in 147ms :: {"id":360,"title":"1. KYB Form: DevelopmentTesting1","description":"Complete ...
[Task Templates API] Found template: 1 (KYB Form) for task type: company_kyb
[Task Templates API] Retrieved 9 configuration items for template ID: 1
11:30:00 AM [info] GET /api/task-templates/by-type/company_kyb 304 in 100ms :: {"id":1,"name":"KYB Form","description":"Know Your Business form for company ...
11:30:00 AM [info] GET /api/companies/current 304 in 34ms :: {"id":172,"name":"DevelopmentTesting1","description":"FinTech partner company...
[KYB API Debug] Loading progress for task: 360
[Task Reconciliation] Found 0 responses for task 360
[STATUS DETERMINATION] Calculating status for task with: {
  progress: 0,
  currentStatus: 'ready_for_submission',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  hasResponses: false,
  timestamp: '2025-04-19T11:30:01.109Z'
}
[STATUS DETERMINATION] Task has 0% progress, setting to NOT_STARTED
[Task Reconciliation] Progress calculation: {
  taskId: 360,
  currentProgress: 100,
  calculatedProgress: 0,
  currentStatus: 'ready_for_submission',
  calculatedStatus: 'not_started',
  responseCount: 0,
  completeCount: 0
}
[Task Reconciliation] Correcting task 360: {
  progressFrom: 100,
  progressTo: 0,
  statusFrom: 'ready_for_submission',
  statusTo: 'not_started',
  forceUpdate: false
}
[Progress Utils] Broadcasting task progress update: {
  taskId: 360,
  progress: 0,
  requestedStatus: 'not_started',
  finalStatus: 'not_started',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  timestamp: '2025-04-19T11:30:01.141Z'
}
[WebSocket] Broadcasting task update: {
  taskId: 360,
  status: 'not_started',
  progress: 0,
  metadata: {
    company_id: 172,
    created_at: '2025-04-19T11:18:52.303Z',
    statusFlow: [ 'in_progress', 'ready_for_submission' ],
    created_via: 'fintech_invite',
    lastUpdated: '2025-04-19T11:29:00.128Z',
    status_flow: [ 'not_started' ],
    company_name: 'DevelopmentTesting1',
    created_by_id: 183,
    prerequisite_for: [ 'security_assessment' ],
    lastProgressReconciliation: '2025-04-19T11:30:01.109Z'
  }
}
[KYB API Debug] Retrieved task: {
  taskId: 360,
  status: 'not_started',
  progress: 0,
  metadata: [
    'company_id',
    'created_at',
    'statusFlow',
    'created_via',
    'lastUpdated',
    'status_flow',
    'company_name',
    'created_by_id',
    'prerequisite_for',
    'lastProgressReconciliation'
  ],
  timestamp: '2025-04-19T11:30:01.177Z'
}
[KYB API Debug] Retrieved responses: { responseCount: 0, fields: [], timestamp: '2025-04-19T11:30:01.207Z' }
[SERVER DEBUG] No savedFormData found in task table
[KYB API Debug] Retrieved task data: {
  id: 360,
  responseCount: 0,
  progress: 0,
  status: 'not_started',
  formDataKeys: []
}
===============================================
[SERVER DEBUG] PREPARING GET RESPONSE at 2025-04-19T11:30:01.207Z
[SERVER DEBUG] Task ID: 360, Found 0 fields in database
===============================================
[SERVER DEBUG] Checking field corporateRegistration in retrieved data: NOT PRESENT
[SERVER DEBUG] Checking field goodStanding in retrieved data: NOT PRESENT
[SERVER DEBUG] Checking field regulatoryActions in retrieved data: NOT PRESENT
[SERVER DEBUG] Checking field investigationsIncidents in retrieved data: NOT PRESENT
[SERVER DEBUG] No fields with value "asdf" found in GET response data
[SERVER DEBUG] Sending GET response with 0 fields, status: not_started, progress: 0%
===============================================
11:30:01 AM [info] GET /api/kyb/progress/360 304 in 197ms :: {"formData":{},"progress":0,"status":"not_started"}
[KYB API Debug] Loading progress for task: 360
[Task Reconciliation] Found 0 responses for task 360
[STATUS DETERMINATION] Calculating status for task with: {
  progress: 0,
  currentStatus: 'not_started',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  hasResponses: false,
  timestamp: '2025-04-19T11:30:01.454Z'
}
[STATUS DETERMINATION] Task has 0% progress, setting to NOT_STARTED
[Task Reconciliation] Progress calculation: {
  taskId: 360,
  currentProgress: 0,
  calculatedProgress: 0,
  currentStatus: 'not_started',
  calculatedStatus: 'not_started',
  responseCount: 0,
  completeCount: 0
}
[Task Reconciliation] No updates needed for task 360
[KYB API Debug] Retrieved task: {
  taskId: 360,
  status: 'not_started',
  progress: 0,
  metadata: [
    'company_id',
    'created_at',
    'statusFlow',
    'created_via',
    'lastUpdated',
    'status_flow',
    'company_name',
    'created_by_id',
    'prerequisite_for',
    'lastProgressReconciliation'
  ],
  timestamp: '2025-04-19T11:30:01.485Z'
}
[KYB API Debug] Retrieved responses: { responseCount: 0, fields: [], timestamp: '2025-04-19T11:30:01.515Z' }
[SERVER DEBUG] No savedFormData found in task table
[KYB API Debug] Retrieved task data: {
  id: 360,
  responseCount: 0,
  progress: 0,
  status: 'not_started',
  formDataKeys: []
}
===============================================
[SERVER DEBUG] PREPARING GET RESPONSE at 2025-04-19T11:30:01.516Z
[SERVER DEBUG] Task ID: 360, Found 0 fields in database
===============================================
[SERVER DEBUG] Checking field corporateRegistration in retrieved data: NOT PRESENT
[SERVER DEBUG] Checking field goodStanding in retrieved data: NOT PRESENT
[SERVER DEBUG] Checking field regulatoryActions in retrieved data: NOT PRESENT
[SERVER DEBUG] Checking field investigationsIncidents in retrieved data: NOT PRESENT
[SERVER DEBUG] No fields with value "asdf" found in GET response data
[SERVER DEBUG] Sending GET response with 0 fields, status: not_started, progress: 0%
===============================================
11:30:01 AM [info] GET /api/kyb/progress/360 304 in 155ms :: {"formData":{},"progress":0,"status":"not_started"}
[KYB API Debug] Loading progress for task: 360
[Task Reconciliation] Found 0 responses for task 360
[STATUS DETERMINATION] Calculating status for task with: {
  progress: 0,
  currentStatus: 'not_started',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  hasResponses: false,
  timestamp: '2025-04-19T11:30:01.772Z'
}
[STATUS DETERMINATION] Task has 0% progress, setting to NOT_STARTED
[Task Reconciliation] Progress calculation: {
  taskId: 360,
  currentProgress: 0,
  calculatedProgress: 0,
  currentStatus: 'not_started',
  calculatedStatus: 'not_started',
  responseCount: 0,
  completeCount: 0
}
[Task Reconciliation] No updates needed for task 360
[KYB API Debug] Retrieved task: {
  taskId: 360,
  status: 'not_started',
  progress: 0,
  metadata: [
    'company_id',
    'created_at',
    'statusFlow',
    'created_via',
    'lastUpdated',
    'status_flow',
    'company_name',
    'created_by_id',
    'prerequisite_for',
    'lastProgressReconciliation'
  ],
  timestamp: '2025-04-19T11:30:01.803Z'
}
[KYB API Debug] Retrieved responses: { responseCount: 0, fields: [], timestamp: '2025-04-19T11:30:01.833Z' }
[SERVER DEBUG] No savedFormData found in task table
[KYB API Debug] Retrieved task data: {
  id: 360,
  responseCount: 0,
  progress: 0,
  status: 'not_started',
  formDataKeys: []
}
===============================================
[SERVER DEBUG] PREPARING GET RESPONSE at 2025-04-19T11:30:01.833Z
[SERVER DEBUG] Task ID: 360, Found 0 fields in database
===============================================
[SERVER DEBUG] Checking field corporateRegistration in retrieved data: NOT PRESENT
[SERVER DEBUG] Checking field goodStanding in retrieved data: NOT PRESENT
[SERVER DEBUG] Checking field regulatoryActions in retrieved data: NOT PRESENT
[SERVER DEBUG] Checking field investigationsIncidents in retrieved data: NOT PRESENT
[SERVER DEBUG] No fields with value "asdf" found in GET response data
[SERVER DEBUG] Sending GET response with 0 fields, status: not_started, progress: 0%
===============================================
11:30:01 AM [info] GET /api/kyb/progress/360 304 in 164ms :: {"formData":{},"progress":0,"status":"not_started"}
[WebSocket] Received pong
[WebSocket] Received pong
[WebSocket] Received message: {
  type: 'pong',
  payload: { timestamp: '2025-04-19T11:30:18.851Z' },
  connectionId: 'ws-1'
}
[WebSocket] Received pong
[WebSocket] Received pong
[WebSocket] Received message: {
  type: 'pong',
  payload: { timestamp: '2025-04-19T11:31:03.855Z' },
  connectionId: 'ws-1'
}
[TimestampHandler] Saving 31 timestamps for task 360
[KYB API Debug] KYB save endpoint triggered: {
  endpoint: '/api/kyb/save',
  method: 'POST',
  url: '/api/kyb/save',
  headers: {
    contentType: 'application/json',
    accept: 'application/json',
    cookie: true
  },
  timestamp: '2025-04-19T11:31:11.689Z'
}
[KYB API Debug] User authenticated: {
  userId: 213,
  userEmail: 'eva.n.c.navarro@gmail.com',
  companyId: 172,
  timestamp: '2025-04-19T11:31:11.689Z'
}
[2025-04-19T11:31:11.689Z] [DEBUG] [KYBRoutes] Save request received {"taskId":360,"formDataKeys":["legalEntityName","registrationNumber","incorporationDate","businessType","jurisdiction","registeredAddress","companyPhone","priorNames","licenses","goodStanding","corporateRegistration","externalAudit","controlEnvironment","authorizedSigners","governmentOwnership","ultimateBeneficialOwners","directorsAndOfficers","contactEmail","marketCapitalization","lifetimeCustomerValue","annualRecurringRevenue","monthlyRecurringRevenue","investigationsIncidents","financialStatements","operationalPolicies","dataVolume","dataTypes","sanctionsCheck","dueDiligence","regulatoryActions","completion_date"],"fileName":"kyb_form_360_2025-04-19T113111.csv","userId":213,"isSubmission":false}
[TimestampHandler] Successfully saved timestamps for task 360
[TimestampAPI] Saved 31 timestamps for task 360
11:31:11 AM [info] POST /api/kyb/timestamps/360 200 in 63ms :: {"message":"Timestamps saved successfully","count":31}
[2025-04-19T11:31:11.748Z] [DEBUG] [FileCreationService] Starting file creation {"fileName":"kyb_form_360_2025-04-19T113111.csv","fileType":"text/csv","userId":183,"companyId":172}
[2025-04-19T11:31:11.748Z] [DEBUG] [FileCreationService] Storing KYB CSV content directly in database
[2025-04-19T11:31:11.813Z] [INFO] [FileCreationService] File created successfully {"fileId":713,"fileName":"kyb_form_360_2025-04-19T113111.csv","size":1596}
===============================================
[SERVER DEBUG] KYB PROGRESS SAVE REQUEST RECEIVED at 2025-04-19T11:31:11.913Z
===============================================
Task ID: 360
Progress: 100
Status: ready_for_submission
Field count: 31
Sample form data values:
- legalEntityName: "asdf" (string)
- registrationNumber: "asdf" (string)
- incorporationDate: "asdf" (string)
- businessType: "asdf" (string)
- jurisdiction: "asdf" (string)
Request details:
- Method: POST
- Content-Type: application/json
- Content-Length: 1923
===============================================
[KYB API Debug] Error saving KYB form {
  errorType: 'DatabaseError',
  errorMessage: 'null value in column "id" of relation "kyb_responses" violates not-null constraint',
  errorStack: 'error: null value in column "id" of relation "kyb_responses" violates not-null constraint\n' +
    '    at file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1345:74\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n' +
    '    at async <anonymous> (/home/runner/workspace/server/routes/kyb.ts:902:9)',
  requestHeaders: {
    contentType: 'application/json',
    accept: 'application/json',
    cookiePresent: true
  },
  sessionID: 'PREp3Y60x5KvYbrHXe0KffdLhfJaaGAw',
  authenticatedStatus: true,
  userPresent: true,
  timestamp: '2025-04-19T11:31:11.962Z'
}
[2025-04-19T11:31:11.962Z] [ERROR] [KYBRoutes] Error saving KYB form {"error":"null value in column \"id\" of relation \"kyb_responses\" violates not-null constraint","stack":"error: null value in column \"id\" of relation \"kyb_responses\" violates not-null constraint\n    at file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1345:74\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async <anonymous> (/home/runner/workspace/server/routes/kyb.ts:902:9)"}
===============================================
[SERVER DEBUG] PROCESSING FORM DATA FIELDS AT 2025-04-19T11:31:11.972Z
[SERVER DEBUG] Task ID: 360, Field count: 31
===============================================
[SERVER DEBUG] COMPLETE FORM DATA DUMP:
[SERVER DEBUG] legalEntityName: "asdf" (string)
[SERVER DEBUG] registrationNumber: "asdf" (string)
[SERVER DEBUG] incorporationDate: "asdf" (string)
[SERVER DEBUG] businessType: "asdf" (string)
[SERVER DEBUG] jurisdiction: "asdf" (string)
[SERVER DEBUG] registeredAddress: "asdf" (string)
[SERVER DEBUG] companyPhone: "asdf" (string)
[SERVER DEBUG] priorNames: "fffff" (string)
[SERVER DEBUG] licenses: "fff" (string)
[SERVER DEBUG] goodStanding: "ddd" (string)
[SERVER DEBUG] corporateRegistration: "sss" (string)
[SERVER DEBUG] externalAudit: "aa" (string)
[SERVER DEBUG] controlEnvironment: "vasdf" (string)
[SERVER DEBUG] authorizedSigners: "asdf" (string)
[SERVER DEBUG] governmentOwnership: "fasdffff" (string)
[SERVER DEBUG] ultimateBeneficialOwners: "fa" (string)
[SERVER DEBUG] directorsAndOfficers: "secc" (string)
[SERVER DEBUG] contactEmail: "ccasd" (string)
[SERVER DEBUG] marketCapitalization: "fasdfjv" (string)
[SERVER DEBUG] lifetimeCustomerValue: "ghjjjj" (string)
[SERVER DEBUG] annualRecurringRevenue: "gggg" (string)
[SERVER DEBUG] monthlyRecurringRevenue: "hhhh" (string)
[SERVER DEBUG] investigationsIncidents: "ffghhh" (string)
[SERVER DEBUG] financialStatements: "yutuuu" (string)
[SERVER DEBUG] operationalPolicies: "jnfff" (string)
[SERVER DEBUG] dataVolume: "fgh3f" (string)
[SERVER DEBUG] dataTypes: "f2fff" (string)
[SERVER DEBUG] sanctionsCheck: "asdf" (string)
[SERVER DEBUG] dueDiligence: "fvcaaa" (string)
[SERVER DEBUG] regulatoryActions: "aaqwww" (string)
[SERVER DEBUG] taskId: "360" (number)
[SERVER DEBUG] END OF FORM DATA DUMP
[SERVER DEBUG] ⚠️ WARNING: Found 9 fields with value "asdf":
[SERVER DEBUG] legalEntityName, registrationNumber, incorporationDate, businessType, jurisdiction, registeredAddress, companyPhone, authorizedSigners, sanctionsCheck
[SERVER DEBUG] This may indicate a data issue in the client or database
[SERVER DEBUG] Processing field: "legalEntityName" (ID: 1)
[SERVER DEBUG] Original value: asdf
[SERVER DEBUG] Normalized value: "asdf" (string)
[SERVER DEBUG] Field status: COMPLETE
11:31:11 AM [error] POST /api/kyb/save 500 in 307ms :: {"error":"Failed to save KYB form data","details":"null value in column \"id\...
[SERVER DEBUG] Existing response found: NO
[SERVER DEBUG] INSERTING new response for field "legalEntityName"
[SERVER DEBUG] - Value: "asdf" (string)
[SERVER DEBUG] - Status: COMPLETE
[SERVER DEBUG] ❌ DATABASE ERROR inserting response for field "legalEntityName":
error: null value in column "id" of relation "kyb_responses" violates not-null constraint
    at file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async <anonymous> (/home/runner/workspace/server/routes/kyb.ts:485:28) {
  length: 279,
  severity: 'ERROR',
  code: '23502',
  detail: 'Failing row contains (null, 360, 1, asdf, 2025-04-19 11:31:11.972, 2025-04-19 11:31:11.972, 1, COMPLETE).',
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: 'public',
  table: 'kyb_responses',
  column: 'id',
  dataType: undefined,
  constraint: undefined,
  file: 'execMain.c',
  line: '1982',
  routine: 'ExecConstraints'
}
[SERVER DEBUG] --- Finished processing field "legalEntityName" ---

[SERVER DEBUG] Processing field: "registrationNumber" (ID: 2)
[SERVER DEBUG] Original value: asdf
[SERVER DEBUG] Normalized value: "asdf" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: NO
[SERVER DEBUG] INSERTING new response for field "registrationNumber"
[SERVER DEBUG] - Value: "asdf" (string)
[SERVER DEBUG] - Status: COMPLETE
[SERVER DEBUG] ❌ DATABASE ERROR inserting response for field "registrationNumber":
error: null value in column "id" of relation "kyb_responses" violates not-null constraint
    at file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async <anonymous> (/home/runner/workspace/server/routes/kyb.ts:485:28) {
  length: 279,
  severity: 'ERROR',
  code: '23502',
  detail: 'Failing row contains (null, 360, 2, asdf, 2025-04-19 11:31:11.972, 2025-04-19 11:31:11.972, 1, COMPLETE).',
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: 'public',
  table: 'kyb_responses',
  column: 'id',
  dataType: undefined,
  constraint: undefined,
  file: 'execMain.c',
  line: '1982',
  routine: 'ExecConstraints'
}
[SERVER DEBUG] --- Finished processing field "registrationNumber" ---

[SERVER DEBUG] Processing field: "incorporationDate" (ID: 3)
[SERVER DEBUG] Original value: asdf
[SERVER DEBUG] Normalized value: "asdf" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: NO
[SERVER DEBUG] INSERTING new response for field "incorporationDate"
[SERVER DEBUG] - Value: "asdf" (string)
[SERVER DEBUG] - Status: COMPLETE
[SERVER DEBUG] ❌ DATABASE ERROR inserting response for field "incorporationDate":
error: null value in column "id" of relation "kyb_responses" violates not-null constraint
    at file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async <anonymous> (/home/runner/workspace/server/routes/kyb.ts:485:28) {
  length: 279,
  severity: 'ERROR',
  code: '23502',
  detail: 'Failing row contains (null, 360, 3, asdf, 2025-04-19 11:31:11.972, 2025-04-19 11:31:11.972, 1, COMPLETE).',
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: 'public',
  table: 'kyb_responses',
  column: 'id',
  dataType: undefined,
  constraint: undefined,
  file: 'execMain.c',
  line: '1982',
  routine: 'ExecConstraints'
}
[SERVER DEBUG] --- Finished processing field "incorporationDate" ---

[SERVER DEBUG] Processing field: "businessType" (ID: 4)
[SERVER DEBUG] Original value: asdf
[SERVER DEBUG] Normalized value: "asdf" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: NO
[SERVER DEBUG] INSERTING new response for field "businessType"
[SERVER DEBUG] - Value: "asdf" (string)
[SERVER DEBUG] - Status: COMPLETE
[SERVER DEBUG] ❌ DATABASE ERROR inserting response for field "businessType":
error: null value in column "id" of relation "kyb_responses" violates not-null constraint
    at file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async <anonymous> (/home/runner/workspace/server/routes/kyb.ts:485:28) {
  length: 279,
  severity: 'ERROR',
  code: '23502',
  detail: 'Failing row contains (null, 360, 4, asdf, 2025-04-19 11:31:11.972, 2025-04-19 11:31:11.972, 1, COMPLETE).',
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: 'public',
  table: 'kyb_responses',
  column: 'id',
  dataType: undefined,
  constraint: undefined,
  file: 'execMain.c',
  line: '1982',
  routine: 'ExecConstraints'
}
[SERVER DEBUG] --- Finished processing field "businessType" ---

[SERVER DEBUG] Processing field: "jurisdiction" (ID: 5)
[SERVER DEBUG] Original value: asdf
[SERVER DEBUG] Normalized value: "asdf" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: NO
[SERVER DEBUG] INSERTING new response for field "jurisdiction"
[SERVER DEBUG] - Value: "asdf" (string)
[SERVER DEBUG] - Status: COMPLETE
[SERVER DEBUG] ❌ DATABASE ERROR inserting response for field "jurisdiction":
error: null value in column "id" of relation "kyb_responses" violates not-null constraint
    at file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async <anonymous> (/home/runner/workspace/server/routes/kyb.ts:485:28) {
  length: 279,
  severity: 'ERROR',
  code: '23502',
  detail: 'Failing row contains (null, 360, 5, asdf, 2025-04-19 11:31:11.972, 2025-04-19 11:31:11.972, 1, COMPLETE).',
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: 'public',
  table: 'kyb_responses',
  column: 'id',
  dataType: undefined,
  constraint: undefined,
  file: 'execMain.c',
  line: '1982',
  routine: 'ExecConstraints'
}
[SERVER DEBUG] --- Finished processing field "jurisdiction" ---

[SERVER DEBUG] Processing field: "registeredAddress" (ID: 6)
[SERVER DEBUG] Original value: asdf
[SERVER DEBUG] Normalized value: "asdf" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: NO
[SERVER DEBUG] INSERTING new response for field "registeredAddress"
[SERVER DEBUG] - Value: "asdf" (string)
[SERVER DEBUG] - Status: COMPLETE
[SERVER DEBUG] ❌ DATABASE ERROR inserting response for field "registeredAddress":
error: null value in column "id" of relation "kyb_responses" violates not-null constraint
    at file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async <anonymous> (/home/runner/workspace/server/routes/kyb.ts:485:28) {
  length: 279,
  severity: 'ERROR',
  code: '23502',
  detail: 'Failing row contains (null, 360, 6, asdf, 2025-04-19 11:31:11.972, 2025-04-19 11:31:11.972, 1, COMPLETE).',
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: 'public',
  table: 'kyb_responses',
  column: 'id',
  dataType: undefined,
  constraint: undefined,
  file: 'execMain.c',
  line: '1982',
  routine: 'ExecConstraints'
}
[SERVER DEBUG] --- Finished processing field "registeredAddress" ---

[SERVER DEBUG] Processing field: "companyPhone" (ID: 7)
[SERVER DEBUG] Original value: asdf
[SERVER DEBUG] Normalized value: "asdf" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: NO
[SERVER DEBUG] INSERTING new response for field "companyPhone"
[SERVER DEBUG] - Value: "asdf" (string)
[SERVER DEBUG] - Status: COMPLETE
[SERVER DEBUG] ❌ DATABASE ERROR inserting response for field "companyPhone":
error: null value in column "id" of relation "kyb_responses" violates not-null constraint
    at file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async <anonymous> (/home/runner/workspace/server/routes/kyb.ts:485:28) {
  length: 279,
  severity: 'ERROR',
  code: '23502',
  detail: 'Failing row contains (null, 360, 7, asdf, 2025-04-19 11:31:11.972, 2025-04-19 11:31:11.972, 1, COMPLETE).',
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: 'public',
  table: 'kyb_responses',
  column: 'id',
  dataType: undefined,
  constraint: undefined,
  file: 'execMain.c',
  line: '1982',
  routine: 'ExecConstraints'
}
[SERVER DEBUG] --- Finished processing field "companyPhone" ---

[SERVER DEBUG] Processing field: "priorNames" (ID: 8)
[SERVER DEBUG] Original value: fffff
[SERVER DEBUG] Normalized value: "fffff" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: NO
[SERVER DEBUG] INSERTING new response for field "priorNames"
[SERVER DEBUG] - Value: "fffff" (string)
[SERVER DEBUG] - Status: COMPLETE
[SERVER DEBUG] ❌ DATABASE ERROR inserting response for field "priorNames":
error: null value in column "id" of relation "kyb_responses" violates not-null constraint
    at file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async <anonymous> (/home/runner/workspace/server/routes/kyb.ts:485:28) {
  length: 280,
  severity: 'ERROR',
  code: '23502',
  detail: 'Failing row contains (null, 360, 8, fffff, 2025-04-19 11:31:11.972, 2025-04-19 11:31:11.972, 1, COMPLETE).',
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: 'public',
  table: 'kyb_responses',
  column: 'id',
  dataType: undefined,
  constraint: undefined,
  file: 'execMain.c',
  line: '1982',
  routine: 'ExecConstraints'
}
[SERVER DEBUG] --- Finished processing field "priorNames" ---

[SERVER DEBUG] Processing field: "licenses" (ID: 9)
[SERVER DEBUG] Original value: fff
[SERVER DEBUG] Normalized value: "fff" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: NO
[SERVER DEBUG] INSERTING new response for field "licenses"
[SERVER DEBUG] - Value: "fff" (string)
[SERVER DEBUG] - Status: COMPLETE
[SERVER DEBUG] ❌ DATABASE ERROR inserting response for field "licenses":
error: null value in column "id" of relation "kyb_responses" violates not-null constraint
    at file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async <anonymous> (/home/runner/workspace/server/routes/kyb.ts:485:28) {
  length: 278,
  severity: 'ERROR',
  code: '23502',
  detail: 'Failing row contains (null, 360, 9, fff, 2025-04-19 11:31:11.972, 2025-04-19 11:31:11.972, 1, COMPLETE).',
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: 'public',
  table: 'kyb_responses',
  column: 'id',
  dataType: undefined,
  constraint: undefined,
  file: 'execMain.c',
  line: '1982',
  routine: 'ExecConstraints'
}
[SERVER DEBUG] --- Finished processing field "licenses" ---

[SERVER DEBUG] Processing field: "goodStanding" (ID: 10)
[SERVER DEBUG] Original value: ddd
[SERVER DEBUG] Normalized value: "ddd" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: NO
[SERVER DEBUG] INSERTING new response for field "goodStanding"
[SERVER DEBUG] - Value: "ddd" (string)
[SERVER DEBUG] - Status: COMPLETE
[SERVER DEBUG] ❌ DATABASE ERROR inserting response for field "goodStanding":
error: null value in column "id" of relation "kyb_responses" violates not-null constraint
    at file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async <anonymous> (/home/runner/workspace/server/routes/kyb.ts:485:28) {
  length: 279,
  severity: 'ERROR',
  code: '23502',
  detail: 'Failing row contains (null, 360, 10, ddd, 2025-04-19 11:31:11.972, 2025-04-19 11:31:11.972, 1, COMPLETE).',
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: 'public',
  table: 'kyb_responses',
  column: 'id',
  dataType: undefined,
  constraint: undefined,
  file: 'execMain.c',
  line: '1982',
  routine: 'ExecConstraints'
}
[SERVER DEBUG] --- Finished processing field "goodStanding" ---

[SERVER DEBUG] Processing field: "corporateRegistration" (ID: 11)
[SERVER DEBUG] Original value: sss
[SERVER DEBUG] Normalized value: "sss" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: NO
[SERVER DEBUG] INSERTING new response for field "corporateRegistration"
[SERVER DEBUG] - Value: "sss" (string)
[SERVER DEBUG] - Status: COMPLETE
[SERVER DEBUG] ❌ DATABASE ERROR inserting response for field "corporateRegistration":
error: null value in column "id" of relation "kyb_responses" violates not-null constraint
    at file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async <anonymous> (/home/runner/workspace/server/routes/kyb.ts:485:28) {
  length: 279,
  severity: 'ERROR',
  code: '23502',
  detail: 'Failing row contains (null, 360, 11, sss, 2025-04-19 11:31:11.972, 2025-04-19 11:31:11.972, 1, COMPLETE).',
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: 'public',
  table: 'kyb_responses',
  column: 'id',
  dataType: undefined,
  constraint: undefined,
  file: 'execMain.c',
  line: '1982',
  routine: 'ExecConstraints'
}
[SERVER DEBUG] --- Finished processing field "corporateRegistration" ---

[SERVER DEBUG] Processing field: "externalAudit" (ID: 12)
[SERVER DEBUG] Original value: aa
[SERVER DEBUG] Normalized value: "aa" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: NO
[SERVER DEBUG] INSERTING new response for field "externalAudit"
[SERVER DEBUG] - Value: "aa" (string)
[SERVER DEBUG] - Status: COMPLETE
[SERVER DEBUG] ❌ DATABASE ERROR inserting response for field "externalAudit":
error: null value in column "id" of relation "kyb_responses" violates not-null constraint
    at file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async <anonymous> (/home/runner/workspace/server/routes/kyb.ts:485:28) {
  length: 278,
  severity: 'ERROR',
  code: '23502',
  detail: 'Failing row contains (null, 360, 12, aa, 2025-04-19 11:31:11.972, 2025-04-19 11:31:11.972, 1, COMPLETE).',
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: 'public',
  table: 'kyb_responses',
  column: 'id',
  dataType: undefined,
  constraint: undefined,
  file: 'execMain.c',
  line: '1982',
  routine: 'ExecConstraints'
}
[SERVER DEBUG] --- Finished processing field "externalAudit" ---

[SERVER DEBUG] Processing field: "controlEnvironment" (ID: 13)
[SERVER DEBUG] Original value: vasdf
[SERVER DEBUG] Normalized value: "vasdf" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: NO
[SERVER DEBUG] INSERTING new response for field "controlEnvironment"
[SERVER DEBUG] - Value: "vasdf" (string)
[SERVER DEBUG] - Status: COMPLETE
[SERVER DEBUG] ❌ DATABASE ERROR inserting response for field "controlEnvironment":
error: null value in column "id" of relation "kyb_responses" violates not-null constraint
    at file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async <anonymous> (/home/runner/workspace/server/routes/kyb.ts:485:28) {
  length: 281,
  severity: 'ERROR',
  code: '23502',
  detail: 'Failing row contains (null, 360, 13, vasdf, 2025-04-19 11:31:11.972, 2025-04-19 11:31:11.972, 1, COMPLETE).',
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: 'public',
  table: 'kyb_responses',
  column: 'id',
  dataType: undefined,
  constraint: undefined,
  file: 'execMain.c',
  line: '1982',
  routine: 'ExecConstraints'
}
[SERVER DEBUG] --- Finished processing field "controlEnvironment" ---

[SERVER DEBUG] Processing field: "authorizedSigners" (ID: 14)
[SERVER DEBUG] Original value: asdf
[SERVER DEBUG] Normalized value: "asdf" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: NO
[SERVER DEBUG] INSERTING new response for field "authorizedSigners"
[SERVER DEBUG] - Value: "asdf" (string)
[SERVER DEBUG] - Status: COMPLETE
[SERVER DEBUG] ❌ DATABASE ERROR inserting response for field "authorizedSigners":
error: null value in column "id" of relation "kyb_responses" violates not-null constraint
    at file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async <anonymous> (/home/runner/workspace/server/routes/kyb.ts:485:28) {
  length: 280,
  severity: 'ERROR',
  code: '23502',
  detail: 'Failing row contains (null, 360, 14, asdf, 2025-04-19 11:31:11.972, 2025-04-19 11:31:11.972, 1, COMPLETE).',
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: 'public',
  table: 'kyb_responses',
  column: 'id',
  dataType: undefined,
  constraint: undefined,
  file: 'execMain.c',
  line: '1982',
  routine: 'ExecConstraints'
}
[SERVER DEBUG] --- Finished processing field "authorizedSigners" ---

[SERVER DEBUG] Processing field: "governmentOwnership" (ID: 15)
[SERVER DEBUG] Original value: fasdffff
[SERVER DEBUG] Normalized value: "fasdffff" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: NO
[SERVER DEBUG] INSERTING new response for field "governmentOwnership"
[SERVER DEBUG] - Value: "fasdffff" (string)
[SERVER DEBUG] - Status: COMPLETE
[SERVER DEBUG] ❌ DATABASE ERROR inserting response for field "governmentOwnership":
error: null value in column "id" of relation "kyb_responses" violates not-null constraint
    at file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async <anonymous> (/home/runner/workspace/server/routes/kyb.ts:485:28) {
  length: 284,
  severity: 'ERROR',
  code: '23502',
  detail: 'Failing row contains (null, 360, 15, fasdffff, 2025-04-19 11:31:11.972, 2025-04-19 11:31:11.972, 1, COMPLETE).',
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: 'public',
  table: 'kyb_responses',
  column: 'id',
  dataType: undefined,
  constraint: undefined,
  file: 'execMain.c',
  line: '1982',
  routine: 'ExecConstraints'
}
[SERVER DEBUG] --- Finished processing field "governmentOwnership" ---

[SERVER DEBUG] Processing field: "ultimateBeneficialOwners" (ID: 16)
[SERVER DEBUG] Original value: fa
[SERVER DEBUG] Normalized value: "fa" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: NO
[SERVER DEBUG] INSERTING new response for field "ultimateBeneficialOwners"
[SERVER DEBUG] - Value: "fa" (string)
[SERVER DEBUG] - Status: COMPLETE
[SERVER DEBUG] ❌ DATABASE ERROR inserting response for field "ultimateBeneficialOwners":
error: null value in column "id" of relation "kyb_responses" violates not-null constraint
    at file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async <anonymous> (/home/runner/workspace/server/routes/kyb.ts:485:28) {
  length: 278,
  severity: 'ERROR',
  code: '23502',
  detail: 'Failing row contains (null, 360, 16, fa, 2025-04-19 11:31:11.972, 2025-04-19 11:31:11.972, 1, COMPLETE).',
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: 'public',
  table: 'kyb_responses',
  column: 'id',
  dataType: undefined,
  constraint: undefined,
  file: 'execMain.c',
  line: '1982',
  routine: 'ExecConstraints'
}
[SERVER DEBUG] --- Finished processing field "ultimateBeneficialOwners" ---

[SERVER DEBUG] Processing field: "directorsAndOfficers" (ID: 17)
[SERVER DEBUG] Original value: secc
[SERVER DEBUG] Normalized value: "secc" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: NO
[SERVER DEBUG] INSERTING new response for field "directorsAndOfficers"
[SERVER DEBUG] - Value: "secc" (string)
[SERVER DEBUG] - Status: COMPLETE
[SERVER DEBUG] ❌ DATABASE ERROR inserting response for field "directorsAndOfficers":
error: null value in column "id" of relation "kyb_responses" violates not-null constraint
    at file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async <anonymous> (/home/runner/workspace/server/routes/kyb.ts:485:28) {
  length: 280,
  severity: 'ERROR',
  code: '23502',
  detail: 'Failing row contains (null, 360, 17, secc, 2025-04-19 11:31:11.972, 2025-04-19 11:31:11.972, 1, COMPLETE).',
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: 'public',
  table: 'kyb_responses',
  column: 'id',
  dataType: undefined,
  constraint: undefined,
  file: 'execMain.c',
  line: '1982',
  routine: 'ExecConstraints'
}
[SERVER DEBUG] --- Finished processing field "directorsAndOfficers" ---

[SERVER DEBUG] Processing field: "contactEmail" (ID: 18)
[SERVER DEBUG] Original value: ccasd
[SERVER DEBUG] Normalized value: "ccasd" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: NO
[SERVER DEBUG] INSERTING new response for field "contactEmail"
[SERVER DEBUG] - Value: "ccasd" (string)
[SERVER DEBUG] - Status: COMPLETE
[SERVER DEBUG] ❌ DATABASE ERROR inserting response for field "contactEmail":
error: null value in column "id" of relation "kyb_responses" violates not-null constraint
    at file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async <anonymous> (/home/runner/workspace/server/routes/kyb.ts:485:28) {
  length: 281,
  severity: 'ERROR',
  code: '23502',
  detail: 'Failing row contains (null, 360, 18, ccasd, 2025-04-19 11:31:11.972, 2025-04-19 11:31:11.972, 1, COMPLETE).',
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: 'public',
  table: 'kyb_responses',
  column: 'id',
  dataType: undefined,
  constraint: undefined,
  file: 'execMain.c',
  line: '1982',
  routine: 'ExecConstraints'
}
[SERVER DEBUG] --- Finished processing field "contactEmail" ---

[SERVER DEBUG] Processing field: "marketCapitalization" (ID: 19)
[SERVER DEBUG] Original value: fasdfjv
[SERVER DEBUG] Normalized value: "fasdfjv" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: NO
[SERVER DEBUG] INSERTING new response for field "marketCapitalization"
[SERVER DEBUG] - Value: "fasdfjv" (string)
[SERVER DEBUG] - Status: COMPLETE
[SERVER DEBUG] ❌ DATABASE ERROR inserting response for field "marketCapitalization":
error: null value in column "id" of relation "kyb_responses" violates not-null constraint
    at file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async <anonymous> (/home/runner/workspace/server/routes/kyb.ts:485:28) {
  length: 283,
  severity: 'ERROR',
  code: '23502',
  detail: 'Failing row contains (null, 360, 19, fasdfjv, 2025-04-19 11:31:11.972, 2025-04-19 11:31:11.972, 1, COMPLETE).',
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: 'public',
  table: 'kyb_responses',
  column: 'id',
  dataType: undefined,
  constraint: undefined,
  file: 'execMain.c',
  line: '1982',
  routine: 'ExecConstraints'
}
[SERVER DEBUG] --- Finished processing field "marketCapitalization" ---

[SERVER DEBUG] Processing field: "lifetimeCustomerValue" (ID: 20)
[SERVER DEBUG] Original value: ghjjjj
[SERVER DEBUG] Normalized value: "ghjjjj" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: NO
[SERVER DEBUG] INSERTING new response for field "lifetimeCustomerValue"
[SERVER DEBUG] - Value: "ghjjjj" (string)
[SERVER DEBUG] - Status: COMPLETE
[SERVER DEBUG] ❌ DATABASE ERROR inserting response for field "lifetimeCustomerValue":
error: null value in column "id" of relation "kyb_responses" violates not-null constraint
    at file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async <anonymous> (/home/runner/workspace/server/routes/kyb.ts:485:28) {
  length: 282,
  severity: 'ERROR',
  code: '23502',
  detail: 'Failing row contains (null, 360, 20, ghjjjj, 2025-04-19 11:31:11.972, 2025-04-19 11:31:11.972, 1, COMPLETE).',
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: 'public',
  table: 'kyb_responses',
  column: 'id',
  dataType: undefined,
  constraint: undefined,
  file: 'execMain.c',
  line: '1982',
  routine: 'ExecConstraints'
}
[SERVER DEBUG] --- Finished processing field "lifetimeCustomerValue" ---

[SERVER DEBUG] Processing field: "annualRecurringRevenue" (ID: 21)
[SERVER DEBUG] Original value: gggg
[SERVER DEBUG] Normalized value: "gggg" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: NO
[SERVER DEBUG] INSERTING new response for field "annualRecurringRevenue"
[SERVER DEBUG] - Value: "gggg" (string)
[SERVER DEBUG] - Status: COMPLETE
[SERVER DEBUG] ❌ DATABASE ERROR inserting response for field "annualRecurringRevenue":
error: null value in column "id" of relation "kyb_responses" violates not-null constraint
    at file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async <anonymous> (/home/runner/workspace/server/routes/kyb.ts:485:28) {
  length: 280,
  severity: 'ERROR',
  code: '23502',
  detail: 'Failing row contains (null, 360, 21, gggg, 2025-04-19 11:31:11.972, 2025-04-19 11:31:11.972, 1, COMPLETE).',
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: 'public',
  table: 'kyb_responses',
  column: 'id',
  dataType: undefined,
  constraint: undefined,
  file: 'execMain.c',
  line: '1982',
  routine: 'ExecConstraints'
}
[SERVER DEBUG] --- Finished processing field "annualRecurringRevenue" ---

[SERVER DEBUG] Processing field: "monthlyRecurringRevenue" (ID: 22)
[SERVER DEBUG] Original value: hhhh
[SERVER DEBUG] Normalized value: "hhhh" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: NO
[SERVER DEBUG] INSERTING new response for field "monthlyRecurringRevenue"
[SERVER DEBUG] - Value: "hhhh" (string)
[SERVER DEBUG] - Status: COMPLETE
[SERVER DEBUG] ❌ DATABASE ERROR inserting response for field "monthlyRecurringRevenue":
error: null value in column "id" of relation "kyb_responses" violates not-null constraint
    at file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async <anonymous> (/home/runner/workspace/server/routes/kyb.ts:485:28) {
  length: 280,
  severity: 'ERROR',
  code: '23502',
  detail: 'Failing row contains (null, 360, 22, hhhh, 2025-04-19 11:31:11.972, 2025-04-19 11:31:11.972, 1, COMPLETE).',
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: 'public',
  table: 'kyb_responses',
  column: 'id',
  dataType: undefined,
  constraint: undefined,
  file: 'execMain.c',
  line: '1982',
  routine: 'ExecConstraints'
}
[SERVER DEBUG] --- Finished processing field "monthlyRecurringRevenue" ---

[SERVER DEBUG] Processing field: "investigationsIncidents" (ID: 23)
[SERVER DEBUG] Original value: ffghhh
[SERVER DEBUG] Normalized value: "ffghhh" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: NO
[SERVER DEBUG] INSERTING new response for field "investigationsIncidents"
[SERVER DEBUG] - Value: "ffghhh" (string)
[SERVER DEBUG] - Status: COMPLETE
[SERVER DEBUG] ❌ DATABASE ERROR inserting response for field "investigationsIncidents":
error: null value in column "id" of relation "kyb_responses" violates not-null constraint
    at file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async <anonymous> (/home/runner/workspace/server/routes/kyb.ts:485:28) {
  length: 282,
  severity: 'ERROR',
  code: '23502',
  detail: 'Failing row contains (null, 360, 23, ffghhh, 2025-04-19 11:31:11.972, 2025-04-19 11:31:11.972, 1, COMPLETE).',
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: 'public',
  table: 'kyb_responses',
  column: 'id',
  dataType: undefined,
  constraint: undefined,
  file: 'execMain.c',
  line: '1982',
  routine: 'ExecConstraints'
}
[SERVER DEBUG] --- Finished processing field "investigationsIncidents" ---

[SERVER DEBUG] Processing field: "financialStatements" (ID: 24)
[SERVER DEBUG] Original value: yutuuu
[SERVER DEBUG] Normalized value: "yutuuu" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: NO
[SERVER DEBUG] INSERTING new response for field "financialStatements"
[SERVER DEBUG] - Value: "yutuuu" (string)
[SERVER DEBUG] - Status: COMPLETE
[SERVER DEBUG] ❌ DATABASE ERROR inserting response for field "financialStatements":
error: null value in column "id" of relation "kyb_responses" violates not-null constraint
    at file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async <anonymous> (/home/runner/workspace/server/routes/kyb.ts:485:28) {
  length: 282,
  severity: 'ERROR',
  code: '23502',
  detail: 'Failing row contains (null, 360, 24, yutuuu, 2025-04-19 11:31:11.972, 2025-04-19 11:31:11.972, 1, COMPLETE).',
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: 'public',
  table: 'kyb_responses',
  column: 'id',
  dataType: undefined,
  constraint: undefined,
  file: 'execMain.c',
  line: '1982',
  routine: 'ExecConstraints'
}
[SERVER DEBUG] --- Finished processing field "financialStatements" ---

[SERVER DEBUG] Processing field: "operationalPolicies" (ID: 25)
[SERVER DEBUG] Original value: jnfff
[SERVER DEBUG] Normalized value: "jnfff" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: NO
[SERVER DEBUG] INSERTING new response for field "operationalPolicies"
[SERVER DEBUG] - Value: "jnfff" (string)
[SERVER DEBUG] - Status: COMPLETE
[SERVER DEBUG] ❌ DATABASE ERROR inserting response for field "operationalPolicies":
error: null value in column "id" of relation "kyb_responses" violates not-null constraint
    at file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async <anonymous> (/home/runner/workspace/server/routes/kyb.ts:485:28) {
  length: 281,
  severity: 'ERROR',
  code: '23502',
  detail: 'Failing row contains (null, 360, 25, jnfff, 2025-04-19 11:31:11.972, 2025-04-19 11:31:11.972, 1, COMPLETE).',
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: 'public',
  table: 'kyb_responses',
  column: 'id',
  dataType: undefined,
  constraint: undefined,
  file: 'execMain.c',
  line: '1982',
  routine: 'ExecConstraints'
}
[SERVER DEBUG] --- Finished processing field "operationalPolicies" ---

[SERVER DEBUG] Processing field: "dataVolume" (ID: 26)
[SERVER DEBUG] Original value: fgh3f
[SERVER DEBUG] Normalized value: "fgh3f" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: NO
[SERVER DEBUG] INSERTING new response for field "dataVolume"
[SERVER DEBUG] - Value: "fgh3f" (string)
[SERVER DEBUG] - Status: COMPLETE
[SERVER DEBUG] ❌ DATABASE ERROR inserting response for field "dataVolume":
error: null value in column "id" of relation "kyb_responses" violates not-null constraint
    at file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async <anonymous> (/home/runner/workspace/server/routes/kyb.ts:485:28) {
  length: 281,
  severity: 'ERROR',
  code: '23502',
  detail: 'Failing row contains (null, 360, 26, fgh3f, 2025-04-19 11:31:11.972, 2025-04-19 11:31:11.972, 1, COMPLETE).',
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: 'public',
  table: 'kyb_responses',
  column: 'id',
  dataType: undefined,
  constraint: undefined,
  file: 'execMain.c',
  line: '1982',
  routine: 'ExecConstraints'
}
[SERVER DEBUG] --- Finished processing field "dataVolume" ---

[SERVER DEBUG] Processing field: "dataTypes" (ID: 27)
[SERVER DEBUG] Original value: f2fff
[SERVER DEBUG] Normalized value: "f2fff" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: NO
[SERVER DEBUG] INSERTING new response for field "dataTypes"
[SERVER DEBUG] - Value: "f2fff" (string)
[SERVER DEBUG] - Status: COMPLETE
[SERVER DEBUG] ❌ DATABASE ERROR inserting response for field "dataTypes":
error: null value in column "id" of relation "kyb_responses" violates not-null constraint
    at file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async <anonymous> (/home/runner/workspace/server/routes/kyb.ts:485:28) {
  length: 281,
  severity: 'ERROR',
  code: '23502',
  detail: 'Failing row contains (null, 360, 27, f2fff, 2025-04-19 11:31:11.972, 2025-04-19 11:31:11.972, 1, COMPLETE).',
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: 'public',
  table: 'kyb_responses',
  column: 'id',
  dataType: undefined,
  constraint: undefined,
  file: 'execMain.c',
  line: '1982',
  routine: 'ExecConstraints'
}
[SERVER DEBUG] --- Finished processing field "dataTypes" ---

[SERVER DEBUG] Processing field: "sanctionsCheck" (ID: 28)
[SERVER DEBUG] Original value: asdf
[SERVER DEBUG] Normalized value: "asdf" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: NO
[SERVER DEBUG] INSERTING new response for field "sanctionsCheck"
[SERVER DEBUG] - Value: "asdf" (string)
[SERVER DEBUG] - Status: COMPLETE
[SERVER DEBUG] ❌ DATABASE ERROR inserting response for field "sanctionsCheck":
error: null value in column "id" of relation "kyb_responses" violates not-null constraint
    at file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async <anonymous> (/home/runner/workspace/server/routes/kyb.ts:485:28) {
  length: 280,
  severity: 'ERROR',
  code: '23502',
  detail: 'Failing row contains (null, 360, 28, asdf, 2025-04-19 11:31:11.972, 2025-04-19 11:31:11.972, 1, COMPLETE).',
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: 'public',
  table: 'kyb_responses',
  column: 'id',
  dataType: undefined,
  constraint: undefined,
  file: 'execMain.c',
  line: '1982',
  routine: 'ExecConstraints'
}
[SERVER DEBUG] --- Finished processing field "sanctionsCheck" ---

[SERVER DEBUG] Processing field: "dueDiligence" (ID: 29)
[SERVER DEBUG] Original value: fvcaaa
[SERVER DEBUG] Normalized value: "fvcaaa" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: NO
[SERVER DEBUG] INSERTING new response for field "dueDiligence"
[SERVER DEBUG] - Value: "fvcaaa" (string)
[SERVER DEBUG] - Status: COMPLETE
[SERVER DEBUG] ❌ DATABASE ERROR inserting response for field "dueDiligence":
error: null value in column "id" of relation "kyb_responses" violates not-null constraint
    at file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async <anonymous> (/home/runner/workspace/server/routes/kyb.ts:485:28) {
  length: 282,
  severity: 'ERROR',
  code: '23502',
  detail: 'Failing row contains (null, 360, 29, fvcaaa, 2025-04-19 11:31:11.972, 2025-04-19 11:31:11.972, 1, COMPLETE).',
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: 'public',
  table: 'kyb_responses',
  column: 'id',
  dataType: undefined,
  constraint: undefined,
  file: 'execMain.c',
  line: '1982',
  routine: 'ExecConstraints'
}
[SERVER DEBUG] --- Finished processing field "dueDiligence" ---

[SERVER DEBUG] Processing field: "regulatoryActions" (ID: 30)
[SERVER DEBUG] Original value: aaqwww
[SERVER DEBUG] Normalized value: "aaqwww" (string)
[SERVER DEBUG] Field status: COMPLETE
[SERVER DEBUG] Existing response found: NO
[SERVER DEBUG] INSERTING new response for field "regulatoryActions"
[SERVER DEBUG] - Value: "aaqwww" (string)
[SERVER DEBUG] - Status: COMPLETE
[SERVER DEBUG] ❌ DATABASE ERROR inserting response for field "regulatoryActions":
error: null value in column "id" of relation "kyb_responses" violates not-null constraint
    at file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async <anonymous> (/home/runner/workspace/server/routes/kyb.ts:485:28) {
  length: 282,
  severity: 'ERROR',
  code: '23502',
  detail: 'Failing row contains (null, 360, 30, aaqwww, 2025-04-19 11:31:11.972, 2025-04-19 11:31:11.972, 1, COMPLETE).',
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: 'public',
  table: 'kyb_responses',
  column: 'id',
  dataType: undefined,
  constraint: undefined,
  file: 'execMain.c',
  line: '1982',
  routine: 'ExecConstraints'
}
[SERVER DEBUG] --- Finished processing field "regulatoryActions" ---

[SERVER DEBUG] ERROR: Field not found in database schema: "taskId"
[KYB API Debug] Task has submission date, enforcing SUBMITTED status {
  submissionDate: '2025-04-19T11:31:11.903Z',
  clientProvidedStatus: 'ready_for_submission'
}
===============================================
[SERVER DEBUG] PREPARING RESPONSE at 2025-04-19T11:31:16.689Z
[SERVER DEBUG] Found 0 fields in database after update
===============================================
[SERVER DEBUG] Checking field corporateRegistration in updated data: NOT PRESENT
[SERVER DEBUG] Checking field goodStanding in updated data: NOT PRESENT
[SERVER DEBUG] Checking field regulatoryActions in updated data: NOT PRESENT
[SERVER DEBUG] Checking field investigationsIncidents in updated data: NOT PRESENT
[SERVER DEBUG] No fields with value "asdf" found in response data
[SERVER DEBUG] Sending response with 0 fields, status: submitted, progress: 100%
[SERVER DEBUG] Updating task.savedFormData to ensure persistence across navigation
[SERVER DEBUG] ✅ Successfully updated task.savedFormData with latest form data
===============================================
11:31:16 AM [info] POST /api/kyb/progress 200 in 4841ms :: {"success":true,"savedData":{"progress":100,"status":"submitted","formData":{}}}
[WebSocket] Received pong
[WebSocket] Received pong
[WebSocket] Received message: {
  type: 'pong',
  payload: { timestamp: '2025-04-19T11:31:48.856Z' },
  connectionId: 'ws-1'
}
[WebSocket] Received pong
[WebSocket] Received pong
[WebSocket] Received message: {
  type: 'pong',
  payload: { timestamp: '2025-04-19T11:32:33.856Z' },
  connectionId: 'ws-1'
}