[vite] connected.
[WebSocket] Connecting to: wss://9606074c-a9ad-4fe1-8fe5-3d9c3eed0606-00-33ar2rv36ligj.picard.replit.dev/ws
[Router] Current location: /
[DashboardLayout] Waiting for company data...
[WebSocket] Connected successfully
[WebSocket] Connection established: 
Object {timestamp: "2025-02-27T14:28:47.255Z"}
[DashboardLayout] Checking route access: 
Object {currentTab: "dashboard", availableTabs: Array(4), isLoadingCompany: false}
[DashboardLayout] Checking route access: 
Object {currentTab: "dashboard", availableTabs: Array(4), isLoadingCompany: false}
[DashboardLayout] Checking route access: 
Object {currentTab: "dashboard", availableTabs: Array(4), isLoadingCompany: false}
[WebSocket] Connected successfully
[Router] Current location: /task-center
[TaskCenter] Filtering task: 
Object {taskId: 160, status: "completed", scope: "user", activeTab: "my-tasks", userId: 134, …}
[TaskCenter] Filtering task: 
Object {taskId: 158, status: "submitted", scope: "company", activeTab: "my-tasks", userId: 134, …}
[TaskCenter] Filtering task: 
Object {taskId: 159, status: "submitted", scope: "company", activeTab: "my-tasks", userId: 134, …}
[DashboardLayout] Checking route access: 
Object {currentTab: "task-center", availableTabs: Array(4), isLoadingCompany: false}
[WebSocket] Connected successfully
[TaskTable] Task clicked: 
Object {id: 159, title: "Company CARD: Bayzat", type: "company_card", status: "submitted", metadata: {…}, …}
[TaskTable] Opening modal for task: 
Object {id: 159, type: "company_card", status: "submitted", isSubmitted: true, timestamp: "2025-02-27T14:28:57.173Z"}
Warning: Missing `Description` or `aria-describedby={undefined}` for {DialogContent}.
[TaskCenter] Filtering task: 
Object {taskId: 160, status: "completed", scope: "user", activeTab: "my-tasks", userId: 134, …}
[TaskCenter] Filtering task: 
Object {taskId: 159, status: "in_progress", scope: "company", activeTab: "my-tasks", userId: 134, …}
[TaskCenter] Filtering task: 
Object {taskId: 158, status: "submitted", scope: "company", activeTab: "my-tasks", userId: 134, …}
[DashboardLayout] Checking route access: 
Object {currentTab: "task-center", availableTabs: Array(4), isLoadingCompany: false}
[TaskTable] Task clicked: 
Object {id: 159, title: "Company CARD: Bayzat", type: "company_card", status: "in_progress", metadata: {…}, …}
[TaskTable] Navigation preparation: 
Object {taskType: "company_card", originalTitle: "Company CARD: Bayzat", extractedCompanyName: "Bayzat", taskTypePrefix: "card", constructedUrl: "/task-center/task/card-Bayzat", …}
[TaskTable] Task validation: 
Object {hasMetadata: true, hasCompanyName: false, titleMatchResult: Array(3), formattedCompanyName: "Bayzat", timestamp: "2025-02-27T14:29:27.477Z"}
[TaskTable] Initiating navigation to: /task-center/task/card-Bayzat
[Router] Current location: /task-center/task/card-Bayzat
[TaskPage] Initializing with params: 
Object {taskSlug: "card-Bayzat", taskType: "card", companyName: "Bayzat"}
[TaskPage] Using API endpoint: 
Object {apiEndpoint: "/api/tasks/card", fullUrl: "/api/tasks/card/Bayzat"}
[DashboardLayout] Checking route access: 
Object {currentTab: "task-center", availableTabs: Array(4), isLoadingCompany: false}
[TaskPage] Fetching task data: 
Object {endpoint: "/api/tasks/card/Bayzat", taskType: "card", companyName: "Bayzat"}
[TaskPage] API response: 
Object {status: 200, ok: true, statusText: "OK"}
[TaskPage] Task data received: 
Object {taskId: 159, title: "Company CARD: Bayzat", status: "in_progress", metadata: {…}}
[TaskPage] Initializing with params: 
Object {taskSlug: "card-Bayzat", taskType: "card", companyName: "Bayzat"}
[TaskPage] Using API endpoint: 
Object {apiEndpoint: "/api/tasks/card", fullUrl: "/api/tasks/card/Bayzat"}
[DashboardLayout] Checking route access: 
Object {currentTab: "task-center", availableTabs: Array(4), isLoadingCompany: false}
[CardFormPlayground] Fetching CARD fields 
Object {timestamp: "2025-02-27T14:29:27.747Z"}
[CardFormPlayground] Fetching existing responses: 
Object {taskId: 159, timestamp: "2025-02-27T14:29:27.748Z"}
[WebSocket] Connected successfully
[CardFormPlayground] Loading existing responses: 
Object {responseCount: 90, timestamp: "2025-02-27T14:29:28.061Z"}
[CardFormPlayground] Field value changing: 
Object {fieldId: 1, fieldKey: "security_access_control", currentValue: "Testing", newValue: "", allCurrentResponses: {…}, …}
[CardFormPlayground] Updated responses state: 
Object {fieldId: 1, fieldKey: "security_access_control", updatedValue: "", allUpdatedResponses: {…}, timestamp: "2025-02-27T14:29:30.648Z"}
[CardFormPlayground] Empty field detected - saving empty response: 
Object {fieldId: 1, fieldKey: "security_access_control", timestamp: "2025-02-27T14:29:30.648Z"}
[CardFormPlayground] Saving response: 
Object {taskId: 159, fieldId: 1, hasResponse: false, timestamp: "2025-02-27T14:29:30.652Z"}
[CardFormPlayground] Response saved successfully: 
Object {progress: 89, status: "EMPTY", timestamp: "2025-02-27T14:29:31.048Z"}
[CardFormPlayground] Fetching existing responses: 
Object {taskId: 159, timestamp: "2025-02-27T14:29:31.049Z"}
[CardFormPlayground] Loading existing responses: 
Object {responseCount: 90, timestamp: "2025-02-27T14:29:31.486Z"}
[CardFormPlayground] Field value changing: 
Object {fieldId: 1, fieldKey: "security_access_control", currentValue: undefined, newValue: "t", allCurrentResponses: {…}, …}
[CardFormPlayground] Updated responses state: 
Object {fieldId: 1, fieldKey: "security_access_control", updatedValue: "t", allUpdatedResponses: {…}, timestamp: "2025-02-27T14:29:32.123Z"}
[CardFormPlayground] Field value changing: 
Object {fieldId: 1, fieldKey: "security_access_control", currentValue: "t", newValue: "te", allCurrentResponses: {…}, …}
[CardFormPlayground] Updated responses state: 
Object {fieldId: 1, fieldKey: "security_access_control", updatedValue: "te", allUpdatedResponses: {…}, timestamp: "2025-02-27T14:29:32.186Z"}
[CardFormPlayground] Field value changing: 
Object {fieldId: 1, fieldKey: "security_access_control", currentValue: "te", newValue: "tes", allCurrentResponses: {…}, …}
[CardFormPlayground] Updated responses state: 
Object {fieldId: 1, fieldKey: "security_access_control", updatedValue: "tes", allUpdatedResponses: {…}, timestamp: "2025-02-27T14:29:32.281Z"}
[CardFormPlayground] Field value changing: 
Object {fieldId: 1, fieldKey: "security_access_control", currentValue: "tes", newValue: "test", allCurrentResponses: {…}, …}
[CardFormPlayground] Updated responses state: 
Object {fieldId: 1, fieldKey: "security_access_control", updatedValue: "test", allUpdatedResponses: {…}, timestamp: "2025-02-27T14:29:32.363Z"}
[CardFormPlayground] Field value changing: 
Object {fieldId: 1, fieldKey: "security_access_control", currentValue: "test", newValue: "testi", allCurrentResponses: {…}, …}
[CardFormPlayground] Updated responses state: 
Object {fieldId: 1, fieldKey: "security_access_control", updatedValue: "testi", allUpdatedResponses: {…}, timestamp: "2025-02-27T14:29:32.494Z"}
[CardFormPlayground] Field value changing: 
Object {fieldId: 1, fieldKey: "security_access_control", currentValue: "testi", newValue: "testin", allCurrentResponses: {…}, …}
[CardFormPlayground] Updated responses state: 
Object {fieldId: 1, fieldKey: "security_access_control", updatedValue: "testin", allUpdatedResponses: {…}, timestamp: "2025-02-27T14:29:32.583Z"}
[CardFormPlayground] Field value changing: 
Object {fieldId: 1, fieldKey: "security_access_control", currentValue: "testin", newValue: "testing", allCurrentResponses: {…}, …}
[CardFormPlayground] Updated responses state: 
Object {fieldId: 1, fieldKey: "security_access_control", updatedValue: "testing", allUpdatedResponses: {…}, timestamp: "2025-02-27T14:29:32.658Z"}
[DashboardLayout] Checking route access: 
Object {currentTab: "task-center", availableTabs: Array(4), isLoadingCompany: false}
[CardFormPlayground] Field blur event: 
Object {fieldId: 1, fieldKey: "security_access_control", currentValue: "testing", previousValue: undefined, timestamp: "2025-02-27T14:29:33.152Z"}
[CardFormPlayground] Validation passed: 
Object {valueLength: 7, hasChanged: true, timestamp: "2025-02-27T14:29:33.152Z"}
[CardFormPlayground] Updated previous responses: 
Object {fieldId: 1, fieldKey: "security_access_control", updatedPreviousResponses: {…}, timestamp: "2025-02-27T14:29:33.152Z"}
[CardFormPlayground] Starting save and analysis chain: 
Object {fieldId: 1, fieldKey: "security_access_control", value: "testing", timestamp: "2025-02-27T14:29:33.152Z"}
[CardFormPlayground] Step 1: Saving response
[CardFormPlayground] Saving response: 
Object {taskId: 159, fieldId: 1, hasResponse: true, timestamp: "2025-02-27T14:29:33.157Z"}
[CardFormPlayground] Response saved successfully: 
Object {progress: 90, status: "COMPLETE", timestamp: "2025-02-27T14:29:33.531Z"}
[CardFormPlayground] Fetching existing responses: 
Object {taskId: 159, timestamp: "2025-02-27T14:29:33.531Z"}
[CardFormPlayground] Save response result: 
Object {fieldId: 1, status: "COMPLETE", progress: 90, timestamp: "2025-02-27T14:29:33.532Z"}
[CardFormPlayground] Step 2: Starting OpenAI analysis
[CardFormPlayground] Starting OpenAI analysis: 
Object {taskId: 159, fieldId: 1, responseLength: 7, timestamp: "2025-02-27T14:29:33.532Z"}
[CardFormPlayground] Loading existing responses: 
Object {responseCount: 90, timestamp: "2025-02-27T14:29:33.969Z"}
[CardFormPlayground] Handling submit: 
Object {formResponses: {…}, progress: 90, timestamp: "2025-02-27T14:29:36.364Z"}
[CardFormPlayground] Submitting assessment: 
Object {taskId: 159, timestamp: "2025-02-27T14:29:36.364Z"}
[CardFormPlayground] Error submitting assessment: 
Object {error: Error, message: "null value in column "size" of relation "files" violates not-null constraint", timestamp: "2025-02-27T14:29:37.052Z"}
error: Error
message: "null value in column "size" of relation "files" violates not-null constraint"
timestamp: "2025-02-27T14:29:37.052Z"
[[Prototype]]: Object

[TaskPage] Initializing with params: 
Object {taskSlug: "card-Bayzat", taskType: "card", companyName: "Bayzat"}
[TaskPage] Using API endpoint: 
Object {apiEndpoint: "/api/tasks/card", fullUrl: "/api/tasks/card/Bayzat"}
[DashboardLayout] Checking route access: 
Object {currentTab: "task-center", availableTabs: Array(4), isLoadingCompany: false}
[DashboardLayout] Checking route access: 
Object {currentTab: "task-center", availableTabs: Array(4), isLoadingCompany: false}
[DashboardLayout] Checking route access: 
Object {currentTab: "task-center", availableTabs: Array(4), isLoadingCompany: false}
[CardFormPlayground] OpenAI analysis complete: 
Object {fieldId: 1, suspicionLevel: 95, riskScore: 26, timestamp: "2025-02-27T14:29:38.354Z"}
[CardFormPlayground] Updating UI with analysis: 
Object {fieldId: 1, suspicionLevel: 95, riskScore: 26, timestamp: "2025-02-27T14:29:38.354Z"}
[CardFormPlayground] Analysis complete: 
Object {fieldId: 1, suspicionLevel: 95, riskScore: 26, hasReasoning: true, timestamp: "2025-02-27T14:29:38.354Z"}
[CardFormPlayground] Analysis chain complete for field: 
Object {fieldId: 1, timestamp: "2025-02-27T14:29:38.354Z"}
[TaskPage] Initializing with params: 
Object {taskSlug: "card-Bayzat", taskType: "card", companyName: "Bayzat"}