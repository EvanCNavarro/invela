[Sidebar] Tab state check: company=undefined, path=/, file-vault-unlocked=false
[ONBOARDING DEBUG] WelcomeModal user data received: 
Object {userId: 316, email: "18@e.com", onboardingCompleted: true, userObject: "{↵  "id": 316,↵  "email": "18@e.com",↵  "full_name": "John Doe",↵  "first_name":…"}
[ONBOARDING DEBUG] User is already marked as onboarded in user object
[WebSocketEventBridge] Initializing event bridge
[ONBOARDING DEBUG] User object in AuthProvider changed: 
Object {userId: 316, onboardingCompleted: true, typeOfOnboardingFlag: "boolean", timestamp: "2025-05-07T19:04:28.858Z"}
[Sidebar] Available tabs updated: 
Object {tabs: Array(1), hasFileVault: false, hasDashboard: false, hasTaskCenter: true, currentRoute: "/", …}
[Sidebar] Tab state check: company=undefined, path=/, file-vault-unlocked=false
[Sidebar] Available tabs updated: 
Object {tabs: Array(1), hasFileVault: false, hasDashboard: false, hasTaskCenter: true, currentRoute: "/", …}
[Sidebar] Tab state check: company=undefined, path=/, file-vault-unlocked=false
[Sidebar] Available tabs updated: 
Object {tabs: Array(1), hasFileVault: false, hasDashboard: false, hasTaskCenter: true, currentRoute: "/", …}
[Sidebar] Tab state check: company=273, path=/, file-vault-unlocked=false
[CurrentCompany] Setting company context: 273
[DashboardLayout] Tab "dashboard" is locked. Redirecting to task-center.
[Router] Current location: /task-center
[WebSocketEventBridge] Cleaning up event bridge
[Sidebar] Available tabs updated: 
Object {tabs: Array(1), hasFileVault: false, hasDashboard: false, hasTaskCenter: true, currentRoute: "/task-center", …}
[Sidebar] Tab state check: company=273, path=/task-center, file-vault-unlocked=false
[CurrentCompany] Setting company context: 273
[ONBOARDING DEBUG] WelcomeModal user data received: 
Object {userId: 316, email: "18@e.com", onboardingCompleted: true, userObject: "{↵  "id": 316,↵  "email": "18@e.com",↵  "full_name": "John Doe",↵  "first_name":…"}
[ONBOARDING DEBUG] User is already marked as onboarded in user object
[WebSocketEventBridge] Initializing event bridge
[2025-05-07T19:04:29.130Z] [INFO] [TaskCenter] Page loaded - refreshing task statuses
[WebSocket] WebSocket connection established
[WebSocket] Received message: 
Object {type: "connection_established", clientId: "client-1746644669133-nvdngk8", timestamp: "2025-05-07T19:04:29.133Z", message: "Connection established"}
[WebSocket] Server connection confirmed: Connection established
[WebSocket] Received message: 
Object {type: "authenticated", timestamp: "2025-05-07T19:04:29.269Z", message: "Authentication successful"}
[2025-05-07T19:04:29.632Z] [WebSocket] Connecting to WebSocket: wss://9606074c-a9ad-4fe1-8fe5-3d9c3eed0606-00-33ar2rv36ligj.picard.replit.dev/ws
[WebSocketEventBridge] Successfully subscribed to WebSocket events
[2025-05-07T19:04:30.148Z] [WebSocket] WebSocket connection established 
[2025-05-07T19:04:30.148Z] [WebSocket] Fetching current user data for WebSocket authentication 
[2025-05-07T19:04:30.149Z] [WebSocket] Received message of type: connection_established 
[2025-05-07T19:04:30.149Z] [WebSocket] WebSocket server connection confirmed with ID: client-1746644670149-r42hr2w 
[2025-05-07T19:04:30.537Z] [WebSocket] Sending authentication message 
Object {userId: 316, companyId: 273, connectionId: "ws_1746644669633_dmtgdn73d", hasUserData: true, hasCompanyData: true}
[2025-05-07T19:04:30.663Z] [WebSocket] Received message of type: authenticated 
[2025-05-07T19:04:30.663Z] [WebSocket] WebSocket authentication confirmed for client: unknown 
[WebSocket] Received message: 
Object {type: "task_update", payload: {…}, data: {…}, timestamp: "2025-05-07T19:04:44.702Z", messageId: "msg_1746644684702_z6oiq9otp"}
[TaskCenter] Raw WebSocket task_update data: 
Object {payload: {…}, data: {…}, taskId: 761, timestamp: "2025-05-07T19:04:44.702Z"}
[TaskCenter] WebSocket message structure analysis: 
Object {hasPayload: true, hasNestedPayload: false, hasData: true, hasNestedData: false, directTaskId: undefined, …}
dataTaskId: 761
directTaskId: undefined
hasData: true
hasNestedData: false
hasNestedPayload: false
hasPayload: true
nestedDataTaskId: undefined
nestedPayloadTaskId: undefined
payloadTaskId: 761
[[Prototype]]: Object
[TaskCenter] WebSocket task_update processed: 
Object {taskId: 761, status: "completed", progress: 100, metadata: {…}, timestamp: "2025-05-07T19:04:44.703Z"}
[TaskCenter] Update for task 761 is newer, applying 
Object {prevTimestamp: "2025-05-07T19:04:29.131Z", newTimestamp: "2025-05-07T19:04:44.703Z"}
[TaskCenter] Updated task state via WebSocket: 
Object {taskId: 761, progress: 100, status: "completed", updatedTask: {…}}
[2025-05-07T19:04:44.703Z] [WebSocket] Received message of type: task_update 
[2025-05-07T19:04:44.703Z] [WebSocket] Task update received: Task #761 - Status: completed, Progress: 100% 
[WebSocket] Received message: 
Object {type: "task_updated", timestamp: "2025-05-07T19:04:44.879Z", taskId: 762, progress: 0, status: "not_started", …}
[WebSocket] Error in message handler for type &quot;task_updated&quot;: 
Object {errorType: "TypeError", message: "Cannot read properties of undefined (reading 'count')", stack: "TypeError: Cannot read properties of undefined (reading 'count')↵    at handleTaskCountUpdate…", connectionId: "ws_1746644668586_qanx4ajd9", timestamp: "2025-05-07T19:04:44.879Z"}

<span style="color:#f44336;display:inline-block;max-width:100%;">[WebSocket] Error in message handler for type &quot;task_updated&quot;:</span> 
Object {errorType: "TypeError", message: "Cannot read properties of undefined (reading 'count')", stack: "TypeError: Cannot read properties of undefined (reading 'count')↵    at handleTaskCountUpdate…", connectionId: "ws_1746644668586_qanx4ajd9", timestamp: "2025-05-07T19:04:44.879Z"}

[WebSocket] Error in message handler for type &quot;task_updated&quot;: 
Object {errorType: "TypeError", message: "Cannot read properties of undefined (reading 'count')", stack: "TypeError: Cannot read properties of undefined (reading 'count')↵    at handleTaskCountUpdate…", connectionId: "ws_1746644668586_qanx4ajd9", timestamp: "2025-05-07T19:04:44.879Z"}

<span style="color:#f44336;display:inline-block;max-width:100%;">[WebSocket] Error in message handler for type &quot;task_updated&quot;:</span> 
Object {errorType: "TypeError", message: "Cannot read properties of undefined (reading 'count')", stack: "TypeError: Cannot read properties of undefined (reading 'count')↵    at handleTaskCountUpdate…", connectionId: "ws_1746644668586_qanx4ajd9", timestamp: "2025-05-07T19:04:44.879Z"}

[WebSocket] Error in message handler for type &quot;task_updated&quot;: 
Object {errorType: "TypeError", message: "Cannot read properties of undefined (reading 'count')", stack: "TypeError: Cannot read properties of undefined (reading 'count')↵    at handleTaskCountUpdate…", connectionId: "ws_1746644668586_qanx4ajd9", timestamp: "2025-05-07T19:04:44.880Z"}

<span style="color:#f44336;display:inline-block;max-width:100%;">[WebSocket] Error in message handler for type &quot;task_updated&quot;:</span> 
Object {errorType: "TypeError", message: "Cannot read properties of undefined (reading 'count')", stack: "TypeError: Cannot read properties of undefined (reading 'count')↵    at handleTaskCountUpdate…", connectionId: "ws_1746644668586_qanx4ajd9", timestamp: "2025-05-07T19:04:44.880Z"}

[2025-05-07T19:04:44.880Z] [WebSocket] Received message of type: task_updated 
[WebSocket] Received message: 
Object {type: "pong", timestamp: "2025-05-07T19:04:59.269Z", echo: {…}}
[WebSocket] Received message: 
Object {type: "task_update", payload: {…}, data: {…}, timestamp: "2025-05-07T19:05:15.534Z", messageId: "msg_1746644715534_x0jxsybs8"}
[TaskCenter] Raw WebSocket task_update data: 
Object {payload: {…}, data: {…}, taskId: 761, timestamp: "2025-05-07T19:05:15.534Z"}
[TaskCenter] WebSocket message structure analysis: 
Object {hasPayload: true, hasNestedPayload: false, hasData: true, hasNestedData: false, directTaskId: undefined, …}
[TaskCenter] WebSocket task_update processed: 
Object {taskId: 761, status: "completed", progress: 100, metadata: {…}, timestamp: "2025-05-07T19:05:15.537Z"}
[TaskCenter] Update for task 761 is newer, applying 
Object {prevTimestamp: "2025-05-07T19:04:45.007Z", newTimestamp: "2025-05-07T19:05:15.537Z"}
[TaskCenter] Updated task state via WebSocket: 
Object {taskId: 761, progress: 100, status: "completed", updatedTask: {…}}
[2025-05-07T19:05:15.537Z] [WebSocket] Received message of type: task_update 
[2025-05-07T19:05:15.537Z] [WebSocket] Task update received: Task #761 - Status: completed, Progress: 100% 
[WebSocket] Received message: 
Object {type: "task_updated", timestamp: "2025-05-07T19:05:15.710Z", taskId: 762, progress: 0, status: "not_started", …}
[WebSocket] Error in message handler for type &quot;task_updated&quot;: 
Object {errorType: "TypeError", message: "Cannot read properties of undefined (reading 'count')", stack: "TypeError: Cannot read properties of undefined (reading 'count')↵    at handleTaskCountUpdate…", connectionId: "ws_1746644668586_qanx4ajd9", timestamp: "2025-05-07T19:05:15.712Z"}

<span style="color:#f44336;display:inline-block;max-width:100%;">[WebSocket] Error in message handler for type &quot;task_updated&quot;:</span> 
Object {errorType: "TypeError", message: "Cannot read properties of undefined (reading 'count')", stack: "TypeError: Cannot read properties of undefined (reading 'count')↵    at handleTaskCountUpdate…", connectionId: "ws_1746644668586_qanx4ajd9", timestamp: "2025-05-07T19:05:15.712Z"}

[WebSocket] Error in message handler for type &quot;task_updated&quot;: 
Object {errorType: "TypeError", message: "Cannot read properties of undefined (reading 'count')", stack: "TypeError: Cannot read properties of undefined (reading 'count')↵    at handleTaskCountUpdate…", connectionId: "ws_1746644668586_qanx4ajd9", timestamp: "2025-05-07T19:05:15.712Z"}

<span style="color:#f44336;display:inline-block;max-width:100%;">[WebSocket] Error in message handler for type &quot;task_updated&quot;:</span> 
Object {errorType: "TypeError", message: "Cannot read properties of undefined (reading 'count')", stack: "TypeError: Cannot read properties of undefined (reading 'count')↵    at handleTaskCountUpdate…", connectionId: "ws_1746644668586_qanx4ajd9", timestamp: "2025-05-07T19:05:15.712Z"}

[WebSocket] Error in message handler for type &quot;task_updated&quot;: 
Object {errorType: "TypeError", message: "Cannot read properties of undefined (reading 'count')", stack: "TypeError: Cannot read properties of undefined (reading 'count')↵    at handleTaskCountUpdate…", connectionId: "ws_1746644668586_qanx4ajd9", timestamp: "2025-05-07T19:05:15.712Z"}

<span style="color:#f44336;display:inline-block;max-width:100%;">[WebSocket] Error in message handler for type &quot;task_updated&quot;:</span> 
Object {errorType: "TypeError", message: "Cannot read properties of undefined (reading 'count')", stack: "TypeError: Cannot read properties of undefined (reading 'count')↵    at handleTaskCountUpdate…", connectionId: "ws_1746644668586_qanx4ajd9", timestamp: "2025-05-07T19:05:15.712Z"}

[2025-05-07T19:05:15.712Z] [WebSocket] Received message of type: task_updated 
[WebSocket] Received message: 
Object {type: "pong", timestamp: "2025-05-07T19:05:29.271Z", echo: {…}}
[WebSocket] Received message: 
Object {type: "task_update", payload: {…}, data: {…}, timestamp: "2025-05-07T19:05:46.338Z", messageId: "msg_1746644746338_17a89xkz7"}
[TaskCenter] Raw WebSocket task_update data: 
Object {payload: {…}, data: {…}, taskId: 761, timestamp: "2025-05-07T19:05:46.338Z"}
[TaskCenter] WebSocket message structure analysis: 
Object {hasPayload: true, hasNestedPayload: false, hasData: true, hasNestedData: false, directTaskId: undefined, …}
[TaskCenter] WebSocket task_update processed: 
Object {taskId: 761, status: "completed", progress: 100, metadata: {…}, timestamp: "2025-05-07T19:05:46.343Z"}
[TaskCenter] Update for task 761 is newer, applying 
Object {prevTimestamp: "2025-05-07T19:05:15.836Z", newTimestamp: "2025-05-07T19:05:46.343Z"}
[TaskCenter] Updated task state via WebSocket: 
Object {taskId: 761, progress: 100, status: "completed", updatedTask: {…}}
[2025-05-07T19:05:46.343Z] [WebSocket] Received message of type: task_update 
[2025-05-07T19:05:46.343Z] [WebSocket] Task update received: Task #761 - Status: completed, Progress: 100% 
[WebSocket] Received message: 
Object {type: "task_updated", timestamp: "2025-05-07T19:05:46.595Z", taskId: 762, progress: 0, status: "not_started", …}
[2025-05-07T19:05:46.596Z] [WebSocket] Received message of type: task_updated 
[WebSocket] Error in message handler for type &quot;task_updated&quot;: 
Object {errorType: "TypeError", message: "Cannot read properties of undefined (reading 'count')", stack: "TypeError: Cannot read properties of undefined (reading 'count')↵    at handleTaskCountUpdate…", connectionId: "ws_1746644668586_qanx4ajd9", timestamp: "2025-05-07T19:05:46.596Z"}

<span style="color:#f44336;display:inline-block;max-width:100%;">[WebSocket] Error in message handler for type &quot;task_updated&quot;:</span> 
Object {errorType: "TypeError", message: "Cannot read properties of undefined (reading 'count')", stack: "TypeError: Cannot read properties of undefined (reading 'count')↵    at handleTaskCountUpdate…", connectionId: "ws_1746644668586_qanx4ajd9", timestamp: "2025-05-07T19:05:46.596Z"}

[WebSocket] Error in message handler for type &quot;task_updated&quot;: 
Object {errorType: "TypeError", message: "Cannot read properties of undefined (reading 'count')", stack: "TypeError: Cannot read properties of undefined (reading 'count')↵    at handleTaskCountUpdate…", connectionId: "ws_1746644668586_qanx4ajd9", timestamp: "2025-05-07T19:05:46.596Z"}

<span style="color:#f44336;display:inline-block;max-width:100%;">[WebSocket] Error in message handler for type &quot;task_updated&quot;:</span> 
Object {errorType: "TypeError", message: "Cannot read properties of undefined (reading 'count')", stack: "TypeError: Cannot read properties of undefined (reading 'count')↵    at handleTaskCountUpdate…", connectionId: "ws_1746644668586_qanx4ajd9", timestamp: "2025-05-07T19:05:46.596Z"}

[WebSocket] Error in message handler for type &quot;task_updated&quot;: 
Object {errorType: "TypeError", message: "Cannot read properties of undefined (reading 'count')", stack: "TypeError: Cannot read properties of undefined (reading 'count')↵    at handleTaskCountUpdate…", connectionId: "ws_1746644668586_qanx4ajd9", timestamp: "2025-05-07T19:05:46.596Z"}

<span style="color:#f44336;display:inline-block;max-width:100%;">[WebSocket] Error in message handler for type &quot;task_updated&quot;:</span> 
Object {errorType: "TypeError", message: "Cannot read properties of undefined (reading 'count')", stack: "TypeError: Cannot read properties of undefined (reading 'count')↵    at handleTaskCountUpdate…", connectionId: "ws_1746644668586_qanx4ajd9", timestamp: "2025-05-07T19:05:46.596Z"}

[WebSocket] Received message: 
Object {type: "pong", timestamp: "2025-05-07T19:05:59.268Z", echo: {…}}
[WebSocket] Received message: 
Object {type: "task_update", payload: {…}, data: {…}, timestamp: "2025-05-07T19:06:17.326Z", messageId: "msg_1746644777326_goz3fdvnf"}
[TaskCenter] Raw WebSocket task_update data: 
Object {payload: {…}, data: {…}, taskId: 761, timestamp: "2025-05-07T19:06:17.326Z"}
[TaskCenter] WebSocket message structure analysis: 
Object {hasPayload: true, hasNestedPayload: false, hasData: true, hasNestedData: false, directTaskId: undefined, …}
[TaskCenter] WebSocket task_update processed: 
Object {taskId: 761, status: "completed", progress: 100, metadata: {…}, timestamp: "2025-05-07T19:06:17.330Z"}
[TaskCenter] Update for task 761 is newer, applying 
Object {prevTimestamp: "2025-05-07T19:05:46.783Z", newTimestamp: "2025-05-07T19:06:17.330Z"}
[TaskCenter] Updated task state via WebSocket: 
Object {taskId: 761, progress: 100, status: "completed", updatedTask: {…}}
[2025-05-07T19:06:17.330Z] [WebSocket] Received message of type: task_update 
[2025-05-07T19:06:17.330Z] [WebSocket] Task update received: Task #761 - Status: completed, Progress: 100% 
[WebSocket] Received message: 
Object {type: "task_updated", timestamp: "2025-05-07T19:06:17.496Z", taskId: 762, progress: 0, status: "not_started", …}
[WebSocket] Error in message handler for type &quot;task_updated&quot;: 
Object {errorType: "TypeError", message: "Cannot read properties of undefined (reading 'count')", stack: "TypeError: Cannot read properties of undefined (reading 'count')↵    at handleTaskCountUpdate…", connectionId: "ws_1746644668586_qanx4ajd9", timestamp: "2025-05-07T19:06:17.500Z"}

<span style="color:#f44336;display:inline-block;max-width:100%;">[WebSocket] Error in message handler for type &quot;task_updated&quot;:</span> 
Object {errorType: "TypeError", message: "Cannot read properties of undefined (reading 'count')", stack: "TypeError: Cannot read properties of undefined (reading 'count')↵    at handleTaskCountUpdate…", connectionId: "ws_1746644668586_qanx4ajd9", timestamp: "2025-05-07T19:06:17.500Z"}

[WebSocket] Error in message handler for type &quot;task_updated&quot;: 
Object {errorType: "TypeError", message: "Cannot read properties of undefined (reading 'count')", stack: "TypeError: Cannot read properties of undefined (reading 'count')↵    at handleTaskCountUpdate…", connectionId: "ws_1746644668586_qanx4ajd9", timestamp: "2025-05-07T19:06:17.500Z"}

<span style="color:#f44336;display:inline-block;max-width:100%;">[WebSocket] Error in message handler for type &quot;task_updated&quot;:</span> 
Object {errorType: "TypeError", message: "Cannot read properties of undefined (reading 'count')", stack: "TypeError: Cannot read properties of undefined (reading 'count')↵    at handleTaskCountUpdate…", connectionId: "ws_1746644668586_qanx4ajd9", timestamp: "2025-05-07T19:06:17.500Z"}

[WebSocket] Error in message handler for type &quot;task_updated&quot;: 
Object {errorType: "TypeError", message: "Cannot read properties of undefined (reading 'count')", stack: "TypeError: Cannot read properties of undefined (reading 'count')↵    at handleTaskCountUpdate…", connectionId: "ws_1746644668586_qanx4ajd9", timestamp: "2025-05-07T19:06:17.500Z"}

<span style="color:#f44336;display:inline-block;max-width:100%;">[WebSocket] Error in message handler for type &quot;task_updated&quot;:</span> 
Object {errorType: "TypeError", message: "Cannot read properties of undefined (reading 'count')", stack: "TypeError: Cannot read properties of undefined (reading 'count')↵    at handleTaskCountUpdate…", connectionId: "ws_1746644668586_qanx4ajd9", timestamp: "2025-05-07T19:06:17.500Z"}

[2025-05-07T19:06:17.500Z] [WebSocket] Received message of type: task_updated 
[WebSocket] Received message: 
Object {type: "pong", timestamp: "2025-05-07T19:06:29.266Z", echo: {…}}
[WebSocket] Received message: 
Object {type: "task_update", payload: {…}, data: {…}, timestamp: "2025-05-07T19:06:48.067Z", messageId: "msg_1746644808067_of9hxdxel"}
[TaskCenter] Raw WebSocket task_update data: 
Object {payload: {…}, data: {…}, taskId: 761, timestamp: "2025-05-07T19:06:48.067Z"}
[TaskCenter] WebSocket message structure analysis: 
Object {hasPayload: true, hasNestedPayload: false, hasData: true, hasNestedData: false, directTaskId: undefined, …}
[TaskCenter] WebSocket task_update processed: 
Object {taskId: 761, status: "completed", progress: 100, metadata: {…}, timestamp: "2025-05-07T19:06:48.073Z"}
[TaskCenter] Update for task 761 is newer, applying 
Object {prevTimestamp: "2025-05-07T19:06:17.605Z", newTimestamp: "2025-05-07T19:06:48.073Z"}
[TaskCenter] Updated task state via WebSocket: 
Object {taskId: 761, progress: 100, status: "completed", updatedTask: {…}}
[2025-05-07T19:06:48.073Z] [WebSocket] Received message of type: task_update 
[2025-05-07T19:06:48.073Z] [WebSocket] Task update received: Task #761 - Status: completed, Progress: 100% 
[WebSocket] Error in message handler for type &quot;task_updated&quot;: 
Object {errorType: "TypeError", message: "Cannot read properties of undefined (reading 'count')", stack: "TypeError: Cannot read properties of undefined (reading 'count')↵    at handleTaskCountUpdate…", connectionId: "ws_1746644668586_qanx4ajd9", timestamp: "2025-05-07T19:06:48.241Z"}

<span style="color:#f44336;display:inline-block;max-width:100%;">[WebSocket] Error in message handler for type &quot;task_updated&quot;:</span> 
Object {errorType: "TypeError", message: "Cannot read properties of undefined (reading 'count')", stack: "TypeError: Cannot read properties of undefined (reading 'count')↵    at handleTaskCountUpdate…", connectionId: "ws_1746644668586_qanx4ajd9", timestamp: "2025-05-07T19:06:48.241Z"}

[WebSocket] Error in message handler for type &quot;task_updated&quot;: 
Object {errorType: "TypeError", message: "Cannot read properties of undefined (reading 'count')", stack: "TypeError: Cannot read properties of undefined (reading 'count')↵    at handleTaskCountUpdate…", connectionId: "ws_1746644668586_qanx4ajd9", timestamp: "2025-05-07T19:06:48.241Z"}

<span style="color:#f44336;display:inline-block;max-width:100%;">[WebSocket] Error in message handler for type &quot;task_updated&quot;:</span> 
Object {errorType: "TypeError", message: "Cannot read properties of undefined (reading 'count')", stack: "TypeError: Cannot read properties of undefined (reading 'count')↵    at handleTaskCountUpdate…", connectionId: "ws_1746644668586_qanx4ajd9", timestamp: "2025-05-07T19:06:48.241Z"}

[WebSocket] Error in message handler for type &quot;task_updated&quot;: 
Object {errorType: "TypeError", message: "Cannot read properties of undefined (reading 'count')", stack: "TypeError: Cannot read properties of undefined (reading 'count')↵    at handleTaskCountUpdate…", connectionId: "ws_1746644668586_qanx4ajd9", timestamp: "2025-05-07T19:06:48.241Z"}
