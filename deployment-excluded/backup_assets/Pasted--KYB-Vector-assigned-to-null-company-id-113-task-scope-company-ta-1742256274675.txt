 KYB: Vector',
      assigned_to: null,
      company_id: 113,
      task_scope: 'company',
      task_type: 'company_kyb',
      status: 'submitted'
    },
    {
      id: 196,
      title: 'Company CARD: Vector',
      assigned_to: null,
      company_id: 113,
      task_scope: 'company',
      task_type: 'company_card',
      status: 'in_progress'
    }
  ]
}
12:03:53 AM [info] GET /api/tasks 304 in 89ms :: [{"id":197,"title":"New User Invitation: e.v.a.nc.na.va.r.r.o@gmail.com","des...
WebSocket client disconnected with code 1005 and reason: 
[Auth] Deserializing user: 150
[Tasks] ====== Starting task fetch =====
[Tasks] User details: { id: 150, company_id: 113, email: 'e.v.a.nc.na.va.r.r.o@gmail.com' }
[Tasks] KYB tasks found: {
  count: 1,
  tasks: [
    {
      id: 195,
      company_id: 113,
      task_scope: 'company',
      task_type: 'company_kyb',
      assigned_to: null,
      status: 'submitted'
    }
  ]
}
[Tasks] Query conditions: {
  conditions: {
    condition1: 'tasks.assigned_to = 150',
    condition2: 'tasks.created_by = 150',
    condition3: "tasks.company_id = 113 AND tasks.assigned_to IS NULL AND tasks.task_scope = 'company'",
    condition4: "tasks.task_type = 'user_onboarding' AND LOWER(tasks.user_email) = LOWER('e.v.a.nc.na.va.r.r.o@gmail.com')"
  }
}
[Tasks] Tasks found: {
  count: 3,
  tasks: [
    {
      id: 197,
      title: 'New User Invitation: e.v.a.nc.na.va.r.r.o@gmail.com',
      assigned_to: 150,
      company_id: 113,
      task_scope: 'user',
      task_type: 'user_onboarding',
      status: 'completed'
    },
    {
      id: 195,
      title: 'Company KYB: Vector',
      assigned_to: null,
      company_id: 113,
      task_scope: 'company',
      task_type: 'company_kyb',
      status: 'submitted'
    },
    {
      id: 196,
      title: 'Company CARD: Vector',
      assigned_to: null,
      company_id: 113,
      task_scope: 'company',
      task_type: 'company_card',
      status: 'in_progress'
    }
  ]
}
12:03:56 AM [info] GET /api/tasks 304 in 129ms :: [{"id":197,"title":"New User Invitation: e.v.a.nc.na.va.r.r.o@gmail.com","des...
New WebSocket client connected
WebSocket client disconnected with code 1005 and reason: 
[Auth] Deserializing user: 150
[2025-03-18T00:03:57.527Z] [INFO] [CardRoutes] Fetching CARD task {"companyName":"Vector","userId":150,"companyId":113}
[2025-03-18T00:03:57.571Z] [INFO] [CardRoutes] Task lookup result {"found":true,"taskId":196,"taskType":"company_card","taskStatus":"in_progress"}
12:03:57 AM [info] GET /api/tasks/card/Vector 304 in 76ms :: {"id":196,"title":"Company CARD: Vector","description":"Provide Compliance an...
New WebSocket client connected
New WebSocket client connected
[Auth] Deserializing user: 150
[Auth] Deserializing user: 150
[Tasks] ====== Starting task fetch =====
[Tasks] User details: { id: 150, company_id: 113, email: 'e.v.a.nc.na.va.r.r.o@gmail.com' }
[Current Company] Fetching company for user: { userId: 150, companyId: 113 }
[Tasks] KYB tasks found: {
  count: 1,
  tasks: [
    {
      id: 195,
      company_id: 113,
      task_scope: 'company',
      task_type: 'company_kyb',
      assigned_to: null,
      status: 'submitted'
    }
  ]
}
[Tasks] Query conditions: {
  conditions: {
    condition1: 'tasks.assigned_to = 150',
    condition2: 'tasks.created_by = 150',
    condition3: "tasks.company_id = 113 AND tasks.assigned_to IS NULL AND tasks.task_scope = 'company'",
    condition4: "tasks.task_type = 'user_onboarding' AND LOWER(tasks.user_email) = LOWER('e.v.a.nc.na.va.r.r.o@gmail.com')"
  }
}
[Current Company] Found company: { id: 113, name: 'Vector', onboardingCompleted: true }
[Tasks] Tasks found: {
  count: 3,
  tasks: [
    {
      id: 197,
      title: 'New User Invitation: e.v.a.nc.na.va.r.r.o@gmail.com',
      assigned_to: 150,
      company_id: 113,
      task_scope: 'user',
      task_type: 'user_onboarding',
      status: 'completed'
    },
    {
      id: 195,
      title: 'Company KYB: Vector',
      assigned_to: null,
      company_id: 113,
      task_scope: 'company',
      task_type: 'company_kyb',
      status: 'submitted'
    },
    {
      id: 196,
      title: 'Company CARD: Vector',
      assigned_to: null,
      company_id: 113,
      task_scope: 'company',
      task_type: 'company_card',
      status: 'in_progress'
    }
  ]
}
12:04:02 AM [info] GET /api/companies/current 304 in 62ms :: {"id":113,"name":"Vector","description":"FinTech partner company Vector","cat...
12:04:02 AM [info] GET /api/tasks 304 in 91ms :: [{"id":197,"title":"New User Invitation: e.v.a.nc.na.va.r.r.o@gmail.com","des...
WebSocket client disconnected with code 1005 and reason: 
[Auth] Deserializing user: 150
New WebSocket client connected
[Files] Processing file upload request
[Files] File details: {
  originalname: 'soc2-type2 (1).pdf',
  mimetype: 'application/pdf',
  size: 760657,
  filename: '20250318000403.pdf'
}
[Files] Processing PDF file, extracting first pages
[PDF Service] Starting text extraction from first pages: {
  filePath: '/home/runner/workspace/uploads/documents/20250318000403.pdf',
  maxPages: 3,
  timestamp: '2025-03-18T00:04:03.945Z'
}
[PDF Service] Reading PDF file
[PDF Service] Extraction successful: {
  totalPages: 56,
  extractedPages: 3,
  timestamp: '2025-03-18T00:04:05.111Z'
}
[PDF Service] Truncating text to stay within token limits: { originalLength: 145224, truncatedLength: 64000 }
[Files] Starting document classification
[Auth] Deserializing user: 150
[Files] Classification result: {
  category: 'soc2_audit',
  confidence: 0.9,
  reasoning: "The document contains detailed descriptions of controls relevant to security, confidentiality, and availability, along with specific test matrices to evaluate the operating effectiveness of these controls. It references trust services criteria, complementary user entity controls, and subservice organization controls typical in a SOC 2 audit report. The report also includes management's assertion, description of the system, and detailed testing procedures."
}
[Auth] Deserializing user: 150
[Current Company] Fetching company for user: { userId: 150, companyId: 113 }
[Tasks] ====== Starting task fetch =====
[Tasks] User details: { id: 150, company_id: 113, email: 'e.v.a.nc.na.va.r.r.o@gmail.com' }
[Files] Created file record: { id: 276, name: 'soc2-type2 (1).pdf', status: 'uploaded' }
[Current Company] Found company: { id: 113, name: 'Vector', onboardingCompleted: true }
[Tasks] KYB tasks found: {
  count: 1,
  tasks: [
    {
      id: 195,
      company_id: 113,
      task_scope: 'company',
      task_type: 'company_kyb',
      assigned_to: null,
      status: 'submitted'
    }
  ]
}
[Tasks] Query conditions: {
  conditions: {
    condition1: 'tasks.assigned_to = 150',
    condition2: 'tasks.created_by = 150',
    condition3: "tasks.company_id = 113 AND tasks.assigned_to IS NULL AND tasks.task_scope = 'company'",
    condition4: "tasks.task_type = 'user_onboarding' AND LOWER(tasks.user_email) = LOWER('e.v.a.nc.na.va.r.r.o@gmail.com')"
  }
}
12:04:07 AM [info] POST /api/files 201 in 4489ms :: {"id":276,"name":"soc2-type2 (1).pdf","size":760657,"type":"application/pdf",...
12:04:07 AM [info] GET /api/companies/current 304 in 61ms :: {"id":113,"name":"Vector","description":"FinTech partner company Vector","cat...
[Tasks] Tasks found: {
  count: 3,
  tasks: [
    {
      id: 197,
      title: 'New User Invitation: e.v.a.nc.na.va.r.r.o@gmail.com',
      assigned_to: 150,
      company_id: 113,
      task_scope: 'user',
      task_type: 'user_onboarding',
      status: 'completed'
    },
    {
      id: 195,
      title: 'Company KYB: Vector',
      assigned_to: null,
      company_id: 113,
      task_scope: 'company',
      task_type: 'company_kyb',
      status: 'submitted'
    },
    {
      id: 196,
      title: 'Company CARD: Vector',
      assigned_to: null,
      company_id: 113,
      task_scope: 'company',
      task_type: 'company_card',
      status: 'in_progress'
    }
  ]
}
12:04:07 AM [info] GET /api/tasks 304 in 90ms :: [{"id":197,"title":"New User Invitation: e.v.a.nc.na.va.r.r.o@gmail.com","des...
WebSocket client disconnected with code 1005 and reason: 
[Auth] Deserializing user: 150
New WebSocket client connected
[Files] Processing file upload request
[Files] File details: {
  originalname: 'Anonymized-ISO-27001-Assessment-Report.pdf',
  mimetype: 'application/pdf',
  size: 889081,
  filename: '20250318000408.pdf'
}
[Files] Processing PDF file, extracting first pages
[PDF Service] Starting text extraction from first pages: {
  filePath: '/home/runner/workspace/uploads/documents/20250318000408.pdf',
  maxPages: 3,
  timestamp: '2025-03-18T00:04:08.859Z'
}
[PDF Service] Reading PDF file
[PDF Service] Extraction successful: {
  totalPages: 50,
  extractedPages: 3,
  timestamp: '2025-03-18T00:04:10.256Z'
}
[PDF Service] Truncating text to stay within token limits: { originalLength: 75775, truncatedLength: 64000 }
[Files] Starting document classification
[Files] Classification result: {
  category: 'iso27001_cert',
  confidence: 0.9,
  reasoning: 'The document clearly outlines assessments, methodologies, key stakeholders, maturity levels for each clause of ISO 27001, recommendations, and the roadmap to achieve ISO/IEC 27001 certification. It discusses various control objectives and security measures in detail, indicating a focus on compliance with ISO 27001 standards.'
}
[Files] Created file record: {
  id: 277,
  name: 'Anonymized-ISO-27001-Assessment-Report.pdf',
  status: 'uploaded'
}
12:04:11 AM [info] POST /api/files 201 in 3967ms :: {"id":277,"name":"Anonymized-ISO-27001-Assessment-Report.pdf","size":889081,"...
WebSocket client disconnected with code 1005 and reason: 
New WebSocket client connected
WebSocket client disconnected with code 1005 and reason: 
[Auth] Deserializing user: 150
New WebSocket client connected
[Auth] Deserializing user: 150
[Current Company] Fetching company for user: { userId: 150, companyId: 113 }
[Tasks] ====== Starting task fetch =====
[Tasks] User details: { id: 150, company_id: 113, email: 'e.v.a.nc.na.va.r.r.o@gmail.com' }
[Current Company] Found company: { id: 113, name: 'Vector', onboardingCompleted: true }
[Tasks] KYB tasks found: {
  count: 1,
  tasks: [
    {
      id: 195,
      company_id: 113,
      task_scope: 'company',
      task_type: 'company_kyb',
      assigned_to: null,
      status: 'submitted'
    }
  ]
}
[Tasks] Query conditions: {
  conditions: {
    condition1: 'tasks.assigned_to = 150',
    condition2: 'tasks.created_by = 150',
    condition3: "tasks.company_id = 113 AND tasks.assigned_to IS NULL AND tasks.task_scope = 'company'",
    condition4: "tasks.task_type = 'user_onboarding' AND LOWER(tasks.user_email) = LOWER('e.v.a.nc.na.va.r.r.o@gmail.com')"
  }
}
12:04:13 AM [info] GET /api/companies/current 304 in 59ms :: {"id":113,"name":"Vector","description":"FinTech partner company Vector","cat...
[Tasks] Tasks found: {
  count: 3,
  tasks: [
    {
      id: 197,
      title: 'New User Invitation: e.v.a.nc.na.va.r.r.o@gmail.com',
      assigned_to: 150,
      company_id: 113,
      task_scope: 'user',
      task_type: 'user_onboarding',
      status: 'completed'
    },
    {
      id: 195,
      title: 'Company KYB: Vector',
      assigned_to: null,
      company_id: 113,
      task_scope: 'company',
      task_type: 'company_kyb',
      status: 'submitted'
    },
    {
      id: 196,
      title: 'Company CARD: Vector',
      assigned_to: null,
      company_id: 113,
      task_scope: 'company',
      task_type: 'company_card',
      status: 'in_progress'
    }
  ]
}
12:04:13 AM [info] GET /api/tasks 304 in 88ms :: [{"id":197,"title":"New User Invitation: e.v.a.nc.na.va.r.r.o@gmail.com","des...
WebSocket client disconnected with code 1005 and reason: 
[Auth] Deserializing user: 150
[2025-03-18T00:04:13.552Z] [INFO] [CardRoutes] Fetching CARD fields
12:04:13 AM [info] GET /api/card/fields 304 in 126ms :: [{"id":1,"field_key":"security_access_control","wizard_section":"Security","q...
[Auth] Deserializing user: 150
[Document Processing] Creating chunks for file: {
  fileId: 276,
  fileName: 'soc2-type2 (1).pdf',
  mimeType: 'application/pdf',
  timestamp: '2025-03-18T00:04:13.858Z'
}
[DocumentChunking] Starting document chunking: {
  filePath: '/home/runner/workspace/uploads/documents/20250318000403.pdf',
  mimeType: 'application/pdf',
  chunkSize: 4000,
  timestamp: '2025-03-18T00:04:13.858Z'
}
[PDF Service] Starting text extraction from first pages: {
  filePath: '/home/runner/workspace/uploads/documents/20250318000403.pdf',
  maxPages: 0,
  timestamp: '2025-03-18T00:04:13.858Z'
}
[PDF Service] Reading PDF file
[PDF Service] Extraction successful: {
  totalPages: 56,
  extractedPages: 0,
  timestamp: '2025-03-18T00:04:14.577Z'
}
[PDF Service] Truncating text to stay within token limits: { originalLength: 145224, truncatedLength: 64000 }
[DocumentChunking] Created chunk: {
  chunkIndex: 0,
  chunkSize: 0,
  totalChunks: 1,
  timestamp: '2025-03-18T00:04:14.579Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 1,
  chunkSize: 0,
  totalChunks: 2,
  timestamp: '2025-03-18T00:04:14.579Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 2,
  chunkSize: 0,
  totalChunks: 3,
  timestamp: '2025-03-18T00:04:14.579Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 3,
  chunkSize: 0,
  totalChunks: 4,
  timestamp: '2025-03-18T00:04:14.579Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 4,
  chunkSize: 0,
  totalChunks: 5,
  timestamp: '2025-03-18T00:04:14.579Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 5,
  chunkSize: 0,
  totalChunks: 6,
  timestamp: '2025-03-18T00:04:14.579Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 6,
  chunkSize: 0,
  totalChunks: 7,
  timestamp: '2025-03-18T00:04:14.579Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 7,
  chunkSize: 0,
  totalChunks: 8,
  timestamp: '2025-03-18T00:04:14.579Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 8,
  chunkSize: 0,
  totalChunks: 9,
  timestamp: '2025-03-18T00:04:14.579Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 9,
  chunkSize: 0,
  totalChunks: 10,
  timestamp: '2025-03-18T00:04:14.579Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 10,
  chunkSize: 0,
  totalChunks: 11,
  timestamp: '2025-03-18T00:04:14.579Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 11,
  chunkSize: 0,
  totalChunks: 12,
  timestamp: '2025-03-18T00:04:14.579Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 12,
  chunkSize: 0,
  totalChunks: 13,
  timestamp: '2025-03-18T00:04:14.579Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 13,
  chunkSize: 0,
  totalChunks: 14,
  timestamp: '2025-03-18T00:04:14.579Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 14,
  chunkSize: 0,
  totalChunks: 15,
  timestamp: '2025-03-18T00:04:14.579Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 15,
  chunkSize: 0,
  totalChunks: 16,
  timestamp: '2025-03-18T00:04:14.579Z'
}
[DocumentChunking] Chunks created: {
  totalChunks: 16,
  averageChunkSize: 4000,
  timestamp: '2025-03-18T00:04:14.580Z'
}
[Document Processing] Processing chunk: {
  fileId: 276,
  chunkIndex: 0,
  progress: '1/16',
  timestamp: '2025-03-18T00:04:14.610Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 0,
  contentLength: 3922,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:14.610Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:384:7)
      at process.processTicksAndRejections (node:internal/process/task_queues:95:5),
  chunkIndex: 0,
  timestamp: '2025-03-18T00:04:14.610Z'
}
12:04:14 AM [info] POST /api/documents/276/process 200 in 819ms :: {"status":"processing","totalChunks":16}
[Document Processing] Processing chunk: {
  fileId: 276,
  chunkIndex: 1,
  progress: '2/16',
  timestamp: '2025-03-18T00:04:14.714Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 1,
  contentLength: 4000,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:14.714Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34),
  chunkIndex: 1,
  timestamp: '2025-03-18T00:04:14.714Z'
}
[Auth] Deserializing user: 150
[Document Processing] Processing chunk: {
  fileId: 276,
  chunkIndex: 2,
  progress: '3/16',
  timestamp: '2025-03-18T00:04:14.814Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 2,
  contentLength: 4020,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:14.814Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34),
  chunkIndex: 2,
  timestamp: '2025-03-18T00:04:14.814Z'
}
12:04:14 AM [info] GET /api/documents/276/progress 200 in 60ms :: {"status":"processing","progress":{"chunksProcessed":0,"totalChunks":1},"answ...
[Document Processing] Processing chunk: {
  fileId: 276,
  chunkIndex: 3,
  progress: '4/16',
  timestamp: '2025-03-18T00:04:14.914Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 3,
  contentLength: 4000,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:14.914Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34),
  chunkIndex: 3,
  timestamp: '2025-03-18T00:04:14.914Z'
}
[Document Processing] Processing chunk: {
  fileId: 276,
  chunkIndex: 4,
  progress: '5/16',
  timestamp: '2025-03-18T00:04:15.014Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 4,
  contentLength: 3952,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:15.014Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34),
  chunkIndex: 4,
  timestamp: '2025-03-18T00:04:15.014Z'
}
[Document Processing] Processing chunk: {
  fileId: 276,
  chunkIndex: 5,
  progress: '6/16',
  timestamp: '2025-03-18T00:04:15.115Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 5,
  contentLength: 4077,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:15.115Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34),
  chunkIndex: 5,
  timestamp: '2025-03-18T00:04:15.115Z'
}
[Document Processing] Processing chunk: {
  fileId: 276,
  chunkIndex: 6,
  progress: '7/16',
  timestamp: '2025-03-18T00:04:15.215Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 6,
  contentLength: 4000,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:15.216Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34),
  chunkIndex: 6,
  timestamp: '2025-03-18T00:04:15.216Z'
}
[Document Processing] Processing chunk: {
  fileId: 276,
  chunkIndex: 7,
  progress: '8/16',
  timestamp: '2025-03-18T00:04:15.316Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 7,
  contentLength: 4014,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:15.316Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34),
  chunkIndex: 7,
  timestamp: '2025-03-18T00:04:15.316Z'
}
[Document Processing] Processing chunk: {
  fileId: 276,
  chunkIndex: 8,
  progress: '9/16',
  timestamp: '2025-03-18T00:04:15.417Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 8,
  contentLength: 3971,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:15.417Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34),
  chunkIndex: 8,
  timestamp: '2025-03-18T00:04:15.417Z'
}
[Document Processing] Processing chunk: {
  fileId: 276,
  chunkIndex: 9,
  progress: '10/16',
  timestamp: '2025-03-18T00:04:15.517Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 9,
  contentLength: 3976,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:15.517Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34),
  chunkIndex: 9,
  timestamp: '2025-03-18T00:04:15.517Z'
}
[Document Processing] Processing chunk: {
  fileId: 276,
  chunkIndex: 10,
  progress: '11/16',
  timestamp: '2025-03-18T00:04:15.617Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 10,
  contentLength: 4026,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:15.618Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34),
  chunkIndex: 10,
  timestamp: '2025-03-18T00:04:15.618Z'
}
[Document Processing] Processing chunk: {
  fileId: 276,
  chunkIndex: 11,
  progress: '12/16',
  timestamp: '2025-03-18T00:04:15.718Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 11,
  contentLength: 4017,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:15.718Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34),
  chunkIndex: 11,
  timestamp: '2025-03-18T00:04:15.718Z'
}
[Document Processing] Processing chunk: {
  fileId: 276,
  chunkIndex: 12,
  progress: '13/16',
  timestamp: '2025-03-18T00:04:15.818Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 12,
  contentLength: 4005,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:15.818Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34),
  chunkIndex: 12,
  timestamp: '2025-03-18T00:04:15.818Z'
}
[Document Processing] Processing chunk: {
  fileId: 276,
  chunkIndex: 13,
  progress: '14/16',
  timestamp: '2025-03-18T00:04:15.918Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 13,
  contentLength: 4035,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:15.918Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34),
  chunkIndex: 13,
  timestamp: '2025-03-18T00:04:15.918Z'
}
[Auth] Deserializing user: 150
[Document Processing] Processing chunk: {
  fileId: 276,
  chunkIndex: 14,
  progress: '15/16',
  timestamp: '2025-03-18T00:04:16.018Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 14,
  contentLength: 4032,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:16.018Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34),
  chunkIndex: 14,
  timestamp: '2025-03-18T00:04:16.018Z'
}
12:04:16 AM [info] GET /api/documents/276/progress 304 in 59ms :: {"status":"processing","progress":{"chunksProcessed":0,"totalChunks":1},"answ...
[Document Processing] Processing chunk: {
  fileId: 276,
  chunkIndex: 15,
  progress: '16/16',
  timestamp: '2025-03-18T00:04:16.119Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 15,
  contentLength: 3953,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:16.119Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34),
  chunkIndex: 15,
  timestamp: '2025-03-18T00:04:16.119Z'
}
[Auth] Deserializing user: 150
12:04:17 AM [info] GET /api/documents/276/progress 200 in 61ms :: {"status":"processed","progress":{"chunksProcessed":0,"totalChunks":1},"answe...
[Auth] Deserializing user: 150
12:04:17 AM [info] GET /api/documents/276/results 200 in 60ms :: {"status":"completed","answers":[],"answersFound":0}
[Auth] Deserializing user: 150
[Document Processing] Creating chunks for file: {
  fileId: 277,
  fileName: 'Anonymized-ISO-27001-Assessment-Report.pdf',
  mimeType: 'application/pdf',
  timestamp: '2025-03-18T00:04:17.588Z'
}
[DocumentChunking] Starting document chunking: {
  filePath: '/home/runner/workspace/uploads/documents/20250318000408.pdf',
  mimeType: 'application/pdf',
  chunkSize: 4000,
  timestamp: '2025-03-18T00:04:17.588Z'
}
[PDF Service] Starting text extraction from first pages: {
  filePath: '/home/runner/workspace/uploads/documents/20250318000408.pdf',
  maxPages: 0,
  timestamp: '2025-03-18T00:04:17.588Z'
}
[PDF Service] Reading PDF file
[PDF Service] Extraction successful: {
  totalPages: 50,
  extractedPages: 0,
  timestamp: '2025-03-18T00:04:18.704Z'
}
[PDF Service] Truncating text to stay within token limits: { originalLength: 75775, truncatedLength: 64000 }
[DocumentChunking] Created chunk: {
  chunkIndex: 0,
  chunkSize: 0,
  totalChunks: 1,
  timestamp: '2025-03-18T00:04:18.705Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 1,
  chunkSize: 0,
  totalChunks: 2,
  timestamp: '2025-03-18T00:04:18.705Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 2,
  chunkSize: 0,
  totalChunks: 3,
  timestamp: '2025-03-18T00:04:18.705Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 3,
  chunkSize: 0,
  totalChunks: 4,
  timestamp: '2025-03-18T00:04:18.705Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 4,
  chunkSize: 0,
  totalChunks: 5,
  timestamp: '2025-03-18T00:04:18.705Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 5,
  chunkSize: 0,
  totalChunks: 6,
  timestamp: '2025-03-18T00:04:18.705Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 6,
  chunkSize: 0,
  totalChunks: 7,
  timestamp: '2025-03-18T00:04:18.705Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 7,
  chunkSize: 0,
  totalChunks: 8,
  timestamp: '2025-03-18T00:04:18.705Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 8,
  chunkSize: 0,
  totalChunks: 9,
  timestamp: '2025-03-18T00:04:18.705Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 9,
  chunkSize: 0,
  totalChunks: 10,
  timestamp: '2025-03-18T00:04:18.705Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 10,
  chunkSize: 0,
  totalChunks: 11,
  timestamp: '2025-03-18T00:04:18.705Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 11,
  chunkSize: 0,
  totalChunks: 12,
  timestamp: '2025-03-18T00:04:18.705Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 12,
  chunkSize: 0,
  totalChunks: 13,
  timestamp: '2025-03-18T00:04:18.706Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 13,
  chunkSize: 0,
  totalChunks: 14,
  timestamp: '2025-03-18T00:04:18.706Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 14,
  chunkSize: 0,
  totalChunks: 15,
  timestamp: '2025-03-18T00:04:18.706Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 15,
  chunkSize: 0,
  totalChunks: 16,
  timestamp: '2025-03-18T00:04:18.706Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 16,
  chunkSize: 0,
  totalChunks: 17,
  timestamp: '2025-03-18T00:04:18.706Z'
}
[DocumentChunking] Chunks created: {
  totalChunks: 17,
  averageChunkSize: 3764.705882352941,
  timestamp: '2025-03-18T00:04:18.706Z'
}
[Auth] Deserializing user: 150
[Document Processing] Processing chunk: {
  fileId: 277,
  chunkIndex: 0,
  progress: '1/17',
  timestamp: '2025-03-18T00:04:18.737Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 0,
  contentLength: 4000,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:18.737Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:384:7)
      at process.processTicksAndRejections (node:internal/process/task_queues:95:5),
  chunkIndex: 0,
  timestamp: '2025-03-18T00:04:18.737Z'
}
[Auth] Deserializing user: 150
[Auth] Deserializing user: 150
[Current Company] Fetching company for user: { userId: 150, companyId: 113 }
12:04:18 AM [info] POST /api/documents/277/process 200 in 1208ms :: {"status":"processing","totalChunks":17}
[Tasks] ====== Starting task fetch =====
[Tasks] User details: { id: 150, company_id: 113, email: 'e.v.a.nc.na.va.r.r.o@gmail.com' }
[Document Processing] Creating chunks for file: {
  fileId: 276,
  fileName: 'soc2-type2 (1).pdf',
  mimeType: 'application/pdf',
  timestamp: '2025-03-18T00:04:18.794Z'
}
[DocumentChunking] Starting document chunking: {
  filePath: '/home/runner/workspace/uploads/documents/20250318000403.pdf',
  mimeType: 'application/pdf',
  chunkSize: 4000,
  timestamp: '2025-03-18T00:04:18.794Z'
}
[PDF Service] Starting text extraction from first pages: {
  filePath: '/home/runner/workspace/uploads/documents/20250318000403.pdf',
  maxPages: 0,
  timestamp: '2025-03-18T00:04:18.794Z'
}
[PDF Service] Reading PDF file
[PDF Service] Extraction successful: {
  totalPages: 56,
  extractedPages: 0,
  timestamp: '2025-03-18T00:04:19.616Z'
}
[PDF Service] Truncating text to stay within token limits: { originalLength: 145224, truncatedLength: 64000 }
[DocumentChunking] Created chunk: {
  chunkIndex: 0,
  chunkSize: 0,
  totalChunks: 1,
  timestamp: '2025-03-18T00:04:19.617Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 1,
  chunkSize: 0,
  totalChunks: 2,
  timestamp: '2025-03-18T00:04:19.617Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 2,
  chunkSize: 0,
  totalChunks: 3,
  timestamp: '2025-03-18T00:04:19.617Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 3,
  chunkSize: 0,
  totalChunks: 4,
  timestamp: '2025-03-18T00:04:19.617Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 4,
  chunkSize: 0,
  totalChunks: 5,
  timestamp: '2025-03-18T00:04:19.617Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 5,
  chunkSize: 0,
  totalChunks: 6,
  timestamp: '2025-03-18T00:04:19.617Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 6,
  chunkSize: 0,
  totalChunks: 7,
  timestamp: '2025-03-18T00:04:19.617Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 7,
  chunkSize: 0,
  totalChunks: 8,
  timestamp: '2025-03-18T00:04:19.617Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 8,
  chunkSize: 0,
  totalChunks: 9,
  timestamp: '2025-03-18T00:04:19.617Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 9,
  chunkSize: 0,
  totalChunks: 10,
  timestamp: '2025-03-18T00:04:19.617Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 10,
  chunkSize: 0,
  totalChunks: 11,
  timestamp: '2025-03-18T00:04:19.617Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 11,
  chunkSize: 0,
  totalChunks: 12,
  timestamp: '2025-03-18T00:04:19.617Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 12,
  chunkSize: 0,
  totalChunks: 13,
  timestamp: '2025-03-18T00:04:19.617Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 13,
  chunkSize: 0,
  totalChunks: 14,
  timestamp: '2025-03-18T00:04:19.617Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 14,
  chunkSize: 0,
  totalChunks: 15,
  timestamp: '2025-03-18T00:04:19.617Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 15,
  chunkSize: 0,
  totalChunks: 16,
  timestamp: '2025-03-18T00:04:19.617Z'
}
[DocumentChunking] Chunks created: {
  totalChunks: 16,
  averageChunkSize: 4000,
  timestamp: '2025-03-18T00:04:19.617Z'
}
[Document Processing] Processing chunk: {
  fileId: 277,
  chunkIndex: 1,
  progress: '2/17',
  timestamp: '2025-03-18T00:04:19.618Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 1,
  contentLength: 3920,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:19.618Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34)
      at runNextTicks (node:internal/process/task_queues:60:5)
      at process.processTimers (node:internal/timers:516:9),
  chunkIndex: 1,
  timestamp: '2025-03-18T00:04:19.618Z'
}
[Current Company] Found company: { id: 113, name: 'Vector', onboardingCompleted: true }
[Tasks] KYB tasks found: {
  count: 1,
  tasks: [
    {
      id: 195,
      company_id: 113,
      task_scope: 'company',
      task_type: 'company_kyb',
      assigned_to: null,
      status: 'submitted'
    }
  ]
}
[Tasks] Query conditions: {
  conditions: {
    condition1: 'tasks.assigned_to = 150',
    condition2: 'tasks.created_by = 150',
    condition3: "tasks.company_id = 113 AND tasks.assigned_to IS NULL AND tasks.task_scope = 'company'",
    condition4: "tasks.task_type = 'user_onboarding' AND LOWER(tasks.user_email) = LOWER('e.v.a.nc.na.va.r.r.o@gmail.com')"
  }
}
[Auth] Deserializing user: 150
[Tasks] Tasks found: {
  count: 3,
  tasks: [
    {
      id: 197,
      title: 'New User Invitation: e.v.a.nc.na.va.r.r.o@gmail.com',
      assigned_to: 150,
      company_id: 113,
      task_scope: 'user',
      task_type: 'user_onboarding',
      status: 'completed'
    },
    {
      id: 195,
      title: 'Company KYB: Vector',
      assigned_to: null,
      company_id: 113,
      task_scope: 'company',
      task_type: 'company_kyb',
      status: 'submitted'
    },
    {
      id: 196,
      title: 'Company CARD: Vector',
      assigned_to: null,
      company_id: 113,
      task_scope: 'company',
      task_type: 'company_card',
      status: 'in_progress'
    }
  ]
}
[Document Processing] Processing chunk: {
  fileId: 276,
  chunkIndex: 0,
  progress: '1/16',
  timestamp: '2025-03-18T00:04:19.651Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 0,
  contentLength: 3922,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:19.651Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:384:7)
      at process.processTicksAndRejections (node:internal/process/task_queues:95:5),
  chunkIndex: 0,
  timestamp: '2025-03-18T00:04:19.651Z'
}
12:04:19 AM [info] GET /api/companies/current 304 in 886ms :: {"id":113,"name":"Vector","description":"FinTech partner company Vector","cat...
12:04:19 AM [info] GET /api/tasks 304 in 913ms :: [{"id":197,"title":"New User Invitation: e.v.a.nc.na.va.r.r.o@gmail.com","des...
12:04:19 AM [info] POST /api/documents/276/process 200 in 918ms :: {"status":"processing","totalChunks":16}
[Document Processing] Processing chunk: {
  fileId: 277,
  chunkIndex: 2,
  progress: '3/17',
  timestamp: '2025-03-18T00:04:19.718Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 2,
  contentLength: 4000,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:19.718Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34),
  chunkIndex: 2,
  timestamp: '2025-03-18T00:04:19.719Z'
}
12:04:19 AM [info] GET /api/documents/277/progress 200 in 59ms :: {"status":"processing","progress":{"chunksProcessed":0,"totalChunks":1},"answ...
[Document Processing] Processing chunk: {
  fileId: 276,
  chunkIndex: 1,
  progress: '2/16',
  timestamp: '2025-03-18T00:04:19.751Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 1,
  contentLength: 4000,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:19.752Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34),
  chunkIndex: 1,
  timestamp: '2025-03-18T00:04:19.752Z'
}
[Auth] Deserializing user: 150
[Document Processing] Processing chunk: {
  fileId: 277,
  chunkIndex: 3,
  progress: '4/17',
  timestamp: '2025-03-18T00:04:19.819Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 3,
  contentLength: 3918,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:19.819Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34),
  chunkIndex: 3,
  timestamp: '2025-03-18T00:04:19.819Z'
}
[Document Processing] Processing chunk: {
  fileId: 276,
  chunkIndex: 2,
  progress: '3/16',
  timestamp: '2025-03-18T00:04:19.852Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 2,
  contentLength: 4020,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:19.852Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34),
  chunkIndex: 2,
  timestamp: '2025-03-18T00:04:19.852Z'
}
12:04:19 AM [info] GET /api/documents/276/progress 200 in 65ms :: {"status":"processing","progress":{"chunksProcessed":0,"totalChunks":1},"answ...
[Document Processing] Processing chunk: {
  fileId: 277,
  chunkIndex: 4,
  progress: '5/17',
  timestamp: '2025-03-18T00:04:19.920Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 4,
  contentLength: 3969,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:19.921Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34),
  chunkIndex: 4,
  timestamp: '2025-03-18T00:04:19.921Z'
}
[Document Processing] Processing chunk: {
  fileId: 276,
  chunkIndex: 3,
  progress: '4/16',
  timestamp: '2025-03-18T00:04:19.953Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 3,
  contentLength: 4000,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:19.953Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34),
  chunkIndex: 3,
  timestamp: '2025-03-18T00:04:19.953Z'
}
[Document Processing] Processing chunk: {
  fileId: 277,
  chunkIndex: 5,
  progress: '6/17',
  timestamp: '2025-03-18T00:04:20.021Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 5,
  contentLength: 3901,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:20.021Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34),
  chunkIndex: 5,
  timestamp: '2025-03-18T00:04:20.021Z'
}
[Document Processing] Processing chunk: {
  fileId: 276,
  chunkIndex: 4,
  progress: '5/16',
  timestamp: '2025-03-18T00:04:20.053Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 4,
  contentLength: 3952,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:20.053Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34),
  chunkIndex: 4,
  timestamp: '2025-03-18T00:04:20.054Z'
}
[Document Processing] Processing chunk: {
  fileId: 277,
  chunkIndex: 6,
  progress: '7/17',
  timestamp: '2025-03-18T00:04:20.121Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 6,
  contentLength: 3966,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:20.121Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34),
  chunkIndex: 6,
  timestamp: '2025-03-18T00:04:20.121Z'
}
[Document Processing] Processing chunk: {
  fileId: 276,
  chunkIndex: 5,
  progress: '6/16',
  timestamp: '2025-03-18T00:04:20.154Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 5,
  contentLength: 4077,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:20.154Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34),
  chunkIndex: 5,
  timestamp: '2025-03-18T00:04:20.154Z'
}
[Document Processing] Processing chunk: {
  fileId: 277,
  chunkIndex: 7,
  progress: '8/17',
  timestamp: '2025-03-18T00:04:20.223Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 7,
  contentLength: 4033,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:20.223Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34),
  chunkIndex: 7,
  timestamp: '2025-03-18T00:04:20.223Z'
}
[Document Processing] Processing chunk: {
  fileId: 276,
  chunkIndex: 6,
  progress: '7/16',
  timestamp: '2025-03-18T00:04:20.254Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 6,
  contentLength: 4000,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:20.254Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34),
  chunkIndex: 6,
  timestamp: '2025-03-18T00:04:20.254Z'
}
[Document Processing] Processing chunk: {
  fileId: 277,
  chunkIndex: 8,
  progress: '9/17',
  timestamp: '2025-03-18T00:04:20.324Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 8,
  contentLength: 3918,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:20.324Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34),
  chunkIndex: 8,
  timestamp: '2025-03-18T00:04:20.324Z'
}
[Document Processing] Processing chunk: {
  fileId: 276,
  chunkIndex: 7,
  progress: '8/16',
  timestamp: '2025-03-18T00:04:20.354Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 7,
  contentLength: 4014,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:20.354Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34),
  chunkIndex: 7,
  timestamp: '2025-03-18T00:04:20.354Z'
}
[Document Processing] Processing chunk: {
  fileId: 277,
  chunkIndex: 9,
  progress: '10/17',
  timestamp: '2025-03-18T00:04:20.425Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 9,
  contentLength: 4029,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:20.425Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34),
  chunkIndex: 9,
  timestamp: '2025-03-18T00:04:20.425Z'
}
[Document Processing] Processing chunk: {
  fileId: 276,
  chunkIndex: 8,
  progress: '9/16',
  timestamp: '2025-03-18T00:04:20.454Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 8,
  contentLength: 3971,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:20.454Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34),
  chunkIndex: 8,
  timestamp: '2025-03-18T00:04:20.455Z'
}
[Document Processing] Processing chunk: {
  fileId: 277,
  chunkIndex: 10,
  progress: '11/17',
  timestamp: '2025-03-18T00:04:20.525Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 10,
  contentLength: 3943,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:20.525Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34),
  chunkIndex: 10,
  timestamp: '2025-03-18T00:04:20.526Z'
}
[Document Processing] Processing chunk: {
  fileId: 276,
  chunkIndex: 9,
  progress: '10/16',
  timestamp: '2025-03-18T00:04:20.555Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 9,
  contentLength: 3976,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:20.555Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34),
  chunkIndex: 9,
  timestamp: '2025-03-18T00:04:20.556Z'
}
[Document Processing] Processing chunk: {
  fileId: 277,
  chunkIndex: 11,
  progress: '12/17',
  timestamp: '2025-03-18T00:04:20.626Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 11,
  contentLength: 3922,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:20.626Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34),
  chunkIndex: 11,
  timestamp: '2025-03-18T00:04:20.627Z'
}
[Document Processing] Processing chunk: {
  fileId: 276,
  chunkIndex: 10,
  progress: '11/16',
  timestamp: '2025-03-18T00:04:20.656Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 10,
  contentLength: 4026,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:20.657Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34),
  chunkIndex: 10,
  timestamp: '2025-03-18T00:04:20.657Z'
}
[Document Processing] Processing chunk: {
  fileId: 277,
  chunkIndex: 12,
  progress: '13/17',
  timestamp: '2025-03-18T00:04:20.728Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 12,
  contentLength: 3984,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:20.728Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34),
  chunkIndex: 12,
  timestamp: '2025-03-18T00:04:20.728Z'
}
[Document Processing] Processing chunk: {
  fileId: 276,
  chunkIndex: 11,
  progress: '12/16',
  timestamp: '2025-03-18T00:04:20.758Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 11,
  contentLength: 4017,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:20.759Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34),
  chunkIndex: 11,
  timestamp: '2025-03-18T00:04:20.759Z'
}
[Document Processing] Processing chunk: {
  fileId: 277,
  chunkIndex: 13,
  progress: '14/17',
  timestamp: '2025-03-18T00:04:20.829Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 13,
  contentLength: 3915,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:20.829Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34),
  chunkIndex: 13,
  timestamp: '2025-03-18T00:04:20.829Z'
}
[Auth] Deserializing user: 150
[Document Processing] Processing chunk: {
  fileId: 276,
  chunkIndex: 12,
  progress: '13/16',
  timestamp: '2025-03-18T00:04:20.859Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 12,
  contentLength: 4005,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:20.859Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34),
  chunkIndex: 12,
  timestamp: '2025-03-18T00:04:20.859Z'
}
[Document Processing] Processing chunk: {
  fileId: 277,
  chunkIndex: 14,
  progress: '15/17',
  timestamp: '2025-03-18T00:04:20.930Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 14,
  contentLength: 3908,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:20.930Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34),
  chunkIndex: 14,
  timestamp: '2025-03-18T00:04:20.930Z'
}
12:04:20 AM [info] GET /api/documents/277/progress 304 in 62ms :: {"status":"processing","progress":{"chunksProcessed":0,"totalChunks":1},"answ...
[Document Processing] Processing chunk: {
  fileId: 276,
  chunkIndex: 13,
  progress: '14/16',
  timestamp: '2025-03-18T00:04:20.960Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 13,
  contentLength: 4035,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:20.960Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34),
  chunkIndex: 13,
  timestamp: '2025-03-18T00:04:20.960Z'
}
[Auth] Deserializing user: 150
[Document Processing] Processing chunk: {
  fileId: 277,
  chunkIndex: 15,
  progress: '16/17',
  timestamp: '2025-03-18T00:04:21.030Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 15,
  contentLength: 3920,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:21.031Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34),
  chunkIndex: 15,
  timestamp: '2025-03-18T00:04:21.031Z'
}
[Document Processing] Processing chunk: {
  fileId: 276,
  chunkIndex: 14,
  progress: '15/16',
  timestamp: '2025-03-18T00:04:21.060Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 14,
  contentLength: 4032,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:21.060Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34),
  chunkIndex: 14,
  timestamp: '2025-03-18T00:04:21.061Z'
}
12:04:21 AM [info] GET /api/documents/276/progress 304 in 62ms :: {"status":"processing","progress":{"chunksProcessed":0,"totalChunks":1},"answ...
[Document Processing] Processing chunk: {
  fileId: 277,
  chunkIndex: 16,
  progress: '17/17',
  timestamp: '2025-03-18T00:04:21.131Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 16,
  contentLength: 754,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:21.131Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34),
  chunkIndex: 16,
  timestamp: '2025-03-18T00:04:21.131Z'
}
[Document Processing] Processing chunk: {
  fileId: 276,
  chunkIndex: 15,
  progress: '16/16',
  timestamp: '2025-03-18T00:04:21.162Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 15,
  contentLength: 3953,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:21.162Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34),
  chunkIndex: 15,
  timestamp: '2025-03-18T00:04:21.162Z'
}
[Auth] Deserializing user: 150
12:04:22 AM [info] GET /api/documents/277/progress 200 in 60ms :: {"status":"processed","progress":{"chunksProcessed":0,"totalChunks":1},"answe...
[Auth] Deserializing user: 150
12:04:22 AM [info] GET /api/documents/276/progress 200 in 60ms :: {"status":"processed","progress":{"chunksProcessed":0,"totalChunks":1},"answe...
[Auth] Deserializing user: 150
[Auth] Deserializing user: 150
12:04:22 AM [info] GET /api/documents/277/results 200 in 62ms :: {"status":"completed","answers":[],"answersFound":0}
12:04:22 AM [info] GET /api/documents/276/results 304 in 61ms :: {"status":"completed","answers":[],"answersFound":0}
[Auth] Deserializing user: 150
[Auth] Deserializing user: 150
[Document Processing] Creating chunks for file: {
  fileId: 277,
  fileName: 'Anonymized-ISO-27001-Assessment-Report.pdf',
  mimeType: 'application/pdf',
  timestamp: '2025-03-18T00:04:23.044Z'
}
[DocumentChunking] Starting document chunking: {
  filePath: '/home/runner/workspace/uploads/documents/20250318000408.pdf',
  mimeType: 'application/pdf',
  chunkSize: 4000,
  timestamp: '2025-03-18T00:04:23.044Z'
}
[PDF Service] Starting text extraction from first pages: {
  filePath: '/home/runner/workspace/uploads/documents/20250318000408.pdf',
  maxPages: 0,
  timestamp: '2025-03-18T00:04:23.044Z'
}
[PDF Service] Reading PDF file
[PDF Service] Extraction successful: {
  totalPages: 50,
  extractedPages: 0,
  timestamp: '2025-03-18T00:04:24.422Z'
}
[PDF Service] Truncating text to stay within token limits: { originalLength: 75775, truncatedLength: 64000 }
[DocumentChunking] Created chunk: {
  chunkIndex: 0,
  chunkSize: 0,
  totalChunks: 1,
  timestamp: '2025-03-18T00:04:24.423Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 1,
  chunkSize: 0,
  totalChunks: 2,
  timestamp: '2025-03-18T00:04:24.423Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 2,
  chunkSize: 0,
  totalChunks: 3,
  timestamp: '2025-03-18T00:04:24.423Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 3,
  chunkSize: 0,
  totalChunks: 4,
  timestamp: '2025-03-18T00:04:24.423Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 4,
  chunkSize: 0,
  totalChunks: 5,
  timestamp: '2025-03-18T00:04:24.423Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 5,
  chunkSize: 0,
  totalChunks: 6,
  timestamp: '2025-03-18T00:04:24.423Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 6,
  chunkSize: 0,
  totalChunks: 7,
  timestamp: '2025-03-18T00:04:24.423Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 7,
  chunkSize: 0,
  totalChunks: 8,
  timestamp: '2025-03-18T00:04:24.423Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 8,
  chunkSize: 0,
  totalChunks: 9,
  timestamp: '2025-03-18T00:04:24.423Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 9,
  chunkSize: 0,
  totalChunks: 10,
  timestamp: '2025-03-18T00:04:24.423Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 10,
  chunkSize: 0,
  totalChunks: 11,
  timestamp: '2025-03-18T00:04:24.423Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 11,
  chunkSize: 0,
  totalChunks: 12,
  timestamp: '2025-03-18T00:04:24.423Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 12,
  chunkSize: 0,
  totalChunks: 13,
  timestamp: '2025-03-18T00:04:24.423Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 13,
  chunkSize: 0,
  totalChunks: 14,
  timestamp: '2025-03-18T00:04:24.423Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 14,
  chunkSize: 0,
  totalChunks: 15,
  timestamp: '2025-03-18T00:04:24.423Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 15,
  chunkSize: 0,
  totalChunks: 16,
  timestamp: '2025-03-18T00:04:24.423Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 16,
  chunkSize: 0,
  totalChunks: 17,
  timestamp: '2025-03-18T00:04:24.424Z'
}
[DocumentChunking] Chunks created: {
  totalChunks: 17,
  averageChunkSize: 3764.705882352941,
  timestamp: '2025-03-18T00:04:24.424Z'
}
[Document Processing] Creating chunks for file: {
  fileId: 276,
  fileName: 'soc2-type2 (1).pdf',
  mimeType: 'application/pdf',
  timestamp: '2025-03-18T00:04:24.454Z'
}
[DocumentChunking] Starting document chunking: {
  filePath: '/home/runner/workspace/uploads/documents/20250318000403.pdf',
  mimeType: 'application/pdf',
  chunkSize: 4000,
  timestamp: '2025-03-18T00:04:24.454Z'
}
[PDF Service] Starting text extraction from first pages: {
  filePath: '/home/runner/workspace/uploads/documents/20250318000403.pdf',
  maxPages: 0,
  timestamp: '2025-03-18T00:04:24.454Z'
}
[PDF Service] Reading PDF file
[Document Processing] Processing chunk: {
  fileId: 277,
  chunkIndex: 0,
  progress: '1/17',
  timestamp: '2025-03-18T00:04:24.455Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 0,
  contentLength: 4000,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:24.455Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:384:7)
      at process.processTicksAndRejections (node:internal/process/task_queues:95:5),
  chunkIndex: 0,
  timestamp: '2025-03-18T00:04:24.455Z'
}
[PDF Service] Extraction successful: {
  totalPages: 56,
  extractedPages: 0,
  timestamp: '2025-03-18T00:04:25.164Z'
}
[PDF Service] Truncating text to stay within token limits: { originalLength: 145224, truncatedLength: 64000 }
[DocumentChunking] Created chunk: {
  chunkIndex: 0,
  chunkSize: 0,
  totalChunks: 1,
  timestamp: '2025-03-18T00:04:25.165Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 1,
  chunkSize: 0,
  totalChunks: 2,
  timestamp: '2025-03-18T00:04:25.166Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 2,
  chunkSize: 0,
  totalChunks: 3,
  timestamp: '2025-03-18T00:04:25.166Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 3,
  chunkSize: 0,
  totalChunks: 4,
  timestamp: '2025-03-18T00:04:25.166Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 4,
  chunkSize: 0,
  totalChunks: 5,
  timestamp: '2025-03-18T00:04:25.166Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 5,
  chunkSize: 0,
  totalChunks: 6,
  timestamp: '2025-03-18T00:04:25.166Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 6,
  chunkSize: 0,
  totalChunks: 7,
  timestamp: '2025-03-18T00:04:25.166Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 7,
  chunkSize: 0,
  totalChunks: 8,
  timestamp: '2025-03-18T00:04:25.166Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 8,
  chunkSize: 0,
  totalChunks: 9,
  timestamp: '2025-03-18T00:04:25.166Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 9,
  chunkSize: 0,
  totalChunks: 10,
  timestamp: '2025-03-18T00:04:25.166Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 10,
  chunkSize: 0,
  totalChunks: 11,
  timestamp: '2025-03-18T00:04:25.166Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 11,
  chunkSize: 0,
  totalChunks: 12,
  timestamp: '2025-03-18T00:04:25.166Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 12,
  chunkSize: 0,
  totalChunks: 13,
  timestamp: '2025-03-18T00:04:25.166Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 13,
  chunkSize: 0,
  totalChunks: 14,
  timestamp: '2025-03-18T00:04:25.166Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 14,
  chunkSize: 0,
  totalChunks: 15,
  timestamp: '2025-03-18T00:04:25.166Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 15,
  chunkSize: 0,
  totalChunks: 16,
  timestamp: '2025-03-18T00:04:25.166Z'
}
[DocumentChunking] Chunks created: {
  totalChunks: 16,
  averageChunkSize: 4000,
  timestamp: '2025-03-18T00:04:25.166Z'
}
[Document Processing] Processing chunk: {
  fileId: 277,
  chunkIndex: 1,
  progress: '2/17',
  timestamp: '2025-03-18T00:04:25.169Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 1,
  contentLength: 3920,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:25.169Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34)
      at runNextTicks (node:internal/process/task_queues:60:5)
      at process.processTimers (node:internal/timers:516:9),
  chunkIndex: 1,
  timestamp: '2025-03-18T00:04:25.170Z'
}
12:04:25 AM [info] POST /api/documents/277/process 200 in 2187ms :: {"status":"processing","totalChunks":17}
[Auth] Deserializing user: 150
[Document Processing] Processing chunk: {
  fileId: 276,
  chunkIndex: 0,
  progress: '1/16',
  timestamp: '2025-03-18T00:04:25.204Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 0,
  contentLength: 3922,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:25.204Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:384:7)
      at process.processTicksAndRejections (node:internal/process/task_queues:95:5),
  chunkIndex: 0,
  timestamp: '2025-03-18T00:04:25.204Z'
}
[Auth] Deserializing user: 150
[Current Company] Fetching company for user: { userId: 150, companyId: 113 }
12:04:25 AM [info] POST /api/documents/276/process 200 in 809ms :: {"status":"processing","totalChunks":16}
[Tasks] ====== Starting task fetch =====
[Tasks] User details: { id: 150, company_id: 113, email: 'e.v.a.nc.na.va.r.r.o@gmail.com' }
[Current Company] Found company: { id: 113, name: 'Vector', onboardingCompleted: true }
[Tasks] KYB tasks found: {
  count: 1,
  tasks: [
    {
      id: 195,
      company_id: 113,
      task_scope: 'company',
      task_type: 'company_kyb',
      assigned_to: null,
      status: 'submitted'
    }
  ]
}
[Tasks] Query conditions: {
  conditions: {
    condition1: 'tasks.assigned_to = 150',
    condition2: 'tasks.created_by = 150',
    condition3: "tasks.company_id = 113 AND tasks.assigned_to IS NULL AND tasks.task_scope = 'company'",
    condition4: "tasks.task_type = 'user_onboarding' AND LOWER(tasks.user_email) = LOWER('e.v.a.nc.na.va.r.r.o@gmail.com')"
  }
}
[Document Processing] Processing chunk: {
  fileId: 277,
  chunkIndex: 2,
  progress: '3/17',
  timestamp: '2025-03-18T00:04:25.270Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 2,
  contentLength: 4000,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:25.270Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34)
      at runNextTicks (node:internal/process/task_queues:60:5)
      at process.processTimers (node:internal/timers:516:9),
  chunkIndex: 2,
  timestamp: '2025-03-18T00:04:25.270Z'
}
12:04:25 AM [info] GET /api/companies/current 304 in 60ms :: {"id":113,"name":"Vector","description":"FinTech partner company Vector","cat...
[Tasks] Tasks found: {
  count: 3,
  tasks: [
    {
      id: 197,
      title: 'New User Invitation: e.v.a.nc.na.va.r.r.o@gmail.com',
      assigned_to: 150,
      company_id: 113,
      task_scope: 'user',
      task_type: 'user_onboarding',
      status: 'completed'
    },
    {
      id: 195,
      title: 'Company KYB: Vector',
      assigned_to: null,
      company_id: 113,
      task_scope: 'company',
      task_type: 'company_kyb',
      status: 'submitted'
    },
    {
      id: 196,
      title: 'Company CARD: Vector',
      assigned_to: null,
      company_id: 113,
      task_scope: 'company',
      task_type: 'company_card',
      status: 'in_progress'
    }
  ]
}
[Auth] Deserializing user: 150
[Document Processing] Processing chunk: {
  fileId: 276,
  chunkIndex: 1,
  progress: '2/16',
  timestamp: '2025-03-18T00:04:25.304Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 1,
  contentLength: 4000,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:25.304Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34),
  chunkIndex: 1,
  timestamp: '2025-03-18T00:04:25.304Z'
}
12:04:25 AM [info] GET /api/tasks 304 in 88ms :: [{"id":197,"title":"New User Invitation: e.v.a.nc.na.va.r.r.o@gmail.com","des...
[Auth] Deserializing user: 150
[Document Processing] Processing chunk: {
  fileId: 277,
  chunkIndex: 3,
  progress: '4/17',
  timestamp: '2025-03-18T00:04:25.371Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 3,
  contentLength: 3918,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:25.372Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34),
  chunkIndex: 3,
  timestamp: '2025-03-18T00:04:25.372Z'
}
12:04:25 AM [info] GET /api/documents/277/progress 200 in 60ms :: {"status":"processing","progress":{"chunksProcessed":0,"totalChunks":1},"answ...
[Document Processing] Processing chunk: {
  fileId: 276,
  chunkIndex: 2,
  progress: '3/16',
  timestamp: '2025-03-18T00:04:25.405Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 2,
  contentLength: 4020,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:25.405Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34),
  chunkIndex: 2,
  timestamp: '2025-03-18T00:04:25.405Z'
}
12:04:25 AM [info] GET /api/documents/276/progress 200 in 59ms :: {"status":"processing","progress":{"chunksProcessed":0,"totalChunks":1},"answ...
[Document Processing] Processing chunk: {
  fileId: 277,
  chunkIndex: 4,
  progress: '5/17',
  timestamp: '2025-03-18T00:04:25.472Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 4,
  contentLength: 3969,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:25.472Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34),
  chunkIndex: 4,
  timestamp: '2025-03-18T00:04:25.472Z'
}
[Document Processing] Processing chunk: {
  fileId: 276,
  chunkIndex: 3,
  progress: '4/16',
  timestamp: '2025-03-18T00:04:25.505Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 3,
  contentLength: 4000,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:25.505Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34),
  chunkIndex: 3,
  timestamp: '2025-03-18T00:04:25.505Z'
}
[Document Processing] Processing chunk: {
  fileId: 277,
  chunkIndex: 5,
  progress: '6/17',
  timestamp: '2025-03-18T00:04:25.573Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 5,
  contentLength: 3901,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:25.574Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34),
  chunkIndex: 5,
  timestamp: '2025-03-18T00:04:25.574Z'
}
[Document Processing] Processing chunk: {
  fileId: 276,
  chunkIndex: 4,
  progress: '5/16',
  timestamp: '2025-03-18T00:04:25.605Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 4,
  contentLength: 3952,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:25.605Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34),
  chunkIndex: 4,
  timestamp: '2025-03-18T00:04:25.605Z'
}
[Document Processing] Processing chunk: {
  fileId: 277,
  chunkIndex: 6,
  progress: '7/17',
  timestamp: '2025-03-18T00:04:25.675Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 6,
  contentLength: 3966,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:25.675Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34),
  chunkIndex: 6,
  timestamp: '2025-03-18T00:04:25.675Z'
}
[Document Processing] Processing chunk: {
  fileId: 276,
  chunkIndex: 5,
  progress: '6/16',
  timestamp: '2025-03-18T00:04:25.705Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 5,
  contentLength: 4077,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:25.705Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34),
  chunkIndex: 5,
  timestamp: '2025-03-18T00:04:25.706Z'
}
[Document Processing] Processing chunk: {
  fileId: 277,
  chunkIndex: 7,
  progress: '8/17',
  timestamp: '2025-03-18T00:04:25.775Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 7,
  contentLength: 4033,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:25.775Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34),
  chunkIndex: 7,
  timestamp: '2025-03-18T00:04:25.775Z'
}
[Document Processing] Processing chunk: {
  fileId: 276,
  chunkIndex: 6,
  progress: '7/16',
  timestamp: '2025-03-18T00:04:25.807Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 6,
  contentLength: 4000,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:25.807Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34),
  chunkIndex: 6,
  timestamp: '2025-03-18T00:04:25.807Z'
}
[Document Processing] Processing chunk: {
  fileId: 277,
  chunkIndex: 8,
  progress: '9/17',
  timestamp: '2025-03-18T00:04:25.875Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 8,
  contentLength: 3918,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:25.875Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34),
  chunkIndex: 8,
  timestamp: '2025-03-18T00:04:25.875Z'
}
[Document Processing] Processing chunk: {
  fileId: 276,
  chunkIndex: 7,
  progress: '8/16',
  timestamp: '2025-03-18T00:04:25.908Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 7,
  contentLength: 4014,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:25.908Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34),
  chunkIndex: 7,
  timestamp: '2025-03-18T00:04:25.908Z'
}
[Document Processing] Processing chunk: {
  fileId: 277,
  chunkIndex: 9,
  progress: '10/17',
  timestamp: '2025-03-18T00:04:25.975Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 9,
  contentLength: 4029,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:25.975Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34),
  chunkIndex: 9,
  timestamp: '2025-03-18T00:04:25.976Z'
}
[Document Processing] Processing chunk: {
  fileId: 276,
  chunkIndex: 8,
  progress: '9/16',
  timestamp: '2025-03-18T00:04:26.008Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 8,
  contentLength: 3971,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:26.008Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34),
  chunkIndex: 8,
  timestamp: '2025-03-18T00:04:26.008Z'
}
[Document Processing] Processing chunk: {
  fileId: 277,
  chunkIndex: 10,
  progress: '11/17',
  timestamp: '2025-03-18T00:04:26.077Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 10,
  contentLength: 3943,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:26.077Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34),
  chunkIndex: 10,
  timestamp: '2025-03-18T00:04:26.077Z'
}
[Document Processing] Processing chunk: {
  fileId: 276,
  chunkIndex: 9,
  progress: '10/16',
  timestamp: '2025-03-18T00:04:26.108Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 9,
  contentLength: 3976,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:26.109Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34),
  chunkIndex: 9,
  timestamp: '2025-03-18T00:04:26.110Z'
}
[Document Processing] Processing chunk: {
  fileId: 277,
  chunkIndex: 11,
  progress: '12/17',
  timestamp: '2025-03-18T00:04:26.177Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 11,
  contentLength: 3922,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:26.177Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34),
  chunkIndex: 11,
  timestamp: '2025-03-18T00:04:26.177Z'
}
[Document Processing] Processing chunk: {
  fileId: 276,
  chunkIndex: 10,
  progress: '11/16',
  timestamp: '2025-03-18T00:04:26.210Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 10,
  contentLength: 4026,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:26.210Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34),
  chunkIndex: 10,
  timestamp: '2025-03-18T00:04:26.210Z'
}
[Document Processing] Processing chunk: {
  fileId: 277,
  chunkIndex: 12,
  progress: '13/17',
  timestamp: '2025-03-18T00:04:26.277Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 12,
  contentLength: 3984,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:26.278Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34),
  chunkIndex: 12,
  timestamp: '2025-03-18T00:04:26.278Z'
}
[Document Processing] Processing chunk: {
  fileId: 276,
  chunkIndex: 11,
  progress: '12/16',
  timestamp: '2025-03-18T00:04:26.310Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 11,
  contentLength: 4017,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:26.310Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34),
  chunkIndex: 11,
  timestamp: '2025-03-18T00:04:26.310Z'
}
[Document Processing] Processing chunk: {
  fileId: 277,
  chunkIndex: 13,
  progress: '14/17',
  timestamp: '2025-03-18T00:04:26.379Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 13,
  contentLength: 3915,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:26.379Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34),
  chunkIndex: 13,
  timestamp: '2025-03-18T00:04:26.379Z'
}
[Document Processing] Processing chunk: {
  fileId: 276,
  chunkIndex: 12,
  progress: '13/16',
  timestamp: '2025-03-18T00:04:26.410Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 12,
  contentLength: 4005,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:26.410Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34),
  chunkIndex: 12,
  timestamp: '2025-03-18T00:04:26.410Z'
}
[Document Processing] Processing chunk: {
  fileId: 277,
  chunkIndex: 14,
  progress: '15/17',
  timestamp: '2025-03-18T00:04:26.479Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 14,
  contentLength: 3908,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:26.480Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34),
  chunkIndex: 14,
  timestamp: '2025-03-18T00:04:26.480Z'
}
[Auth] Deserializing user: 150
[Document Processing] Processing chunk: {
  fileId: 276,
  chunkIndex: 13,
  progress: '14/16',
  timestamp: '2025-03-18T00:04:26.511Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 13,
  contentLength: 4035,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:26.511Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34),
  chunkIndex: 13,
  timestamp: '2025-03-18T00:04:26.511Z'
}
[Auth] Deserializing user: 150
12:04:26 AM [info] GET /api/documents/277/progress 304 in 59ms :: {"status":"processing","progress":{"chunksProcessed":0,"totalChunks":1},"answ...
[Document Processing] Processing chunk: {
  fileId: 277,
  chunkIndex: 15,
  progress: '16/17',
  timestamp: '2025-03-18T00:04:26.580Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 15,
  contentLength: 3920,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:26.581Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34),
  chunkIndex: 15,
  timestamp: '2025-03-18T00:04:26.581Z'
}
[Document Processing] Processing chunk: {
  fileId: 276,
  chunkIndex: 14,
  progress: '15/16',
  timestamp: '2025-03-18T00:04:26.612Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 14,
  contentLength: 4032,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:26.612Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34),
  chunkIndex: 14,
  timestamp: '2025-03-18T00:04:26.612Z'
}
12:04:26 AM [info] GET /api/documents/276/progress 304 in 67ms :: {"status":"processing","progress":{"chunksProcessed":0,"totalChunks":1},"answ...
[Document Processing] Processing chunk: {
  fileId: 277,
  chunkIndex: 16,
  progress: '17/17',
  timestamp: '2025-03-18T00:04:26.681Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 16,
  contentLength: 754,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:26.681Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34),
  chunkIndex: 16,
  timestamp: '2025-03-18T00:04:26.681Z'
}
[Document Processing] Processing chunk: {
  fileId: 276,
  chunkIndex: 15,
  progress: '16/16',
  timestamp: '2025-03-18T00:04:26.713Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 15,
  contentLength: 3953,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:26.713Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34),
  chunkIndex: 15,
  timestamp: '2025-03-18T00:04:26.713Z'
}
[Auth] Deserializing user: 150
[Auth] Deserializing user: 150
12:04:27 AM [info] GET /api/documents/277/progress 200 in 72ms :: {"status":"processed","progress":{"chunksProcessed":0,"totalChunks":1},"answe...
12:04:27 AM [info] GET /api/documents/276/progress 200 in 61ms :: {"status":"processed","progress":{"chunksProcessed":0,"totalChunks":1},"answe...
[Auth] Deserializing user: 150
[Auth] Deserializing user: 150
12:04:27 AM [info] GET /api/documents/277/results 304 in 61ms :: {"status":"completed","answers":[],"answersFound":0}
12:04:28 AM [info] GET /api/documents/276/results 304 in 67ms :: {"status":"completed","answers":[],"answersFound":0}
[Auth] Deserializing user: 150
[Auth] Deserializing user: 150
[Document Processing] Creating chunks for file: {
  fileId: 277,
  fileName: 'Anonymized-ISO-27001-Assessment-Report.pdf',
  mimeType: 'application/pdf',
  timestamp: '2025-03-18T00:04:28.626Z'
}
[DocumentChunking] Starting document chunking: {
  filePath: '/home/runner/workspace/uploads/documents/20250318000408.pdf',
  mimeType: 'application/pdf',
  chunkSize: 4000,
  timestamp: '2025-03-18T00:04:28.626Z'
}
[PDF Service] Starting text extraction from first pages: {
  filePath: '/home/runner/workspace/uploads/documents/20250318000408.pdf',
  maxPages: 0,
  timestamp: '2025-03-18T00:04:28.626Z'
}
[PDF Service] Reading PDF file
[PDF Service] Extraction successful: {
  totalPages: 50,
  extractedPages: 0,
  timestamp: '2025-03-18T00:04:29.953Z'
}
[PDF Service] Truncating text to stay within token limits: { originalLength: 75775, truncatedLength: 64000 }
[DocumentChunking] Created chunk: {
  chunkIndex: 0,
  chunkSize: 0,
  totalChunks: 1,
  timestamp: '2025-03-18T00:04:29.954Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 1,
  chunkSize: 0,
  totalChunks: 2,
  timestamp: '2025-03-18T00:04:29.954Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 2,
  chunkSize: 0,
  totalChunks: 3,
  timestamp: '2025-03-18T00:04:29.954Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 3,
  chunkSize: 0,
  totalChunks: 4,
  timestamp: '2025-03-18T00:04:29.955Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 4,
  chunkSize: 0,
  totalChunks: 5,
  timestamp: '2025-03-18T00:04:29.955Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 5,
  chunkSize: 0,
  totalChunks: 6,
  timestamp: '2025-03-18T00:04:29.955Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 6,
  chunkSize: 0,
  totalChunks: 7,
  timestamp: '2025-03-18T00:04:29.955Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 7,
  chunkSize: 0,
  totalChunks: 8,
  timestamp: '2025-03-18T00:04:29.955Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 8,
  chunkSize: 0,
  totalChunks: 9,
  timestamp: '2025-03-18T00:04:29.955Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 9,
  chunkSize: 0,
  totalChunks: 10,
  timestamp: '2025-03-18T00:04:29.955Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 10,
  chunkSize: 0,
  totalChunks: 11,
  timestamp: '2025-03-18T00:04:29.955Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 11,
  chunkSize: 0,
  totalChunks: 12,
  timestamp: '2025-03-18T00:04:29.955Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 12,
  chunkSize: 0,
  totalChunks: 13,
  timestamp: '2025-03-18T00:04:29.955Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 13,
  chunkSize: 0,
  totalChunks: 14,
  timestamp: '2025-03-18T00:04:29.955Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 14,
  chunkSize: 0,
  totalChunks: 15,
  timestamp: '2025-03-18T00:04:29.955Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 15,
  chunkSize: 0,
  totalChunks: 16,
  timestamp: '2025-03-18T00:04:29.955Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 16,
  chunkSize: 0,
  totalChunks: 17,
  timestamp: '2025-03-18T00:04:29.955Z'
}
[DocumentChunking] Chunks created: {
  totalChunks: 17,
  averageChunkSize: 3764.705882352941,
  timestamp: '2025-03-18T00:04:29.955Z'
}
[Document Processing] Processing chunk: {
  fileId: 277,
  chunkIndex: 0,
  progress: '1/17',
  timestamp: '2025-03-18T00:04:30.025Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 0,
  contentLength: 4000,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:30.025Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:384:7)
      at process.processTicksAndRejections (node:internal/process/task_queues:95:5),
  chunkIndex: 0,
  timestamp: '2025-03-18T00:04:30.025Z'
}
[Document Processing] Creating chunks for file: {
  fileId: 276,
  fileName: 'soc2-type2 (1).pdf',
  mimeType: 'application/pdf',
  timestamp: '2025-03-18T00:04:30.026Z'
}
[DocumentChunking] Starting document chunking: {
  filePath: '/home/runner/workspace/uploads/documents/20250318000403.pdf',
  mimeType: 'application/pdf',
  chunkSize: 4000,
  timestamp: '2025-03-18T00:04:30.026Z'
}
[PDF Service] Starting text extraction from first pages: {
  filePath: '/home/runner/workspace/uploads/documents/20250318000403.pdf',
  maxPages: 0,
  timestamp: '2025-03-18T00:04:30.026Z'
}
[PDF Service] Reading PDF file
[PDF Service] Extraction successful: {
  totalPages: 56,
  extractedPages: 0,
  timestamp: '2025-03-18T00:04:31.226Z'
}
[PDF Service] Truncating text to stay within token limits: { originalLength: 145224, truncatedLength: 64000 }
[DocumentChunking] Created chunk: {
  chunkIndex: 0,
  chunkSize: 0,
  totalChunks: 1,
  timestamp: '2025-03-18T00:04:31.228Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 1,
  chunkSize: 0,
  totalChunks: 2,
  timestamp: '2025-03-18T00:04:31.228Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 2,
  chunkSize: 0,
  totalChunks: 3,
  timestamp: '2025-03-18T00:04:31.228Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 3,
  chunkSize: 0,
  totalChunks: 4,
  timestamp: '2025-03-18T00:04:31.228Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 4,
  chunkSize: 0,
  totalChunks: 5,
  timestamp: '2025-03-18T00:04:31.228Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 5,
  chunkSize: 0,
  totalChunks: 6,
  timestamp: '2025-03-18T00:04:31.228Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 6,
  chunkSize: 0,
  totalChunks: 7,
  timestamp: '2025-03-18T00:04:31.228Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 7,
  chunkSize: 0,
  totalChunks: 8,
  timestamp: '2025-03-18T00:04:31.228Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 8,
  chunkSize: 0,
  totalChunks: 9,
  timestamp: '2025-03-18T00:04:31.228Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 9,
  chunkSize: 0,
  totalChunks: 10,
  timestamp: '2025-03-18T00:04:31.228Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 10,
  chunkSize: 0,
  totalChunks: 11,
  timestamp: '2025-03-18T00:04:31.228Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 11,
  chunkSize: 0,
  totalChunks: 12,
  timestamp: '2025-03-18T00:04:31.228Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 12,
  chunkSize: 0,
  totalChunks: 13,
  timestamp: '2025-03-18T00:04:31.228Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 13,
  chunkSize: 0,
  totalChunks: 14,
  timestamp: '2025-03-18T00:04:31.228Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 14,
  chunkSize: 0,
  totalChunks: 15,
  timestamp: '2025-03-18T00:04:31.228Z'
}
[DocumentChunking] Created chunk: {
  chunkIndex: 15,
  chunkSize: 0,
  totalChunks: 16,
  timestamp: '2025-03-18T00:04:31.229Z'
}
[DocumentChunking] Chunks created: {
  totalChunks: 16,
  averageChunkSize: 4000,
  timestamp: '2025-03-18T00:04:31.229Z'
}
[Document Processing] Processing chunk: {
  fileId: 277,
  chunkIndex: 1,
  progress: '2/17',
  timestamp: '2025-03-18T00:04:31.229Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 1,
  contentLength: 3920,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:31.229Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34)
      at runNextTicks (node:internal/process/task_queues:60:5)
      at process.processTimers (node:internal/timers:516:9),
  chunkIndex: 1,
  timestamp: '2025-03-18T00:04:31.229Z'
}
12:04:31 AM [info] POST /api/documents/277/process 200 in 2633ms :: {"status":"processing","totalChunks":17}
[Auth] Deserializing user: 150
[Auth] Deserializing user: 150
[Document Processing] Processing chunk: {
  fileId: 276,
  chunkIndex: 0,
  progress: '1/16',
  timestamp: '2025-03-18T00:04:31.264Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 0,
  contentLength: 3922,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:31.264Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:384:7)
      at process.processTicksAndRejections (node:internal/process/task_queues:95:5),
  chunkIndex: 0,
  timestamp: '2025-03-18T00:04:31.264Z'
}
[Tasks] ====== Starting task fetch =====
[Tasks] User details: { id: 150, company_id: 113, email: 'e.v.a.nc.na.va.r.r.o@gmail.com' }
[Current Company] Fetching company for user: { userId: 150, companyId: 113 }
12:04:31 AM [info] POST /api/documents/276/process 200 in 1311ms :: {"status":"processing","totalChunks":16}
[Current Company] Found company: { id: 113, name: 'Vector', onboardingCompleted: true }
[Tasks] KYB tasks found: {
  count: 1,
  tasks: [
    {
      id: 195,
      company_id: 113,
      task_scope: 'company',
      task_type: 'company_kyb',
      assigned_to: null,
      status: 'submitted'
    }
  ]
}
[Tasks] Query conditions: {
  conditions: {
    condition1: 'tasks.assigned_to = 150',
    condition2: 'tasks.created_by = 150',
    condition3: "tasks.company_id = 113 AND tasks.assigned_to IS NULL AND tasks.task_scope = 'company'",
    condition4: "tasks.task_type = 'user_onboarding' AND LOWER(tasks.user_email) = LOWER('e.v.a.nc.na.va.r.r.o@gmail.com')"
  }
}
[Document Processing] Processing chunk: {
  fileId: 277,
  chunkIndex: 2,
  progress: '3/17',
  timestamp: '2025-03-18T00:04:31.329Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 2,
  contentLength: 4000,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:31.329Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34),
  chunkIndex: 2,
  timestamp: '2025-03-18T00:04:31.329Z'
}
[Auth] Deserializing user: 150
[Tasks] Tasks found: {
  count: 3,
  tasks: [
    {
      id: 197,
      title: 'New User Invitation: e.v.a.nc.na.va.r.r.o@gmail.com',
      assigned_to: 150,
      company_id: 113,
      task_scope: 'user',
      task_type: 'user_onboarding',
      status: 'completed'
    },
    {
      id: 195,
      title: 'Company KYB: Vector',
      assigned_to: null,
      company_id: 113,
      task_scope: 'company',
      task_type: 'company_kyb',
      status: 'submitted'
    },
    {
      id: 196,
      title: 'Company CARD: Vector',
      assigned_to: null,
      company_id: 113,
      task_scope: 'company',
      task_type: 'company_card',
      status: 'in_progress'
    }
  ]
}
12:04:31 AM [info] GET /api/companies/current 304 in 62ms :: {"id":113,"name":"Vector","description":"FinTech partner company Vector","cat...
[Document Processing] Processing chunk: {
  fileId: 276,
  chunkIndex: 1,
  progress: '2/16',
  timestamp: '2025-03-18T00:04:31.364Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 1,
  contentLength: 4000,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:31.364Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34),
  chunkIndex: 1,
  timestamp: '2025-03-18T00:04:31.364Z'
}
12:04:31 AM [info] GET /api/tasks 304 in 91ms :: [{"id":197,"title":"New User Invitation: e.v.a.nc.na.va.r.r.o@gmail.com","des...
[Auth] Deserializing user: 150
[Document Processing] Processing chunk: {
  fileId: 277,
  chunkIndex: 3,
  progress: '4/17',
  timestamp: '2025-03-18T00:04:31.429Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 3,
  contentLength: 3918,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:31.429Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34),
  chunkIndex: 3,
  timestamp: '2025-03-18T00:04:31.429Z'
}
12:04:31 AM [info] GET /api/documents/277/progress 200 in 65ms :: {"status":"processing","progress":{"chunksProcessed":0,"totalChunks":1},"answ...
[Document Processing] Processing chunk: {
  fileId: 276,
  chunkIndex: 2,
  progress: '3/16',
  timestamp: '2025-03-18T00:04:31.465Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 2,
  contentLength: 4020,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:31.465Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34)
      at runNextTicks (node:internal/process/task_queues:60:5)
      at process.processTimers (node:internal/timers:516:9),
  chunkIndex: 2,
  timestamp: '2025-03-18T00:04:31.465Z'
}
12:04:31 AM [info] GET /api/documents/276/progress 200 in 62ms :: {"status":"processing","progress":{"chunksProcessed":0,"totalChunks":1},"answ...
[Document Processing] Processing chunk: {
  fileId: 277,
  chunkIndex: 4,
  progress: '5/17',
  timestamp: '2025-03-18T00:04:31.530Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 4,
  contentLength: 3969,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:31.530Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34),
  chunkIndex: 4,
  timestamp: '2025-03-18T00:04:31.530Z'
}
[Document Processing] Processing chunk: {
  fileId: 276,
  chunkIndex: 3,
  progress: '4/16',
  timestamp: '2025-03-18T00:04:31.566Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 3,
  contentLength: 4000,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:31.566Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34),
  chunkIndex: 3,
  timestamp: '2025-03-18T00:04:31.566Z'
}
[Document Processing] Processing chunk: {
  fileId: 277,
  chunkIndex: 5,
  progress: '6/17',
  timestamp: '2025-03-18T00:04:31.630Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 5,
  contentLength: 3901,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:31.630Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34),
  chunkIndex: 5,
  timestamp: '2025-03-18T00:04:31.630Z'
}
[Document Processing] Processing chunk: {
  fileId: 276,
  chunkIndex: 4,
  progress: '5/16',
  timestamp: '2025-03-18T00:04:31.667Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 4,
  contentLength: 3952,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:31.667Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34),
  chunkIndex: 4,
  timestamp: '2025-03-18T00:04:31.667Z'
}
[Document Processing] Processing chunk: {
  fileId: 277,
  chunkIndex: 6,
  progress: '7/17',
  timestamp: '2025-03-18T00:04:31.730Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 6,
  contentLength: 3966,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:31.730Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34),
  chunkIndex: 6,
  timestamp: '2025-03-18T00:04:31.730Z'
}
[Document Processing] Processing chunk: {
  fileId: 276,
  chunkIndex: 5,
  progress: '6/16',
  timestamp: '2025-03-18T00:04:31.768Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 5,
  contentLength: 4077,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:31.768Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34),
  chunkIndex: 5,
  timestamp: '2025-03-18T00:04:31.768Z'
}
[Document Processing] Processing chunk: {
  fileId: 277,
  chunkIndex: 7,
  progress: '8/17',
  timestamp: '2025-03-18T00:04:31.830Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 7,
  contentLength: 4033,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:31.830Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34),
  chunkIndex: 7,
  timestamp: '2025-03-18T00:04:31.830Z'
}
[Document Processing] Processing chunk: {
  fileId: 276,
  chunkIndex: 6,
  progress: '7/16',
  timestamp: '2025-03-18T00:04:31.869Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 6,
  contentLength: 4000,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:31.869Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34),
  chunkIndex: 6,
  timestamp: '2025-03-18T00:04:31.869Z'
}
[Document Processing] Processing chunk: {
  fileId: 277,
  chunkIndex: 8,
  progress: '9/17',
  timestamp: '2025-03-18T00:04:31.930Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 8,
  contentLength: 3918,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:31.930Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34),
  chunkIndex: 8,
  timestamp: '2025-03-18T00:04:31.931Z'
}
[Document Processing] Processing chunk: {
  fileId: 276,
  chunkIndex: 7,
  progress: '8/16',
  timestamp: '2025-03-18T00:04:31.969Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 7,
  contentLength: 4014,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:31.969Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34),
  chunkIndex: 7,
  timestamp: '2025-03-18T00:04:31.969Z'
}
[Document Processing] Processing chunk: {
  fileId: 277,
  chunkIndex: 9,
  progress: '10/17',
  timestamp: '2025-03-18T00:04:32.032Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 9,
  contentLength: 4029,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:32.032Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34),
  chunkIndex: 9,
  timestamp: '2025-03-18T00:04:32.032Z'
}
[Document Processing] Processing chunk: {
  fileId: 276,
  chunkIndex: 8,
  progress: '9/16',
  timestamp: '2025-03-18T00:04:32.069Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 8,
  contentLength: 3971,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:32.069Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34),
  chunkIndex: 8,
  timestamp: '2025-03-18T00:04:32.069Z'
}
[Document Processing] Processing chunk: {
  fileId: 277,
  chunkIndex: 10,
  progress: '11/17',
  timestamp: '2025-03-18T00:04:32.133Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 10,
  contentLength: 3943,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:32.133Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34),
  chunkIndex: 10,
  timestamp: '2025-03-18T00:04:32.133Z'
}
[Document Processing] Processing chunk: {
  fileId: 276,
  chunkIndex: 9,
  progress: '10/16',
  timestamp: '2025-03-18T00:04:32.169Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 9,
  contentLength: 3976,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:32.170Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34),
  chunkIndex: 9,
  timestamp: '2025-03-18T00:04:32.170Z'
}
[Document Processing] Processing chunk: {
  fileId: 277,
  chunkIndex: 11,
  progress: '12/17',
  timestamp: '2025-03-18T00:04:32.233Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 11,
  contentLength: 3922,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:32.233Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34),
  chunkIndex: 11,
  timestamp: '2025-03-18T00:04:32.233Z'
}
[Document Processing] Processing chunk: {
  fileId: 276,
  chunkIndex: 10,
  progress: '11/16',
  timestamp: '2025-03-18T00:04:32.270Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 10,
  contentLength: 4026,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:32.271Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34),
  chunkIndex: 10,
  timestamp: '2025-03-18T00:04:32.271Z'
}
[Document Processing] Processing chunk: {
  fileId: 277,
  chunkIndex: 12,
  progress: '13/17',
  timestamp: '2025-03-18T00:04:32.333Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 12,
  contentLength: 3984,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:32.334Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34),
  chunkIndex: 12,
  timestamp: '2025-03-18T00:04:32.334Z'
}
[Document Processing] Processing chunk: {
  fileId: 276,
  chunkIndex: 11,
  progress: '12/16',
  timestamp: '2025-03-18T00:04:32.371Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 11,
  contentLength: 4017,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:32.371Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34),
  chunkIndex: 11,
  timestamp: '2025-03-18T00:04:32.372Z'
}
[Document Processing] Processing chunk: {
  fileId: 277,
  chunkIndex: 13,
  progress: '14/17',
  timestamp: '2025-03-18T00:04:32.434Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 13,
  contentLength: 3915,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:32.434Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34),
  chunkIndex: 13,
  timestamp: '2025-03-18T00:04:32.434Z'
}
[Document Processing] Processing chunk: {
  fileId: 276,
  chunkIndex: 12,
  progress: '13/16',
  timestamp: '2025-03-18T00:04:32.472Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 12,
  contentLength: 4005,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:32.472Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34),
  chunkIndex: 12,
  timestamp: '2025-03-18T00:04:32.472Z'
}
[Document Processing] Processing chunk: {
  fileId: 277,
  chunkIndex: 14,
  progress: '15/17',
  timestamp: '2025-03-18T00:04:32.535Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 14,
  contentLength: 3908,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:32.535Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34),
  chunkIndex: 14,
  timestamp: '2025-03-18T00:04:32.535Z'
}
[Auth] Deserializing user: 150
[Document Processing] Processing chunk: {
  fileId: 276,
  chunkIndex: 13,
  progress: '14/16',
  timestamp: '2025-03-18T00:04:32.572Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 13,
  contentLength: 4035,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:32.572Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34),
  chunkIndex: 13,
  timestamp: '2025-03-18T00:04:32.572Z'
}
[Auth] Deserializing user: 150
12:04:32 AM [info] GET /api/documents/277/progress 304 in 63ms :: {"status":"processing","progress":{"chunksProcessed":0,"totalChunks":1},"answ...
[Document Processing] Processing chunk: {
  fileId: 277,
  chunkIndex: 15,
  progress: '16/17',
  timestamp: '2025-03-18T00:04:32.635Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 15,
  contentLength: 3920,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:32.636Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34),
  chunkIndex: 15,
  timestamp: '2025-03-18T00:04:32.636Z'
}
[Document Processing] Processing chunk: {
  fileId: 276,
  chunkIndex: 14,
  progress: '15/16',
  timestamp: '2025-03-18T00:04:32.673Z'
}
[DocumentChunking] Processing chunk: {
  chunkIndex: 14,
  contentLength: 4032,
  fieldsCount: 90,
  timestamp: '2025-03-18T00:04:32.673Z'
}
[DocumentChunking] Error processing chunk: {
  error: Error: OpenAI processing not implemented yet
      at processChunk (/home/runner/workspace/server/services/documentChunking.ts:116:11)
      at <anonymous> (/home/runner/workspace/server/routes/files.ts:339:34),
  chunkIndex: 14,
  timestamp: '2025-03-18T00:04:32.673Z'
}
12:04:32 AM [info] GET /api/documents/276/pr