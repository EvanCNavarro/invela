> rest-express@1.0.0 dev
> tsx server/index.ts

Database migrations disabled - schema already applied
[EmailService] Initializing email service
[EmailService] Email service initialized successfully
[Auth] Setting up authentication...
[Auth] Authentication setup completed
[2025-04-21T20:15:25.250Z] [INFO] [OpenBankingRoutes] [OpenBankingRoutes] Setting up routes...
[Routes] Routes setup completed
[WebSocket] Server initialized on path: /ws
8:15:25 PM [info] Setting up Vite development server
8:15:25 PM [express] Server running on port 5000
New WebSocket client connected
New WebSocket client connected
[Auth] Unauthenticated user session
New WebSocket client connected
WebSocket client disconnected with code 1001 and reason: 
[2025-04-21T20:15:33.329Z] New client connected to the pool (1/3)
[Auth] Deserializing user: 273
[Current Company] Fetching company for user: { userId: 273, companyId: 232 }
[Current Company] Found company: {
  id: 232,
  name: 'DevTest26',
  onboardingCompleted: false,
  riskScore: null,
  isDemo: true
}
8:15:33 PM [info] GET /api/companies/current 200 in 63ms :: {"id":232,"name":"DevTest26","description":"FinTech partner company DevTest26...
8:15:43 PM [info] GET /api/companies/current 304 in 30ms :: {"id":232,"name":"DevTest26","description":"FinTech partner company DevTest26...
8:15:45 PM [vite] hmr update /src/components/forms/UniversalForm.tsx, /src/index.css?v=02t_IK13anmDOr9PQzI68
8:15:53 PM [info] GET /api/companies/current 304 in 30ms :: {"id":232,"name":"DevTest26","description":"FinTech partner company DevTest26...
[WebSocket] Received ping
8:16:08 PM [vite] hmr update /src/components/forms/UniversalForm.tsx, /src/index.css?v=02t_IK13anmDOr9PQzI68 (x2)
8:16:25 PM [vite] hmr update /src/pages/task-page.tsx, /src/index.css?v=02t_IK13anmDOr9PQzI68
[WebSocket] Received ping
WebSocket client disconnected with code 1001 and reason: 
WebSocket client disconnected with code 1001 and reason: 
[Auth] Unauthenticated user session
New WebSocket client connected
[2025-04-21T20:16:46.079Z] New client connected to the pool (2/3)
WebSocket client disconnected with code 1001 and reason: 
[Auth] Using cached user data: 273
[Auth] Using cached user data: 273
[Auth] Using cached user data: 273
[Auth] Using cached user data: 273
[Auth] Using cached user data: 273
[Auth] Using cached user data: 273
[Auth] Using cached user data: 273
[Auth] Using cached user data: 273
[Auth] Using cached user data: 273
[Auth] Using cached user data: 273
[Auth] Using cached user data: 273
[Auth] Returning user session data
[Tasks] ====== Starting task fetch =====
[Tasks] User details: { id: 273, company_id: 232, email: '26@e.com' }
[2025-04-21T20:17:05.358Z] [INFO] [KYBRoutes] Performing dynamic task unlocking check for company {"companyId":232,"userId":273}
[Current Company] Fetching company for user: { userId: 273, companyId: 232 }
[Current Company] Found company: {
  id: 232,
  name: 'DevTest26',
  onboardingCompleted: false,
  riskScore: null,
  isDemo: true
}
[2025-04-21T20:17:05.414Z] [INFO] [KYBRoutes] Found completed KYB tasks, checking security tasks to unlock {"companyId":232,"kybTaskCount":1}
[2025-04-21T20:17:05.427Z] New client connected to the pool (3/3)
8:17:05 PM [info] GET /api/companies/current 304 in 73ms :: {"id":232,"name":"DevTest26","description":"FinTech partner company DevTest26...
[2025-04-21T20:17:05.443Z] [INFO] [KYBRoutes] All security tasks are already unlocked {"companyId":232}
[Tasks Routes] Fetching task by ID (special .json endpoint): {
  taskId: 602,
  userCompanyId: 232,
  timestamp: '2025-04-21T20:17:05.471Z'
}
[Tasks] KYB tasks found: { count: 1 }
[Tasks] Query conditions: {
  conditions: {
    condition1: 'tasks.assigned_to = 273',
    condition2: 'tasks.created_by = 273',
    condition3: "tasks.company_id = 232 AND tasks.assigned_to IS NULL AND tasks.task_scope = 'company'",
    condition4: "tasks.task_type = 'user_onboarding' AND LOWER(tasks.user_email) = LOWER('26@e.com')"
  }
}
New WebSocket client connected
[Tasks Routes] Task found by ID (special .json endpoint): {
  taskId: 602,
  title: '3. Open Banking Survey: DevTest26',
  type: 'open_banking',
  formDataFields: 0,
  timestamp: '2025-04-21T20:17:05.508Z'
}
[Tasks] Tasks found: { count: 4 }
8:17:05 PM [info] GET /api/tasks.json/602 200 in 74ms :: {"id":602,"title":"3. Open Banking Survey: DevTest26","description":"Complete...
8:17:05 PM [info] GET /api/tasks 304 in 193ms :: [{"id":599,"title":"New User Invitation: 26@e.com","description":"Complete us...
[Tasks] Using cached task data for user: 273
8:17:05 PM [info] GET /api/tasks 304 in 34ms :: [{"id":599,"title":"New User Invitation: 26@e.com","description":"Complete us...
New WebSocket client connected
8:17:26 PM [info] GET /api/companies/current 304 in 31ms :: {"id":232,"name":"DevTest26","description":"FinTech partner company DevTest26...
[Tasks Routes] Updating task progress: { taskId: 602, timestamp: '2025-04-21T20:17:31.661Z' }
[Task Templates API] Fetching template for task type: open_banking_survey, user: 273
[Task Reconciliation] Fetching Open Banking responses for task 602
8:17:31 PM [info] GET /api/companies/current 304 in 32ms :: {"id":232,"name":"DevTest26","description":"FinTech partner company DevTest26...
[Task Templates API] No active template found for task type: open_banking_survey
8:17:31 PM [warn] GET /api/task-templates/by-type/open_banking_survey 404 in 68ms :: {"error":"No active template found for task type: open_banking_survey"}
[Task Reconciliation] Recalculated Open Banking progress: {
  taskId: 602,
  totalFields: '44',
  completedFields: '44',
  currentProgress: 100,
  calculatedProgress: 100
}
[Tasks Routes] Task progress reconciled: {
  taskId: 602,
  progress: 100,
  status: 'ready_for_submission',
  timestamp: '2025-04-21T20:17:31.808Z'
}
8:17:31 PM [info] POST /api/tasks/602/update-progress 200 in 178ms :: {"success":true,"progress":100,"status":"ready_for_submission","taskId":602}
[Tasks Routes] Fetching task by ID: {
  taskId: 602,
  userCompanyId: 232,
  timestamp: '2025-04-21T20:17:31.886Z'
}
[Tasks Routes] Task found by ID: {
  taskId: 602,
  title: '3. Open Banking Survey: DevTest26',
  type: 'open_banking',
  formDataFields: 0,
  timestamp: '2025-04-21T20:17:31.916Z'
}
8:17:31 PM [info] GET /api/tasks/602 304 in 65ms :: {"id":602,"title":"3. Open Banking Survey: DevTest26","description":"Complete...
[Tasks Routes] Updating task progress: { taskId: 602, timestamp: '2025-04-21T20:17:32.109Z' }
[Task Reconciliation] Fetching Open Banking responses for task 602
[2025-04-21T20:17:32.166Z] [INFO] [OpenBankingRoutes] [OpenBankingRoutes] Fetching all fields
8:17:32 PM [info] GET /api/open-banking/fields 304 in 90ms :: [{"id":1,"order":1,"field_key":"dataSchemaAlignment","display_name":"Data Sch...
[Task Reconciliation] Recalculated Open Banking progress: {
  taskId: 602,
  totalFields: '44',
  completedFields: '44',
  currentProgress: 100,
  calculatedProgress: 100
}
[Tasks Routes] Task progress reconciled: {
  taskId: 602,
  progress: 100,
  status: 'ready_for_submission',
  timestamp: '2025-04-21T20:17:32.347Z'
}
8:17:32 PM [info] POST /api/tasks/602/update-progress 200 in 269ms :: {"success":true,"progress":100,"status":"ready_for_submission","taskId":602}
[Tasks Routes] Fetching task by ID: {
  taskId: 602,
  userCompanyId: 232,
  timestamp: '2025-04-21T20:17:32.413Z'
}
[Tasks Routes] Updating task progress: { taskId: 602, timestamp: '2025-04-21T20:17:32.414Z' }
[Tasks Routes] Task found by ID: {
  taskId: 602,
  title: '3. Open Banking Survey: DevTest26',
  type: 'open_banking',
  formDataFields: 0,
  timestamp: '2025-04-21T20:17:32.443Z'
}
[Task Reconciliation] Fetching Open Banking responses for task 602
8:17:32 PM [info] GET /api/tasks/602 304 in 60ms :: {"id":602,"title":"3. Open Banking Survey: DevTest26","description":"Complete...
[Task Reconciliation] Recalculated Open Banking progress: {
  taskId: 602,
  totalFields: '44',
  completedFields: '44',
  currentProgress: 100,
  calculatedProgress: 100
}
[Tasks Routes] Task progress reconciled: {
  taskId: 602,
  progress: 100,
  status: 'ready_for_submission',
  timestamp: '2025-04-21T20:17:32.533Z'
}
8:17:32 PM [info] POST /api/tasks/602/update-progress 200 in 149ms :: {"success":true,"progress":100,"status":"ready_for_submission","taskId":602}
[Auth] Using cached user data: 273
[Tasks Routes] Fetching task by ID: {
  taskId: 602,
  userCompanyId: 232,
  timestamp: '2025-04-21T20:17:32.624Z'
}
[2025-04-21T20:17:32.630Z] [INFO] [OpenBankingRoutes] [OpenBankingRoutes] Fetching progress for task {"taskId":602}
[Tasks Routes] Task found by ID: {
  taskId: 602,
  title: '3. Open Banking Survey: DevTest26',
  type: 'open_banking',
  formDataFields: 0,
  timestamp: '2025-04-21T20:17:32.653Z'
}
8:17:32 PM [info] GET /api/tasks/602 304 in 59ms :: {"id":602,"title":"3. Open Banking Survey: DevTest26","description":"Complete...
8:17:32 PM [info] GET /api/open-banking/progress/602 200 in 169ms :: {"formData":{"dataSchemaAlignment":"Our API data structures fully align with ...
[2025-04-21T20:17:32.831Z] [INFO] [OpenBankingRoutes] [OpenBankingRoutes] Fetching progress for task {"taskId":602}
[Tasks Routes] Fetching task by ID: {
  taskId: 602,
  userCompanyId: 232,
  timestamp: '2025-04-21T20:17:32.834Z'
}
[Tasks Routes] Task found by ID: {
  taskId: 602,
  title: '3. Open Banking Survey: DevTest26',
  type: 'open_banking',
  formDataFields: 0,
  timestamp: '2025-04-21T20:17:32.867Z'
}
8:17:32 PM [info] GET /api/tasks/602 304 in 64ms :: {"id":602,"title":"3. Open Banking Survey: DevTest26","description":"Complete...
8:17:32 PM [info] GET /api/open-banking/progress/602 200 in 119ms :: {"formData":{"dataSchemaAlignment":"Our API data structures fully align with ...
[Tasks Routes] Updating task progress: { taskId: 602, timestamp: '2025-04-21T20:17:33.063Z' }
[Task Reconciliation] Fetching Open Banking responses for task 602
[Task Reconciliation] Recalculated Open Banking progress: {
  taskId: 602,
  totalFields: '44',
  completedFields: '44',
  currentProgress: 100,
  calculatedProgress: 100
}
[Tasks Routes] Task progress reconciled: {
  taskId: 602,
  progress: 100,
  status: 'ready_for_submission',
  timestamp: '2025-04-21T20:17:33.178Z'
}
8:17:33 PM [info] POST /api/tasks/602/update-progress 200 in 145ms :: {"success":true,"progress":100,"status":"ready_for_submission","taskId":602}
[WebSocket] Received ping
8:17:36 PM [info] GET /api/companies/current 304 in 29ms :: {"id":232,"name":"DevTest26","description":"FinTech partner company DevTest26...
[2025-04-21T20:17:38.589Z] [INFO] [OpenBankingProgressRoutes] [Open Banking API] Saving progress for task 602 {"formDataKeys":44,"fieldUpdatesCount":44,"progress":100,"status":"ready_for_submission"}
[2025-04-21T20:17:41.275Z] [INFO] [OpenBankingProgressRoutes] [Open Banking API] Progress calculation: {"totalFields":"44","completedFieldsCount":"44","ratio":1}
[2025-04-21T20:17:41.275Z] [INFO] [OpenBankingProgressRoutes] [Open Banking API] Status determination: {"providedStatus":"ready_for_submission","calculatedStatus":"ready_for_submission","progress":100}
[OpenBanking TimestampHandler] Saved 44 timestamps for task 602
[Progress Utils] Broadcasting task progress update: {
  taskId: 602,
  progress: 100,
  requestedStatus: 'ready_for_submission',
  finalStatus: 'ready_for_submission',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  timestamp: '2025-04-21T20:17:42.622Z'
}
[WebSocket] Broadcast "task_updated" sent to 2 clients
[2025-04-21T20:17:42.623Z] [INFO] [OpenBankingProgressRoutes] [Open Banking API] Progress saved for task 602 {"progress":100,"status":"ready_for_submission","fieldsUpdated":44}
8:17:42 PM [info] POST /api/open-banking/progress 200 in 4065ms :: {"success":true,"savedData":{"progress":100,"status":"ready_for_submission","...
WebSocket client disconnected with code 1005 and reason: 
New WebSocket client connected
[2025-04-21T20:17:47.822Z] [INFO] [SubmissionRoutes] Checking submission status for task 602
[2025-04-21T20:17:47.850Z] [INFO] [SubmissionRoutes] Task 602 submission status: {"isSubmitted":false,"taskStatus":"ready_for_submission","progress":100}
8:17:47 PM [info] GET /api/submissions/check/602 200 in 59ms :: {"success":true,"status":{"isSubmitted":false,"taskStatus":"ready_for_submiss...
[2025-04-21T20:17:49.322Z] [INFO] [SubmissionRoutes] Checking submission status for task 602
[2025-04-21T20:17:49.350Z] [INFO] [SubmissionRoutes] Task 602 submission status: {"isSubmitted":false,"taskStatus":"ready_for_submission","progress":100}
8:17:49 PM [info] GET /api/submissions/check/602 304 in 59ms :: {"success":true,"status":{"isSubmitted":false,"taskStatus":"ready_for_submiss...
[2025-04-21T20:17:50.825Z] [INFO] [SubmissionRoutes] Checking submission status for task 602
[2025-04-21T20:17:50.854Z] [INFO] [SubmissionRoutes] Task 602 submission status: {"isSubmitted":false,"taskStatus":"ready_for_submission","progress":100}
8:17:50 PM [info] GET /api/submissions/check/602 304 in 74ms :: {"success":true,"status":{"isSubmitted":false,"taskStatus":"ready_for_submiss...
[2025-04-21T20:17:52.321Z] [INFO] [SubmissionRoutes] Checking submission status for task 602
[2025-04-21T20:17:52.352Z] [INFO] [SubmissionRoutes] Task 602 submission status: {"isSubmitted":false,"taskStatus":"ready_for_submission","progress":100}
8:17:52 PM [info] GET /api/submissions/check/602 304 in 63ms :: {"success":true,"status":{"isSubmitted":false,"taskStatus":"ready_for_submiss...
[2025-04-21T20:17:53.827Z] [INFO] [SubmissionRoutes] Checking submission status for task 602
[2025-04-21T20:17:53.861Z] [INFO] [SubmissionRoutes] Task 602 submission status: {"isSubmitted":false,"taskStatus":"ready_for_submission","progress":100}
8:17:53 PM [info] GET /api/submissions/check/602 304 in 64ms :: {"success":true,"status":{"isSubmitted":false,"taskStatus":"ready_for_submiss...
[2025-04-21T20:17:55.316Z] [INFO] [SubmissionRoutes] Checking submission status for task 602
[2025-04-21T20:17:55.346Z] [INFO] [SubmissionRoutes] Task 602 submission status: {"isSubmitted":false,"taskStatus":"ready_for_submission","progress":100}
8:17:55 PM [info] GET /api/submissions/check/602 304 in 60ms :: {"success":true,"status":{"isSubmitted":false,"taskStatus":"ready_for_submiss...
[Auth] Using cached user data: 273
[API] Force unlock file vault request received: {
  userId: 273,
  companyId: '232',
  timestamp: '2025-04-21T20:17:55.709Z'
}
[API] Calling CompanyTabsService.unlockFileVault for company 232
[CompanyTabsService] ⚡ CRITICAL TIMING: File vault unlock operation started for company 232 at 2025-04-21T20:17:55.710Z
[CompanyTabsService] Current company state before unlock: {
  companyId: 232,
  name: 'DevTest26',
  available_tabs: [ 'task-center', 'file-vault' ],
  timestamp: '2025-04-21T20:17:55.739Z'
}
[CompanyTabsService] File vault tab already enabled for company 232
[API] Successfully unlocked file vault for company 232
8:17:55 PM [info] POST /api/companies/232/unlock-file-vault 200 in 60ms :: {"message":"File vault unlocked successfully","companyId":232,"availableTabs"...
8:17:55 PM [info] GET /api/companies/current 304 in 29ms :: {"id":232,"name":"DevTest26","description":"FinTech partner company DevTest26...
[Tasks Routes] Fetching task by ID: {
  taskId: 602,
  userCompanyId: 232,
  timestamp: '2025-04-21T20:17:56.098Z'
}
[Tasks Routes] Task found by ID: {
  taskId: 602,
  title: '3. Open Banking Survey: DevTest26',
  type: 'open_banking',
  formDataFields: 0,
  timestamp: '2025-04-21T20:17:56.127Z'
}
8:17:56 PM [info] GET /api/tasks/602 200 in 59ms :: {"id":602,"title":"3. Open Banking Survey: DevTest26","description":"Complete...
[WebSocket] Received ping
8:18:44 PM [vite] hmr update /src/components/forms/UniversalForm.tsx, /src/index.css?v=02t_IK13anmDOr9PQzI68
[WebSocket] Received ping
[WebSocket] Received ping
[WebSocket] Received ping
8:19:51 PM [vite] hmr update /src/pages/task-page.tsx, /src/index.css?v=02t_IK13anmDOr9PQzI68
8:20:08 PM [vite] hmr update /src/components/forms/UniversalForm.tsx, /src/index.css?v=02t_IK13anmDOr9PQzI68
[WebSocket] Received ping
[WebSocket] Received ping
[WebSocket] Received ping
[WebSocket] Received ping
[WebSocket] Received ping
[WebSocket] Received ping
[WebSocket] Received ping
[WebSocket] Received ping
[WebSocket] Received ping
[WebSocket] Received ping
[WebSocket] Received ping
[WebSocket] Received ping
[WebSocket] Received ping
8:27:13 PM [vite] hmr update /src/pages/task-page.tsx, /src/index.css?v=02t_IK13anmDOr9PQzI68
[WebSocket] Received ping
8:27:26 PM [vite] hmr update /src/pages/task-page.tsx, /src/index.css?v=02t_IK13anmDOr9PQzI68 (x2)
[WebSocket] Received ping
8:28:21 PM [vite] hmr update /src/components/forms/UniversalForm.tsx, /src/index.css?v=02t_IK13anmDOr9PQzI68
8:28:45 PM [vite] hmr update /src/components/openbanking/OpenBankingSuccessModal.tsx, /src/index.css?v=02t_IK13anmDOr9PQzI68
WebSocket client disconnected with code 1001 and reason: 
WebSocket client disconnected with code 1001 and reason: 
Suppressing further connection logs. Pool size: 3
[Auth] Unauthenticated user session
New WebSocket client connected
[Auth] Deserializing user: 273
WebSocket client disconnected with code 1001 and reason: 
[Auth] Using cached user data: 273
[Auth] Using cached user data: 273
[Auth] Using cached user data: 273
[Auth] Using cached user data: 273
[Auth] Using cached user data: 273
[Auth] Using cached user data: 273
[Auth] Using cached user data: 273
[Auth] Using cached user data: 273
[Auth] Using cached user data: 273
[Auth] Using cached user data: 273
[Auth] Using cached user data: 273
[Auth] Using cached user data: 273
[Auth] Using cached user data: 273
[Auth] Returning user session data
[Tasks] ====== Starting task fetch =====
[Tasks] User details: { id: 273, company_id: 232, email: '26@e.com' }
[2025-04-21T20:29:21.146Z] [INFO] [KYBRoutes] Performing dynamic task unlocking check for company {"companyId":232,"userId":273}
[Current Company] Fetching company for user: { userId: 273, companyId: 232 }
[2025-04-21T20:29:21.209Z] [INFO] [KYBRoutes] Found completed KYB tasks, checking security tasks to unlock {"companyId":232,"kybTaskCount":1}
[Current Company] Found company: {
  id: 232,
  name: 'DevTest26',
  onboardingCompleted: false,
  riskScore: null,
  isDemo: true
}
[2025-04-21T20:29:21.238Z] [INFO] [KYBRoutes] All security tasks are already unlocked {"companyId":232}
8:29:21 PM [info] GET /api/companies/current 304 in 86ms :: {"id":232,"name":"DevTest26","description":"FinTech partner company DevTest26...
[Tasks] KYB tasks found: { count: 1 }
[Tasks] Query conditions: {
  conditions: {
    condition1: 'tasks.assigned_to = 273',
    condition2: 'tasks.created_by = 273',
    condition3: "tasks.company_id = 232 AND tasks.assigned_to IS NULL AND tasks.task_scope = 'company'",
    condition4: "tasks.task_type = 'user_onboarding' AND LOWER(tasks.user_email) = LOWER('26@e.com')"
  }
}
New WebSocket client connected
[Tasks] Tasks found: { count: 4 }
[Tasks Routes] Fetching task by ID (special .json endpoint): {
  taskId: 602,
  userCompanyId: 232,
  timestamp: '2025-04-21T20:29:21.310Z'
}
8:29:21 PM [info] GET /api/tasks 200 in 190ms :: [{"id":599,"title":"New User Invitation: 26@e.com","description":"Complete us...
[Tasks Routes] Task found by ID (special .json endpoint): {
  taskId: 602,
  title: '3. Open Banking Survey: DevTest26',
  type: 'open_banking',
  formDataFields: 0,
  timestamp: '2025-04-21T20:29:21.345Z'
}
8:29:21 PM [info] GET /api/tasks.json/602 200 in 66ms :: {"id":602,"title":"3. Open Banking Survey: DevTest26","description":"Complete...
8:29:21 PM [info] GET /api/tasks 304 in 30ms :: [{"id":599,"title":"New User Invitation: 26@e.com","description":"Complete us...
New WebSocket client connected
8:29:36 PM [info] GET /api/companies/current 304 in 31ms :: {"id":232,"name":"DevTest26","description":"FinTech partner company DevTest26...
[Tasks Routes] Updating task progress: { taskId: 602, timestamp: '2025-04-21T20:29:43.082Z' }
[Task Templates API] Fetching template for task type: open_banking_survey, user: 273
[Task Reconciliation] Fetching Open Banking responses for task 602
8:29:43 PM [info] GET /api/companies/current 304 in 31ms :: {"id":232,"name":"DevTest26","description":"FinTech partner company DevTest26...
[Task Templates API] No active template found for task type: open_banking_survey
8:29:43 PM [warn] GET /api/task-templates/by-type/open_banking_survey 404 in 65ms :: {"error":"No active template found for task type: open_banking_survey"}
[Task Reconciliation] Recalculated Open Banking progress: {
  taskId: 602,
  totalFields: '44',
  completedFields: '44',
  currentProgress: 100,
  calculatedProgress: 100
}
[Tasks Routes] Task progress reconciled: {
  taskId: 602,
  progress: 100,
  status: 'ready_for_submission',
  timestamp: '2025-04-21T20:29:43.224Z'
}
8:29:43 PM [info] POST /api/tasks/602/update-progress 200 in 173ms :: {"success":true,"progress":100,"status":"ready_for_submission","taskId":602}
[Tasks Routes] Fetching task by ID: {
  taskId: 602,
  userCompanyId: 232,
  timestamp: '2025-04-21T20:29:43.316Z'
}
[Tasks Routes] Task found by ID: {
  taskId: 602,
  title: '3. Open Banking Survey: DevTest26',
  type: 'open_banking',
  formDataFields: 0,
  timestamp: '2025-04-21T20:29:43.347Z'
}
8:29:43 PM [info] GET /api/tasks/602 304 in 62ms :: {"id":602,"title":"3. Open Banking Survey: DevTest26","description":"Complete...
[2025-04-21T20:29:43.531Z] [INFO] [OpenBankingRoutes] [OpenBankingRoutes] Fetching all fields
[Tasks Routes] Updating task progress: { taskId: 602, timestamp: '2025-04-21T20:29:43.532Z' }
[Task Reconciliation] Fetching Open Banking responses for task 602
8:29:43 PM [info] GET /api/open-banking/fields 304 in 86ms :: [{"id":1,"order":1,"field_key":"dataSchemaAlignment","display_name":"Data Sch...
[Task Reconciliation] Recalculated Open Banking progress: {
  taskId: 602,
  totalFields: '44',
  completedFields: '44',
  currentProgress: 100,
  calculatedProgress: 100
}
[Tasks Routes] Task progress reconciled: {
  taskId: 602,
  progress: 100,
  status: 'ready_for_submission',
  timestamp: '2025-04-21T20:29:43.652Z'
}
8:29:43 PM [info] POST /api/tasks/602/update-progress 200 in 151ms :: {"success":true,"progress":100,"status":"ready_for_submission","taskId":602}
[Tasks Routes] Fetching task by ID: {
  taskId: 602,
  userCompanyId: 232,
  timestamp: '2025-04-21T20:29:43.777Z'
}
[Tasks Routes] Updating task progress: { taskId: 602, timestamp: '2025-04-21T20:29:43.778Z' }
[Tasks Routes] Task found by ID: {
  taskId: 602,
  title: '3. Open Banking Survey: DevTest26',
  type: 'open_banking',
  formDataFields: 0,
  timestamp: '2025-04-21T20:29:43.807Z'
}
[Task Reconciliation] Fetching Open Banking responses for task 602
8:29:43 PM [info] GET /api/tasks/602 304 in 64ms :: {"id":602,"title":"3. Open Banking Survey: DevTest26","description":"Complete...
[Task Reconciliation] Recalculated Open Banking progress: {
  taskId: 602,
  totalFields: '44',
  completedFields: '44',
  currentProgress: 100,
  calculatedProgress: 100
}
[Tasks Routes] Task progress reconciled: {
  taskId: 602,
  progress: 100,
  status: 'ready_for_submission',
  timestamp: '2025-04-21T20:29:43.953Z'
}
8:29:43 PM [info] POST /api/tasks/602/update-progress 200 in 206ms :: {"success":true,"progress":100,"status":"ready_for_submission","taskId":602}
[Tasks Routes] Fetching task by ID: {
  taskId: 602,
  userCompanyId: 232,
  timestamp: '2025-04-21T20:29:43.991Z'
}
[2025-04-21T20:29:43.994Z] [INFO] [OpenBankingRoutes] [OpenBankingRoutes] Fetching progress for task {"taskId":602}
[Tasks Routes] Task found by ID: {
  taskId: 602,
  title: '3. Open Banking Survey: DevTest26',
  type: 'open_banking',
  formDataFields: 0,
  timestamp: '2025-04-21T20:29:44.020Z'
}
8:29:44 PM [info] GET /api/tasks/602 304 in 59ms :: {"id":602,"title":"3. Open Banking Survey: DevTest26","description":"Complete...
8:29:44 PM [info] GET /api/open-banking/progress/602 200 in 148ms :: {"formData":{"dataSchemaAlignment":"Our API data structures fully align with ...
[Tasks Routes] Fetching task by ID: {
  taskId: 602,
  userCompanyId: 232,
  timestamp: '2025-04-21T20:29:44.201Z'
}
[2025-04-21T20:29:44.204Z] [INFO] [OpenBankingRoutes] [OpenBankingRoutes] Fetching progress for task {"taskId":602}
[Tasks Routes] Task found by ID: {
  taskId: 602,
  title: '3. Open Banking Survey: DevTest26',
  type: 'open_banking',
  formDataFields: 0,
  timestamp: '2025-04-21T20:29:44.231Z'
}
8:29:44 PM [info] GET /api/tasks/602 304 in 63ms :: {"id":602,"title":"3. Open Banking Survey: DevTest26","description":"Complete...
8:29:44 PM [info] GET /api/open-banking/progress/602 200 in 118ms :: {"formData":{"dataSchemaAlignment":"Our API data structures fully align with ...
[Tasks Routes] Updating task progress: { taskId: 602, timestamp: '2025-04-21T20:29:44.437Z' }
[Task Reconciliation] Fetching Open Banking responses for task 602
[Task Reconciliation] Recalculated Open Banking progress: {
  taskId: 602,
  totalFields: '44',
  completedFields: '44',
  currentProgress: 100,
  calculatedProgress: 100
}
[Tasks Routes] Task progress reconciled: {
  taskId: 602,
  progress: 100,
  status: 'ready_for_submission',
  timestamp: '2025-04-21T20:29:44.551Z'
}
8:29:44 PM [info] POST /api/tasks/602/update-progress 200 in 144ms :: {"success":true,"progress":100,"status":"ready_for_submission","taskId":602}
8:29:46 PM [info] GET /api/companies/current 304 in 30ms :: {"id":232,"name":"DevTest26","description":"FinTech partner company DevTest26...
[WebSocket] Received ping
[2025-04-21T20:29:53.074Z] [INFO] [OpenBankingProgressRoutes] [Open Banking API] Saving progress for task 602 {"formDataKeys":44,"fieldUpdatesCount":44,"progress":100,"status":"ready_for_submission"}
[2025-04-21T20:29:55.845Z] [INFO] [OpenBankingProgressRoutes] [Open Banking API] Progress calculation: {"totalFields":"44","completedFieldsCount":"44","ratio":1}
[2025-04-21T20:29:55.845Z] [INFO] [OpenBankingProgressRoutes] [Open Banking API] Status determination: {"providedStatus":"ready_for_submission","calculatedStatus":"ready_for_submission","progress":100}
8:29:56 PM [info] GET /api/companies/current 304 in 31ms :: {"id":232,"name":"DevTest26","description":"FinTech partner company DevTest26...
[OpenBanking TimestampHandler] Saved 44 timestamps for task 602
[Progress Utils] Broadcasting task progress update: {
  taskId: 602,
  progress: 100,
  requestedStatus: 'ready_for_submission',
  finalStatus: 'ready_for_submission',
  hasSubmissionDate: false,
  hasSubmittedFlag: false,
  timestamp: '2025-04-21T20:29:57.310Z'
}
[WebSocket] Broadcast "task_updated" sent to 2 clients
[2025-04-21T20:29:57.310Z] [INFO] [OpenBankingProgressRoutes] [Open Banking API] Progress saved for task 602 {"progress":100,"status":"ready_for_submission","fieldsUpdated":44}
8:29:57 PM [info] POST /api/open-banking/progress 200 in 4268ms :: {"success":true,"savedData":{"progress":100,"status":"ready_for_submission","...
[2025-04-21T20:30:02.503Z] [INFO] [SubmissionRoutes] Checking submission status for task 602
[2025-04-21T20:30:02.532Z] [INFO] [SubmissionRoutes] Task 602 submission status: {"isSubmitted":false,"taskStatus":"ready_for_submission","progress":100}
8:30:02 PM [info] GET /api/submissions/check/602 200 in 59ms :: {"success":true,"status":{"isSubmitted":false,"taskStatus":"ready_for_submiss...
[2025-04-21T20:30:04.003Z] [INFO] [SubmissionRoutes] Checking submission status for task 602
[2025-04-21T20:30:04.031Z] [INFO] [SubmissionRoutes] Task 602 submission status: {"isSubmitted":false,"taskStatus":"ready_for_submission","progress":100}
8:30:04 PM [info] GET /api/submissions/check/602 304 in 59ms :: {"success":true,"status":{"isSubmitted":false,"taskStatus":"ready_for_submiss...
[2025-04-21T20:30:05.503Z] [INFO] [SubmissionRoutes] Checking submission status for task 602
[2025-04-21T20:30:05.532Z] [INFO] [SubmissionRoutes] Task 602 submission status: {"isSubmitted":false,"taskStatus":"ready_for_submission","progress":100}
8:30:05 PM [info] GET /api/submissions/check/602 304 in 61ms :: {"success":true,"status":{"isSubmitted":false,"taskStatus":"ready_for_submiss...
[2025-04-21T20:30:07.004Z] [INFO] [SubmissionRoutes] Checking submission status for task 602
8:30:07 PM [info] GET /api/companies/current 304 in 32ms :: {"id":232,"name":"DevTest26","description":"FinTech partner company DevTest26...
[2025-04-21T20:30:07.033Z] [INFO] [SubmissionRoutes] Task 602 submission status: {"isSubmitted":false,"taskStatus":"ready_for_submission","progress":100}
8:30:07 PM [info] GET /api/submissions/check/602 304 in 60ms :: {"success":true,"status":{"isSubmitted":false,"taskStatus":"ready_for_submiss...
[2025-04-21T20:30:08.501Z] [INFO] [SubmissionRoutes] Checking submission status for task 602
[2025-04-21T20:30:08.531Z] [INFO] [SubmissionRoutes] Task 602 submission status: {"isSubmitted":false,"taskStatus":"ready_for_submission","progress":100}
8:30:08 PM [info] GET /api/submissions/check/602 304 in 61ms :: {"success":true,"status":{"isSubmitted":false,"taskStatus":"ready_for_submiss...
[2025-04-21T20:30:10.001Z] [INFO] [SubmissionRoutes] Checking submission status for task 602
[2025-04-21T20:30:10.031Z] [INFO] [SubmissionRoutes] Task 602 submission status: {"isSubmitted":false,"taskStatus":"ready_for_submission","progress":100}
8:30:10 PM [info] GET /api/submissions/check/602 304 in 62ms :: {"success":true,"status":{"isSubmitted":false,"taskStatus":"ready_for_submiss...
[API] Force unlock file vault request received: {
  userId: 273,
  companyId: '232',
  timestamp: '2025-04-21T20:30:10.390Z'
}
[API] Calling CompanyTabsService.unlockFileVault for company 232
[CompanyTabsService] ⚡ CRITICAL TIMING: File vault unlock operation started for company 232 at 2025-04-21T20:30:10.391Z
[CompanyTabsService] Current company state before unlock: {
  companyId: 232,
  name: 'DevTest26',
  available_tabs: [ 'task-center', 'file-vault' ],
  timestamp: '2025-04-21T20:30:10.427Z'
}
[CompanyTabsService] File vault tab already enabled for company 232
[API] Successfully unlocked file vault for company 232
8:30:10 PM [info] POST /api/companies/232/unlock-file-vault 200 in 69ms :: {"message":"File vault unlocked successfully","companyId":232,"availableTabs"...
8:30:10 PM [info] GET /api/companies/current 304 in 33ms :: {"id":232,"name":"DevTest26","description":"FinTech partner company DevTest26...
8:30:10 PM [info] GET /api/companies/current 304 in 33ms :: {"id":232,"name":"DevTest26","description":"FinTech partner company DevTest26...
8:30:11 PM [info] GET /api/companies/current 304 in 33ms :: {"id":232,"name":"DevTest26","description":"FinTech partner company DevTest26...
[Current Company] Using cached company data: 232
8:30:11 PM [info] GET /api/companies/current 304 in 31ms :: {"id":232,"name":"DevTest26","description":"FinTech partner company DevTest26...
[Auth] Using cached user data: 273
[Tasks] ====== Starting task fetch =====
[Tasks] User details: { id: 273, company_id: 232, email: '26@e.com' }
[2025-04-21T20:30:11.346Z] [INFO] [KYBRoutes] Performing dynamic task unlocking check for company {"companyId":232,"userId":273}
[Auth] Using cached user data: 273
[Tasks Routes] Fetching task by ID: {
  taskId: 602,
  userCompanyId: 232,
  timestamp: '2025-04-21T20:30:11.348Z'
}
8:30:11 PM [info] GET /api/companies/current 304 in 31ms :: {"id":232,"name":"DevTest26","description":"FinTech partner company DevTest26...
[2025-04-21T20:30:11.378Z] [INFO] [KYBRoutes] Found completed KYB tasks, checking security tasks to unlock {"companyId":232,"kybTaskCount":1}
[Tasks Routes] Task found by ID: {
  taskId: 602,
  title: '3. Open Banking Survey: DevTest26',
  type: 'open_banking',
  formDataFields: 0,
  timestamp: '2025-04-21T20:30:11.380Z'
}
[2025-04-21T20:30:11.408Z] [INFO] [KYBRoutes] All security tasks are already unlocked {"companyId":232}
8:30:11 PM [info] GET /api/tasks/602 200 in 64ms :: {"id":602,"title":"3. Open Banking Survey: DevTest26","description":"Complete...
[Tasks] KYB tasks found: { count: 1 }
[Tasks] Query conditions: {
  conditions: {
    condition1: 'tasks.assigned_to = 273',
    condition2: 'tasks.created_by = 273',
    condition3: "tasks.company_id = 232 AND tasks.assigned_to IS NULL AND tasks.task_scope = 'company'",
    condition4: "tasks.task_type = 'user_onboarding' AND LOWER(tasks.user_email) = LOWER('26@e.com')"
  }
}
[Tasks] Tasks found: { count: 4 }
8:30:11 PM [info] GET /api/tasks 200 in 150ms :: [{"id":599,"title":"New User Invitation: 26@e.com","description":"Complete us...
8:30:11 PM [info] GET /api/companies/current 304 in 32ms :: {"id":232,"name":"DevTest26","description":"FinTech partner company DevTest26...
8:30:11 PM [info] GET /api/companies/current 304 in 41ms :: {"id":232,"name":"DevTest26","description":"FinTech partner company DevTest26...
[WebSocket] Received ping
[Current Company] Fetching company for user: { userId: 273, companyId: 232 }
[Current Company] Found company: {
  id: 232,
  name: 'DevTest26',
  onboardingCompleted: false,
  riskScore: null,
  isDemo: true
}
8:30:21 PM [info] GET /api/companies/current 304 in 62ms :: {"id":232,"name":"DevTest26","description":"FinTech partner company DevTest26...
[Auth] Processing /api/auth/user request
[Auth] Request authentication state: {
  isAuthenticated: true,
  hasUser: true,
  sessionID: 'D7RQIVtFJGOgeD_1XKEHhUl7_Oo915eB'
}
[Auth] Returning user session data: { id: 273, email: '26@e.com', company_id: 232 }
8:30:24 PM [info] GET /api/tasks 304 in 30ms :: [{"id":599,"title":"New User Invitation: 26@e.com","description":"Complete us...
8:30:24 PM [info] GET /api/companies/current 304 in 34ms :: {"id":232,"name":"DevTest26","description":"FinTech partner company DevTest26...
[Files] Starting file fetch request
[Files] Request parameters: {
  companyId: '232',
  userId: 273,
  query: { company_id: '232', page: '1', pageSize: '5' },
  user: {
    id: 273,
    email: '26@e.com',
    full_name: 'John Doe',
    first_name: 'John',
    last_name: 'Doe',
    password: '$2b$10$yqpCXXA3HWPiVzuLrykbHe7rJ9oeqFvgnnytBnzhNmZussPTErh2C',
    company_id: 232,
    onboarding_user_completed: true,
    created_at: 2025-04-21T11:09:55.468Z,
    updated_at: 2025-04-21T11:10:48.533Z
  }
}
[Files] Executing database query for company: 232
[Files] Query results: {
  recordCount: 2,
  totalFiles: 2,
  page: 1,
  pageSize: 5,
  firstRecord: {
    id: 774,
    name: 'spglobal_ky3p_security_assessment_devtest26_2025-04-21T111206062Z.csv',
    size: 39015,
    type: 'text/csv',
    path: 'database:Question Number,Group,Question,Answer,Type\n' +
      '"1","Development","Describe how your organization maintains and updates its inventory of external information systems.","Our external information systems inventory is updated monthly and validated through automated discovery tools and manual audits.","TEXTAREA"\n' +
      `"2","Development","Explain the process your organization follows to notify data controllers promptly upon becoming aware of a privacy data breach.","Controllers are promptly notified of privacy data breaches within 24 hours of our organization's awareness, including detailed incident information and remediation steps.","TEXTAREA"\n` +
      `"3","Development","Detail your organization's formal procedures for reporting and responding to privacy-related incidents.","Formal procedures are in place for reporting, managing, and responding to privacy-related incidents, ensuring prompt and appropriate actions are taken.","TEXTAREA"\n` +
      '"4","Development","Describe how your organization provides publicly accessible privacy notices or policies at all points of personal data collection and processing.","Privacy notices and policies are publicly accessible at every point where personal data is collected, stored, processed, or transmitted, clearly detailing usage and rights.","TEXTAREA"\n' +
      `"5","Development","Explain how your organization's privacy policies and standards are designed to protect customer privacy and comply with global and local privacy regulations (e.g., GDPR, CCPA, CPPA, GLBA).","Privacy policies and standards are fully compliant with global and regional privacy laws, including GDPR, CCPA, CPPA, and GLBA, supported by regular compliance audits.","TEXTAREA"\n` +
      `"6","Development","Explain your organization's practices for retaining personal data only for the duration necessary for its intended purposes.","Personal data is retained only as long as required to fulfill the explicit purposes for which it was collected, after which it is securely destroyed.","TEXTAREA"\n` +
      '"7","Development","Describe how your organization ensures that personal data collection and processing is limited to what is strictly necessary for intended purposes.","Collection and processing of personal data are strictly limited to essential business purposes, following clearly documented data minimization principles.","TEXTAREA"\n' +
      '"8","Development","Detail the technical measures your organization employs, such as pseudonymization or encryption, to implement data minimization principles.","Data minimization is enforced through technical measures such as pseudonymization, anonymization, and strong encryption practices in line with privacy regulations.","TEXTAREA"\n' +
      `"9","Development","Detail your organization's appointment of a Data Protection Officer (DPO), their role in compliance oversight, and the implementation of clear, informed user consent mechanisms, including withdrawal processes.","A Data Protection Officer (DPO) has been formally appointed, responsible for overseeing compliance and ensuring informed consent mechanisms, including clear consent withdrawal procedures.","TEXTAREA"\n` +
      `"10","Development","Summarize the components and key stages of your organization's written System Development Lifecycle (SDLC).","Our System Development Lifecycle (SDLC) includes defined stages: requirements gathering, secure development, rigorous testing, deployment, and post-release maintenance.","TEXTAREA"\n` +
      '"11","Development","Explain how your organization verifies that developers adhere to secure coding standards through source code reviews.","Secure source code reviews are performed regularly to ensure developers follow established secure coding standards and practices prior to deployment.","TEXTAREA"\n' +
      `"12","Development","Detail your organization's practices for performing automated static or dynamic source code scanning.","Static and dynamic source code scanning tools are used during development cycles and prior to deployment to identify and remediate security vulnerabilities.","TEXTAREA"\n` +
      `"13","Development","Describe your organization's approach to restricting developer access to production environments or securing systems during code deployment.","Developer access to production environments is strictly controlled and monitored, restricted by role-based permissions and audited regularly.","TEXTAREA"\n` +
      `"14","Development","Explain your organization's documented requirements for backing up and restoring critical systems in cases of data loss or corruption.","Our backup and recovery documentation clearly defines requirements and procedures for system backups, data restoration, and data integrity checks.","TEXTAREA"\n` +
      `"15","Development","Explain your organization's coverage under Cyber Liability, Network Security, and Privacy Liability Insurance policies.","We hold Cyber Liability, Network Security, and Privacy Liability Insurance with coverage adequate to mitigate potential cyber incident impacts.","TEXTAREA"\n` +
      '"16","Development","Explain the procedures or technical measures your organization employs to define and document physical locations for processing and backing up customer data in cloud environments.","Cloud data locations are tracked and documented through automated asset management tools and regular manual validations.","TEXTAREA"\n' +
      `"17","Development","Outline your organization's exercise and testing program to demonstrate connectivity, capacity, and functionality at alternate recovery facilities.","We regularly test connectivity, recovery time objectives, and system capacity at alternate recovery sites through annual resilience exercises.","TEXTAREA"\n` +
      '"18","Development","Provide details on the established process your organization uses to grant logical access only to authorized individuals with legitimate business requirements.","Logical access is granted only after managerial approval, with regular access reviews conducted quarterly to confirm continued business justification.","TEXTAREA"\n' +
      `"19","Development","Explain your organization's procedures and tools for promptly investigating notifications from cybersecurity detection systems.","Notifications from detection systems trigger immediate investigation protocols managed by our 24/7 security operations center (SOC).","TEXTAREA"\n` +
      '"20","Development","Describe how your organization conducts comprehensive disaster recovery tests or exercises for all critical technology components, including frequency and scope.","Comprehensive disaster recovery tests covering all critical technology components are conducted annually, with results documented and improvements identified.","TEXTAREA"\n' +
      '"21","Development","Provide details on how and when your organization conducts vulnerability scans for applications, including APIs, especially following significant changes or updates.","Application vulnerability scans are conducted quarterly and immediately after significant application changes, identifying and mitigating vulnerabilities promptly.","TEXTAREA"\n' +
      `"22","Development","Explain your organization's method for documenting and resolving issues identified during business continuity testing, including action planning and target timelines.","Issues identified during continuity tests are documented, tracked through resolution, and addressed with specific action plans and targeted completion dates.","TEXTAREA"\n` +
      '"23","Development","Describe how your organization enables cloud service consumers (CSCs) to programmatically retrieve their data via encrypted application interfaces to facilitate interoperability and portability.","Cloud service customers can securely retrieve their data using encrypted application programming interfaces (APIs), supporting interoperability and easy portability.","TEXTAREA"\n' +
      '"24","Development","Detail the process for updating recovery documentation and systems at alternate sites after changes to primary systems or business processes.","Recovery documentation and systems at alternate sites are promptly updated following production system and business process changes.","TEXTAREA"\n' +
      '"25","Development","Describe the application-layer security solutions your organization employs, such as Web Application Firewalls (WAF) or proxy services.","Application-layer security measures include Web Application Firewalls (WAFs) and proxy services, providing protection against common web-based threats.","TEXTAREA"\n' +
      '"26","Development","Provide details on technical mechanisms, such as fail-safe systems, load balancing, or hot swapping, used to support resilience during typical and adverse scenarios.","Technical resilience mechanisms employed include load balancing, failover clustering, and hot-swappable hardware to ensure continuous operations under adverse conditions.","TEXTAREA"\n' +
      `"27","Development","Describe how your organization's resilience planning incorporates critical external dependencies and business partners, including participation in resilience exercises.","Critical external dependencies and business partners are integrated into our resilience strategy, participating in joint planning and periodic exercises.","TEXTAREA"\n` +
      `"28","Development","Explain your organization's procedures for regularly testing backup and replication processes, including full system recovery tests.","Backup and replication processes are thoroughly tested quarterly, including full-system recoveries, to validate their effectiveness and reliability.","TEXTAREA"\n` +
      `"29","Development","Describe your organization's penetration testing processes, including frequency and triggering events, for hosted internet-facing applications and APIs.","Application penetration tests are performed annually and after significant updates, utilizing independent third-party testing to validate application security.","TEXTAREA"\n` +
      `"30","Development","Outline your organization's incident response strategies designed to contain diverse types of cybersecurity incidents affecting your systems and information.","We maintain documented containment strategies tailored to various incident scenarios, enabling rapi`... 29015 more characters,
    status: 'uploaded',
    user_id: 273,
    company_id: 232,
    document_category: null,
    classification_status: 'pending',
    classification_confidence: null,
    created_at: 2025-04-21T11:12:06.066Z,
    updated_at: 2025-04-21T11:12:06.066Z,
    upload_time: 2025-04-21T11:12:06.066Z,
    download_count: 10,
    version: 1,
    metadata: {
      taskId: 601,
      taskType: 'sp_ky3p_assessment',
      companyName: 'DevTest26'
    }
  },
  lastRecord: {
    id: 773,
    name: 'kyb_form_600_2025-04-21T111106.csv',
    size: 2148,
    type: 'text/csv',
    path: 'Question Number,Group,Question,Answer,Type\n' +
      '1,companyProfile,Legal Entity Name,DevTest26,TEXT\n' +
      '2,companyProfile,Registration Number,12-3456789,TEXT\n' +
      '3,companyProfile,Incorporation Date,5/12/2010,DATE\n' +
      '4,companyProfile,Business Type,Limited Liability Company (LLC),TEXT\n' +
      '5,companyProfile,Jurisdiction,"Delaware, United States",TEXT\n' +
      '6,companyProfile,Registered Address,"123 Market Street, Wilmington, DE 19801",TEXT\n' +
      '7,companyProfile,Company Phone Number,(302) 555-1234,TEXT\n' +
      '8,companyProfile,Previous Name,None,TEXT\n' +
      '9,governanceLeadership,Licenses,"Money Transmitter License #MT-12345, Financial Data Provider License #FDP-98765",TEXT\n' +
      '10,governanceLeadership,Good Standing,Yes,BOOLEAN\n' +
      '11,governanceLeadership,Corporate Registration,No,TEXT\n' +
      '12,governanceLeadership,External Audit,No,BOOLEAN\n' +
      '13,governanceLeadership,Control Environment,Yes,BOOLEAN\n' +
      '14,governanceLeadership,Authorized Signers,"John Smith (CEO), Sarah Johnson (CFO), Michael Wong (COO)",TEXT\n' +
      '15,governanceLeadership,Government Ownership,No,BOOLEAN\n' +
      '16,governanceLeadership,Ultimate Beneficial Owners,None,TEXT\n' +
      '17,governanceLeadership,Directors and Officers,"John Smith (Chairman), Jane Doe (Director), Mike Johnson (Director)",TEXT\n' +
      '18,governanceLeadership,Representative Email,26@e.com,EMAIL\n' +
      '19,financialProfile,Market Capitalization,$75 million (privately held),TEXT\n' +
      '20,financialProfile,Lifetime Customer Value,"$1,250",TEXT\n' +
      '21,financialProfile,Annual Recurring Revenue,"5,000,000",MULTIPLE_CHOICE\n' +
      '22,financialProfile,Monthly Recurring Revenue,"12,500,000",TEXT\n' +
      '23,operationsCompliance,Legal Investigations,No significant incidents in the past 3 years,BOOLEAN\n' +
      '24,operationsCompliance,Financial Statements,Yes,TEXT\n' +
      '25,operationsCompliance,Operational Policies,"ISO 27001 certified, SOC 2 Type II compliant",TEXT\n' +
      '26,operationsCompliance,Data Volume,Approximately 2 million records per month,TEXT\n' +
      '27,operationsCompliance,Data Types,"Financial transaction data, Account balances, Customer KYC information",TEXT\n' +
      '28,operationsCompliance,Sanctions Check,Approximately 2 million records per month,TEXT\n' +
      '29,operationsCompliance,Due Diligence,Yes,TEXT\n' +
      '30,operationsCompliance,Regulatory Orders,Yes,BOOLEAN',
    status: 'uploaded',
    user_id: 183,
    company_id: 232,
    document_category: null,
    classification_status: 'pending',
    classification_confidence: null,
    created_at: 2025-04-21T11:11:07.143Z,
    updated_at: 2025-04-21T11:11:07.143Z,
    upload_time: 2025-04-21T11:11:07.143Z,
    download_count: 11,
    version: 1,
    metadata: {}
  }
}
8:30:24 PM [info] GET /api/files 304 in 206ms :: {"data":[{"id":774,"name":"spglobal_ky3p_security_assessment_devtest26_2025-0...
[Auth] Using cached user data: 273
8:30:26 PM [info] GET /api/companies/current 304 in 30ms :: {"id":232,"name":"DevTest26","description":"FinTech partner company DevTest26...
8:30:26 PM [info] GET /api/tasks 304 in 29ms :: [{"id":599,"title":"New User Invitation: 26@e.com","description":"Complete us...
8:30:27 PM [info] GET /api/companies/current 304 in 30ms :: {"id":232,"name":"DevTest26","description":"FinTech partner company DevTest26...
[Tasks Routes] Updating task progress: { taskId: 602, timestamp: '2025-04-21T20:30:28.516Z' }
[Auth] Returning user session data
[Task Templates API] Fetching template for task type: open_banking_survey, user: 273
[Task Reconciliation] Fetching Open Banking responses for task 602
8:30:28 PM [info] GET /api/companies/current 304 in 32ms :: {"id":232,"name":"DevTest26","description":"FinTech partner company DevTest26...
[Task Templates API] No active template found for task type: open_banking_survey
8:30:28 PM [warn] GET /api/task-templates/by-type/open_banking_survey 404 in 64ms :: {"error":"No active template found for task type: open_banking_survey"}
[Task Reconciliation] Recalculated Open Banking progress: {
  taskId: 602,
  totalFields: '44',
  completedFields: '44',
  currentProgress: 100,
  calculatedProgress: 100
}
[Tasks Routes] Task progress reconciled: {
  taskId: 602,
  progress: 100,
  status: 'ready_for_submission',
  timestamp: '2025-04-21T20:30:28.642Z'
}
8:30:28 PM [info] POST /api/tasks/602/update-progress 200 in 157ms :: {"success":true,"progress":100,"status":"ready_for_submission","taskId":602}
[Tasks Routes] Fetching task by ID: {
  taskId: 602,
  userCompanyId: 232,
  timestamp: '2025-04-21T20:30:28.764Z'
}
[Tasks Routes] Task found by ID: {
  taskId: 602,
  title: '3. Open Banking Survey: DevTest26',
  type: 'open_banking',
  formDataFields: 0,
  timestamp: '2025-04-21T20:30:28.794Z'
}
8:30:28 PM [info] GET /api/tasks/602 304 in 61ms :: {"id":602,"title":"3. Open Banking Survey: DevTest26","description":"Complete...
[Tasks Routes] Updating task progress: { taskId: 602, timestamp: '2025-04-21T20:30:28.988Z' }
[Tasks Routes] Fetching task by ID: {
  taskId: 602,
  userCompanyId: 232,
  timestamp: '2025-04-21T20:30:28.989Z'
}
[Tasks Routes] Updating task progress: { taskId: 602, timestamp: '2025-04-21T20:30:28.991Z' }
[Task Reconciliation] Fetching Open Banking responses for task 602
[Tasks Routes] Task found by ID: {
  taskId: 602,
  title: '3. Open Banking Survey: DevTest26',
  type: 'open_banking',
  formDataFields: 0,
  timestamp: '2025-04-21T20:30:29.019Z'
}
[Task Reconciliation] Fetching Open Banking responses for task 602
8:30:29 PM [info] GET /api/tasks/602 304 in 60ms :: {"id":602,"title":"3. Open Banking Survey: DevTest26","description":"Complete...
[Task Reconciliation] Recalculated Open Banking progress: {
  taskId: 602,
  totalFields: '44',
  completedFields: '44',
  currentProgress: 100,
  calculatedProgress: 100
}
[Task Reconciliation] Recalculated Open Banking progress: {
  taskId: 602,
  totalFields: '44',
  completedFields: '44',
  currentProgress: 100,
  calculatedProgress: 100
}
[Tasks Routes] Task progress reconciled: {
  taskId: 602,
  progress: 100,
  status: 'ready_for_submission',
  timestamp: '2025-04-21T20:30:29.106Z'
}
[Tasks Routes] Task progress reconciled: {
  taskId: 602,
  progress: 100,
  status: 'ready_for_submission',
  timestamp: '2025-04-21T20:30:29.107Z'
}
8:30:29 PM [info] POST /api/tasks/602/update-progress 200 in 145ms :: {"success":true,"progress":100,"status":"ready_for_submission","taskId":602}
8:30:29 PM [info] POST /api/tasks/602/update-progress 200 in 150ms :: {"success":true,"progress":100,"status":"ready_for_submission","taskId":602}
[Tasks Routes] Fetching task by ID: {
  taskId: 602,
  userCompanyId: 232,
  timestamp: '2025-04-21T20:30:29.200Z'
}
[2025-04-21T20:30:29.202Z] [INFO] [OpenBankingRoutes] [OpenBankingRoutes] Fetching progress for task {"taskId":602}
[Tasks Routes] Task found by ID: {
  taskId: 602,
  title: '3. Open Banking Survey: DevTest26',
  type: 'open_banking',
  formDataFields: 0,
  timestamp: '2025-04-21T20:30:29.229Z'
}
8:30:29 PM [info] GET /api/tasks/602 304 in 59ms :: {"id":602,"title":"3. Open Banking Survey: DevTest26","description":"Complete...
8:30:29 PM [info] GET /api/open-banking/progress/602 200 in 143ms :: {"formData":{"dataSchemaAlignment":"Our API data structures fully align with ...
[Tasks Routes] Fetching task by ID: {
  taskId: 602,
  userCompanyId: 232,
  timestamp: '2025-04-21T20:30:29.406Z'
}
[2025-04-21T20:30:29.411Z] [INFO] [OpenBankingRoutes] [OpenBankingRoutes] Fetching progress for task {"taskId":602}
[Tasks Routes] Task found by ID: {
  taskId: 602,
  title: '3. Open Banking Survey: DevTest26',
  type: 'open_banking',
  formDataFields: 0,
  timestamp: '2025-04-21T20:30:29.436Z'
}
8:30:29 PM [info] GET /api/tasks/602 304 in 61ms :: {"id":602,"title":"3. Open Banking Survey: DevTest26","description":"Complete...
8:30:29 PM [info] GET /api/open-banking/progress/602 200 in 146ms :: {"formData":{"dataSchemaAlignment":"Our API data structures fully align with ...
[Tasks Routes] Updating task progress: { taskId: 602, timestamp: '2025-04-21T20:30:29.633Z' }
[Task Reconciliation] Fetching Open Banking responses for task 602
[Task Reconciliation] Recalculated Open Banking progress: {
  taskId: 602,
  totalFields: '44',
  completedFields: '44',
  currentProgress: 100,
  calculatedProgress: 100
}
[Tasks Routes] Task progress reconciled: {
  taskId: 602,
  progress: 100,
  status: 'ready_for_submission',
  timestamp: '2025-04-21T20:30:29.755Z'
}
8:30:29 PM [info] POST /api/tasks/602/update-progress 200 in 154ms :: {"success":true,"progress":100,"status":"ready_for_submission","taskId":602}
8:30:37 PM [info] GET /api/companies/current 304 in 34ms :: {"id":232,"name":"DevTest26","description":"FinTech partner company DevTest26...